(()=>{var xb=Object.create;var T0=Object.defineProperty,_b=Object.defineProperties,Sb=Object.getOwnPropertyDescriptor,Lb=Object.getOwnPropertyDescriptors,Eb=Object.getOwnPropertyNames,V0=Object.getOwnPropertySymbols,Ib=Object.getPrototypeOf,Mc=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable;var n8=(e,t,n)=>t in e?T0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,le=(e,t)=>{for(var n in t||(t={}))Mc.call(t,n)&&n8(e,n,t[n]);if(V0)for(var n of V0(t))t8.call(t,n)&&n8(e,n,t[n]);return e},$e=(e,t)=>_b(e,Lb(t)),Mb=e=>T0(e,"__esModule",{value:!0});var K=(e,t)=>{var n={};for(var r in e)Mc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&V0)for(var r of V0(e))t.indexOf(r)<0&&t8.call(e,r)&&(n[r]=e[r]);return n};var P1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Rb=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Eb(t))!Mc.call(e,r)&&r!=="default"&&T0(e,r,{get:()=>t[r],enumerable:!(n=Sb(t,r))||n.enumerable});return e},M=e=>Rb(Mb(T0(e!=null?xb(Ib(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Rc=P1((vB,o8)=>{"use strict";var r8=Object.getOwnPropertySymbols,Ob=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable;function kb(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Hb(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}o8.exports=Hb()?Object.assign:function(e,t){for(var n,r=kb(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)Ob.call(n,s)&&(r[s]=n[s]);if(r8){o=r8(n);for(var a=0;a<o.length;a++)Pb.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r}});var y8=P1(He=>{"use strict";var Oc=Rc(),wi=60103,i8=60106;He.Fragment=60107;He.StrictMode=60108;He.Profiler=60114;var s8=60109,a8=60110,l8=60112;He.Suspense=60113;var c8=60115,u8=60116;typeof Symbol=="function"&&Symbol.for&&(Kn=Symbol.for,wi=Kn("react.element"),i8=Kn("react.portal"),He.Fragment=Kn("react.fragment"),He.StrictMode=Kn("react.strict_mode"),He.Profiler=Kn("react.profiler"),s8=Kn("react.provider"),a8=Kn("react.context"),l8=Kn("react.forward_ref"),He.Suspense=Kn("react.suspense"),c8=Kn("react.memo"),u8=Kn("react.lazy"));var Kn,d8=typeof Symbol=="function"&&Symbol.iterator;function Tb(e){return e===null||typeof e!="object"?null:(e=d8&&e[d8]||e["@@iterator"],typeof e=="function"?e:null)}function Ca(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p8={};function yi(e,t,n){this.props=e,this.context=t,this.refs=p8,this.updater=n||f8}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Ca(85));this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h8(){}h8.prototype=yi.prototype;function Pc(e,t,n){this.props=e,this.context=t,this.refs=p8,this.updater=n||f8}var kc=Pc.prototype=new h8;kc.constructor=Pc;Oc(kc,yi.prototype);kc.isPureReactComponent=!0;var Hc={current:null},v8=Object.prototype.hasOwnProperty,g8={key:!0,ref:!0,__self:!0,__source:!0};function m8(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)v8.call(t,r)&&!g8.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:wi,type:e,key:i,ref:s,props:o,_owner:Hc.current}}function Vb(e,t){return{$$typeof:wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function Bb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var C8=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bb(""+e.key):t.toString(36)}function B0(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case wi:case i8:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Vc(s,0):r,Array.isArray(o)?(n="",e!=null&&(n=e.replace(C8,"$&/")+"/"),B0(o,t,n,"",function(c){return c})):o!=null&&(Tc(o)&&(o=Vb(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C8,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Vc(i,a);s+=B0(i,t,n,l,o)}else if(l=Tb(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Vc(i,a++),s+=B0(i,t,n,l,o);else if(i==="object")throw t=""+e,Error(Ca(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A0(e,t,n){if(e==null)return e;var r=[],o=0;return B0(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Ab(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var w8={current:null};function r1(){var e=w8.current;if(e===null)throw Error(Ca(321));return e}var Db={ReactCurrentDispatcher:w8,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Hc,IsSomeRendererActing:{current:!1},assign:Oc};He.Children={map:A0,forEach:function(e,t,n){A0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A0(e,function(){t++}),t},toArray:function(e){return A0(e,function(t){return t})||[]},only:function(e){if(!Tc(e))throw Error(Ca(143));return e}};He.Component=yi;He.PureComponent=Pc;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Db;He.cloneElement=function(e,t,n){if(e==null)throw Error(Ca(267,e));var r=Oc({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Hc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)v8.call(t,l)&&!g8.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wi,type:e.type,key:o,ref:i,props:r,_owner:s}};He.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:a8,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:s8,_context:e},e.Consumer=e};He.createElement=m8;He.createFactory=function(e){var t=m8.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:l8,render:e}};He.isValidElement=Tc;He.lazy=function(e){return{$$typeof:u8,_payload:{_status:-1,_result:e},_init:Ab}};He.memo=function(e,t){return{$$typeof:c8,type:e,compare:t===void 0?null:t}};He.useCallback=function(e,t){return r1().useCallback(e,t)};He.useContext=function(e,t){return r1().useContext(e,t)};He.useDebugValue=function(){};He.useEffect=function(e,t){return r1().useEffect(e,t)};He.useImperativeHandle=function(e,t,n){return r1().useImperativeHandle(e,t,n)};He.useLayoutEffect=function(e,t){return r1().useLayoutEffect(e,t)};He.useMemo=function(e,t){return r1().useMemo(e,t)};He.useReducer=function(e,t,n){return r1().useReducer(e,t,n)};He.useRef=function(e){return r1().useRef(e)};He.useState=function(e){return r1().useState(e)};He.version="17.0.2"});var R=P1((mB,b8)=>{"use strict";b8.exports=y8()});var I8=P1(Fe=>{"use strict";var bi,wa,D0,Bc;typeof performance=="object"&&typeof performance.now=="function"?(x8=performance,Fe.unstable_now=function(){return x8.now()}):(Ac=Date,_8=Ac.now(),Fe.unstable_now=function(){return Ac.now()-_8});var x8,Ac,_8;typeof window=="undefined"||typeof MessageChannel!="function"?(xi=null,Dc=null,jc=function(){if(xi!==null)try{var e=Fe.unstable_now();xi(!0,e),xi=null}catch(t){throw setTimeout(jc,0),t}},bi=function(e){xi!==null?setTimeout(bi,0,e):(xi=e,setTimeout(jc,0))},wa=function(e,t){Dc=setTimeout(e,t)},D0=function(){clearTimeout(Dc)},Fe.unstable_shouldYield=function(){return!1},Bc=Fe.unstable_forceFrameRate=function(){}):(S8=window.setTimeout,L8=window.clearTimeout,typeof console!="undefined"&&(E8=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof E8!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),ya=!1,ba=null,j0=-1,Nc=5,Zc=0,Fe.unstable_shouldYield=function(){return Fe.unstable_now()>=Zc},Bc=function(){},Fe.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Nc=0<e?Math.floor(1e3/e):5},$c=new MessageChannel,N0=$c.port2,$c.port1.onmessage=function(){if(ba!==null){var e=Fe.unstable_now();Zc=e+Nc;try{ba(!0,e)?N0.postMessage(null):(ya=!1,ba=null)}catch(t){throw N0.postMessage(null),t}}else ya=!1},bi=function(e){ba=e,ya||(ya=!0,N0.postMessage(null))},wa=function(e,t){j0=S8(function(){e(Fe.unstable_now())},t)},D0=function(){L8(j0),j0=-1});var xi,Dc,jc,S8,L8,E8,ya,ba,j0,Nc,Zc,$c,N0;function Fc(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(o!==void 0&&0<$0(o,t))e[r]=t,e[n]=o,n=r;else break e}}function Cr(e){return e=e[0],e===void 0?null:e}function Z0(e){var t=e[0];if(t!==void 0){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,s=e[i],a=i+1,l=e[a];if(s!==void 0&&0>$0(s,n))l!==void 0&&0>$0(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[i]=n,r=i);else if(l!==void 0&&0>$0(l,n))e[r]=l,e[a]=n,r=a;else break e}}return t}return null}function $0(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}var Hr=[],k1=[],jb=1,Wn=null,rn=3,F0=!1,Eo=!1,xa=!1;function Uc(e){for(var t=Cr(k1);t!==null;){if(t.callback===null)Z0(k1);else if(t.startTime<=e)Z0(k1),t.sortIndex=t.expirationTime,Fc(Hr,t);else break;t=Cr(k1)}}function zc(e){if(xa=!1,Uc(e),!Eo)if(Cr(Hr)!==null)Eo=!0,bi(Kc);else{var t=Cr(k1);t!==null&&wa(zc,t.startTime-e)}}function Kc(e,t){Eo=!1,xa&&(xa=!1,D0()),F0=!0;var n=rn;try{for(Uc(t),Wn=Cr(Hr);Wn!==null&&(!(Wn.expirationTime>t)||e&&!Fe.unstable_shouldYield());){var r=Wn.callback;if(typeof r=="function"){Wn.callback=null,rn=Wn.priorityLevel;var o=r(Wn.expirationTime<=t);t=Fe.unstable_now(),typeof o=="function"?Wn.callback=o:Wn===Cr(Hr)&&Z0(Hr),Uc(t)}else Z0(Hr);Wn=Cr(Hr)}if(Wn!==null)var i=!0;else{var s=Cr(k1);s!==null&&wa(zc,s.startTime-t),i=!1}return i}finally{Wn=null,rn=n,F0=!1}}var Nb=Bc;Fe.unstable_IdlePriority=5;Fe.unstable_ImmediatePriority=1;Fe.unstable_LowPriority=4;Fe.unstable_NormalPriority=3;Fe.unstable_Profiling=null;Fe.unstable_UserBlockingPriority=2;Fe.unstable_cancelCallback=function(e){e.callback=null};Fe.unstable_continueExecution=function(){Eo||F0||(Eo=!0,bi(Kc))};Fe.unstable_getCurrentPriorityLevel=function(){return rn};Fe.unstable_getFirstCallbackNode=function(){return Cr(Hr)};Fe.unstable_next=function(e){switch(rn){case 1:case 2:case 3:var t=3;break;default:t=rn}var n=rn;rn=t;try{return e()}finally{rn=n}};Fe.unstable_pauseExecution=function(){};Fe.unstable_requestPaint=Nb;Fe.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=rn;rn=e;try{return t()}finally{rn=n}};Fe.unstable_scheduleCallback=function(e,t,n){var r=Fe.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:jb++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,Fc(k1,e),Cr(Hr)===null&&e===Cr(k1)&&(xa?D0():xa=!0,wa(zc,n-r))):(e.sortIndex=o,Fc(Hr,e),Eo||F0||(Eo=!0,bi(Kc))),e};Fe.unstable_wrapCallback=function(e){var t=rn;return function(){var n=rn;rn=t;try{return e.apply(this,arguments)}finally{rn=n}}}});var R8=P1((wB,M8)=>{"use strict";M8.exports=I8()});var gp=P1(Jn=>{"use strict";var U0=R(),lt=Rc(),Nt=R8();function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!U0)throw Error(Z(227));var O8=new Set,_a={};function Io(e,t){_i(e,t),_i(e+"Capture",t)}function _i(e,t){for(_a[e]=t,e=0;e<t.length;e++)O8.add(t[e])}var o1=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Zb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P8=Object.prototype.hasOwnProperty,k8={},H8={};function $b(e){return P8.call(H8,e)?!0:P8.call(k8,e)?!1:Zb.test(e)?H8[e]=!0:(k8[e]=!0,!1)}function Fb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ub(e,t,n,r){if(t===null||typeof t=="undefined"||Fb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wc,Xc);Wt[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wc,Xc);Wt[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wc,Xc);Wt[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yc(e,t,n,r){var o=Wt.hasOwnProperty(t)?Wt[t]:null,i=o!==null?o.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");i||(Ub(t,n,o,r)&&(n=null),r||o===null?$b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mo=U0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=60103,Ro=60106,H1=60107,Gc=60108,La=60114,qc=60109,Qc=60110,z0=60112,Ea=60113,K0=60120,W0=60115,Jc=60116,eu=60121,tu=60128,T8=60129,nu=60130,ru=60131;typeof Symbol=="function"&&Symbol.for&&(kt=Symbol.for,Sa=kt("react.element"),Ro=kt("react.portal"),H1=kt("react.fragment"),Gc=kt("react.strict_mode"),La=kt("react.profiler"),qc=kt("react.provider"),Qc=kt("react.context"),z0=kt("react.forward_ref"),Ea=kt("react.suspense"),K0=kt("react.suspense_list"),W0=kt("react.memo"),Jc=kt("react.lazy"),eu=kt("react.block"),kt("react.scope"),tu=kt("react.opaque.id"),T8=kt("react.debug_trace_mode"),nu=kt("react.offscreen"),ru=kt("react.legacy_hidden"));var kt,V8=typeof Symbol=="function"&&Symbol.iterator;function Ia(e){return e===null||typeof e!="object"?null:(e=V8&&e[V8]||e["@@iterator"],typeof e=="function"?e:null)}var ou;function Ma(e){if(ou===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ou=t&&t[1]||""}return`
`+ou+e}var iu=!1;function X0(e,t){if(!e||iu)return"";iu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a])return`
`+o[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{iu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ma(e):""}function zb(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=X0(e.type,!1),e;case 11:return e=X0(e.type.render,!1),e;case 22:return e=X0(e.type._render,!1),e;case 1:return e=X0(e.type,!0),e;default:return""}}function Si(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H1:return"Fragment";case Ro:return"Portal";case La:return"Profiler";case Gc:return"StrictMode";case Ea:return"Suspense";case K0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qc:return(e.displayName||"Context")+".Consumer";case qc:return(e._context.displayName||"Context")+".Provider";case z0:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case W0:return Si(e.type);case eu:return Si(e._render);case Jc:t=e._payload,e=e._init;try{return Si(e(t))}catch{}}return null}function T1(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function B8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kb(e){var t=B8(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Y0(e){e._valueTracker||(e._valueTracker=Kb(e))}function A8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B8(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function G0(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function su(e,t){var n=t.checked;return lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function D8(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=T1(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j8(e,t){t=t.checked,t!=null&&Yc(e,"checked",t,!1)}function au(e,t){j8(e,t);var n=T1(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lu(e,t.type,n):t.hasOwnProperty("defaultValue")&&lu(e,t.type,T1(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N8(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lu(e,t,n){(t!=="number"||G0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Wb(e){var t="";return U0.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function cu(e,t){return e=lt({children:void 0},t),(t=Wb(t.children))&&(e.children=t),e}function Li(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+T1(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z8(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:T1(n)}}function $8(e,t){var n=T1(t.value),r=T1(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function F8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var du={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function U8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?U8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var q0,z8=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!==du.svg||"innerHTML"in e)e.innerHTML=t;else{for(q0=q0||document.createElement("div"),q0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=q0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xb=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(e){Xb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oa[t]=Oa[e]})});function K8(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oa.hasOwnProperty(e)&&Oa[e]?(""+t).trim():t+"px"}function W8(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=K8(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Yb=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(e,t){if(t){if(Yb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function hu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gu=null,Ei=null,Ii=null;function X8(e){if(e=Xa(e)){if(typeof gu!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=C2(t),gu(e.stateNode,e.type,t))}}function Y8(e){Ei?Ii?Ii.push(e):Ii=[e]:Ei=e}function G8(){if(Ei){var e=Ei,t=Ii;if(Ii=Ei=null,X8(e),t)for(e=0;e<t.length;e++)X8(t[e])}}function mu(e,t){return e(t)}function q8(e,t,n,r,o){return e(t,n,r,o)}function Cu(){}var Q8=mu,Oo=!1,wu=!1;function yu(){(Ei!==null||Ii!==null)&&(Cu(),G8())}function Gb(e,t,n){if(wu)return e(t,n);wu=!0;try{return Q8(e,t,n)}finally{wu=!1,yu()}}function Pa(e,t){var n=e.stateNode;if(n===null)return null;var r=C2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var bu=!1;if(o1)try{Mi={},Object.defineProperty(Mi,"passive",{get:function(){bu=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{bu=!1}var Mi;function qb(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ka=!1,Q0=null,J0=!1,xu=null,Qb={onError:function(e){ka=!0,Q0=e}};function Jb(e,t,n,r,o,i,s,a,l){ka=!1,Q0=null,qb.apply(Qb,arguments)}function ex(e,t,n,r,o,i,s,a,l){if(Jb.apply(this,arguments),ka){if(ka){var c=Q0;ka=!1,Q0=null}else throw Error(Z(198));J0||(J0=!0,xu=c)}}function Po(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!=0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function J8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e6(e){if(Po(e)!==e)throw Error(Z(188))}function tx(e){var t=e.alternate;if(!t){if(t=Po(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return e6(o),e;if(i===r)return e6(o),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function t6(e){if(e=tx(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function n6(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var r6,_u,o6,i6,Su=!1,Tr=[],V1=null,B1=null,A1=null,Ha=new Map,Ta=new Map,Va=[],s6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lu(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function a6(e,t){switch(e){case"focusin":case"focusout":V1=null;break;case"dragenter":case"dragleave":B1=null;break;case"mouseover":case"mouseout":A1=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(t.pointerId)}}function Ba(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e=Lu(t,n,r,o,i),t!==null&&(t=Xa(t),t!==null&&_u(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function nx(e,t,n,r,o){switch(t){case"focusin":return V1=Ba(V1,e,t,n,r,o),!0;case"dragenter":return B1=Ba(B1,e,t,n,r,o),!0;case"mouseover":return A1=Ba(A1,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ha.set(i,Ba(Ha.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ta.set(i,Ba(Ta.get(i)||null,e,t,n,r,o)),!0}return!1}function rx(e){var t=ko(e.target);if(t!==null){var n=Po(t);if(n!==null){if(t=n.tag,t===13){if(t=J8(n),t!==null){e.blockedOn=t,i6(e.lanePriority,function(){Nt.unstable_runWithPriority(e.priority,function(){o6(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=Xa(n),t!==null&&_u(t),e.blockedOn=n,!1;t.shift()}return!0}function l6(e,t,n){e2(e)&&n.delete(t)}function ox(){for(Su=!1;0<Tr.length;){var e=Tr[0];if(e.blockedOn!==null){e=Xa(e.blockedOn),e!==null&&r6(e);break}for(var t=e.targetContainers;0<t.length;){var n=Pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Tr.shift()}V1!==null&&e2(V1)&&(V1=null),B1!==null&&e2(B1)&&(B1=null),A1!==null&&e2(A1)&&(A1=null),Ha.forEach(l6),Ta.forEach(l6)}function Aa(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,ox)))}function c6(e){function t(o){return Aa(o,e)}if(0<Tr.length){Aa(Tr[0],e);for(var n=1;n<Tr.length;n++){var r=Tr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(V1!==null&&Aa(V1,e),B1!==null&&Aa(B1,e),A1!==null&&Aa(A1,e),Ha.forEach(t),Ta.forEach(t),n=0;n<Va.length;n++)r=Va[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)rx(n),n.blockedOn===null&&Va.shift()}function t2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ri={animationend:t2("Animation","AnimationEnd"),animationiteration:t2("Animation","AnimationIteration"),animationstart:t2("Animation","AnimationStart"),transitionend:t2("Transition","TransitionEnd")},Eu={},u6={};o1&&(u6=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function n2(e){if(Eu[e])return Eu[e];if(!Ri[e])return e;var t=Ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u6)return Eu[e]=t[n];return e}var d6=n2("animationend"),f6=n2("animationiteration"),p6=n2("animationstart"),h6=n2("transitionend"),v6=new Map,Iu=new Map,ix=["abort","abort",d6,"animationEnd",f6,"animationIteration",p6,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",h6,"transitionEnd","waiting","waiting"];function Mu(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Iu.set(r,t),v6.set(r,o),Io(o,[r])}}var sx=Nt.unstable_now;sx();var Ge=8;function Oi(e){if((1&e)!=0)return Ge=15,1;if((2&e)!=0)return Ge=14,2;if((4&e)!=0)return Ge=13,4;var t=24&e;return t!==0?(Ge=12,t):(e&32)!=0?(Ge=11,32):(t=192&e,t!==0?(Ge=10,t):(e&256)!=0?(Ge=9,256):(t=3584&e,t!==0?(Ge=8,t):(e&4096)!=0?(Ge=7,4096):(t=4186112&e,t!==0?(Ge=6,t):(t=62914560&e,t!==0?(Ge=5,t):e&67108864?(Ge=4,67108864):(e&134217728)!=0?(Ge=3,134217728):(t=805306368&e,t!==0?(Ge=2,t):(1073741824&e)!=0?(Ge=1,1073741824):(Ge=8,e))))))}function ax(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function lx(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Z(358,e))}}function Da(e,t){var n=e.pendingLanes;if(n===0)return Ge=0;var r=0,o=0,i=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(i!==0)r=i,o=Ge=15;else if(i=n&134217727,i!==0){var l=i&~s;l!==0?(r=Oi(l),o=Ge):(a&=i,a!==0&&(r=Oi(a),o=Ge))}else i=n&~s,i!==0?(r=Oi(i),o=Ge):a!==0&&(r=Oi(a),o=Ge);if(r===0)return 0;if(r=31-D1(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&s)==0){if(Oi(t),o<=Ge)return t;Ge=o}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-D1(t),o=1<<n,r|=e[n],t&=~o;return r}function g6(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function r2(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Pi(24&~t),e===0?r2(10,t):e;case 10:return e=Pi(192&~t),e===0?r2(8,t):e;case 8:return e=Pi(3584&~t),e===0&&(e=Pi(4186112&~t),e===0&&(e=512)),e;case 2:return t=Pi(805306368&~t),t===0&&(t=268435456),t}throw Error(Z(358,e))}function Pi(e){return e&-e}function Ru(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function o2(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-D1(t),e[t]=n}var D1=Math.clz32?Math.clz32:dx,cx=Math.log,ux=Math.LN2;function dx(e){return e===0?32:31-(cx(e)/ux|0)|0}var fx=Nt.unstable_UserBlockingPriority,px=Nt.unstable_runWithPriority,i2=!0;function hx(e,t,n,r){Oo||Cu();var o=Ou,i=Oo;Oo=!0;try{q8(o,e,t,n,r)}finally{(Oo=i)||yu()}}function vx(e,t,n,r){px(fx,Ou.bind(null,e,t,n,r))}function Ou(e,t,n,r){if(i2){var o;if((o=(t&4)==0)&&0<Tr.length&&-1<s6.indexOf(e))e=Lu(null,e,t,n,r),Tr.push(e);else{var i=Pu(e,t,n,r);if(i===null)o&&a6(e,r);else{if(o){if(-1<s6.indexOf(e)){e=Lu(i,e,t,n,r),Tr.push(e);return}if(nx(i,e,t,n,r))return;a6(e,r)}U6(e,t,r,null,n)}}}}function Pu(e,t,n,r){var o=vu(r);if(o=ko(o),o!==null){var i=Po(o);if(i===null)o=null;else{var s=i.tag;if(s===13){if(o=J8(i),o!==null)return o;o=null}else if(s===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return U6(e,t,r,o,n),null}var j1=null,ku=null,s2=null;function m6(){if(s2)return s2;var e,t=ku,n=t.length,r,o="value"in j1?j1.value:j1.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return s2=o.slice(e,1<r?1-r:void 0)}function a2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function l2(){return!0}function C6(){return!1}function kn(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?l2:C6,this.isPropagationStopped=C6,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=l2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=l2)},persist:function(){},isPersistent:l2}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=kn(ki),ja=lt({},ki,{view:0,detail:0}),gx=kn(ja),Tu,Vu,Na,c2=lt({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Na&&(Na&&e.type==="mousemove"?(Tu=e.screenX-Na.screenX,Vu=e.screenY-Na.screenY):Vu=Tu=0,Na=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Vu}}),w6=kn(c2),mx=lt({},c2,{dataTransfer:0}),Cx=kn(mx),wx=lt({},ja,{relatedTarget:0}),Bu=kn(wx),yx=lt({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=kn(yx),xx=lt({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_x=kn(xx),Sx=lt({},ki,{data:0}),y6=kn(Sx),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ix[e])?!!t[e]:!1}function Au(){return Mx}var Rx=lt({},ja,{key:function(e){if(e.key){var t=Lx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?a2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ox=kn(Rx),Px=lt({},c2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b6=kn(Px),kx=lt({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Hx=kn(kx),Tx=lt({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=kn(Tx),Bx=lt({},c2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ax=kn(Bx),Dx=[9,13,27,32],Du=o1&&"CompositionEvent"in window,Za=null;o1&&"documentMode"in document&&(Za=document.documentMode);var jx=o1&&"TextEvent"in window&&!Za,x6=o1&&(!Du||Za&&8<Za&&11>=Za),_6=String.fromCharCode(32),S6=!1;function L6(e,t){switch(e){case"keyup":return Dx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function Nx(e,t){switch(e){case"compositionend":return E6(t);case"keypress":return t.which!==32?null:(S6=!0,_6);case"textInput":return e=t.data,e===_6&&S6?null:e;default:return null}}function Zx(e,t){if(Hi)return e==="compositionend"||!Du&&L6(e,t)?(e=m6(),s2=ku=j1=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x6&&t.locale!=="ko"?null:t.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$x[e.type]:t==="textarea"}function M6(e,t,n,r){Y8(r),t=h2(t,"onChange"),0<t.length&&(n=new Hu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $a=null,Fa=null;function Fx(e){j6(e,0)}function u2(e){var t=Di(e);if(A8(t))return e}function Ux(e,t){if(e==="change")return t}var R6=!1;o1&&(o1?(f2="oninput"in document,f2||(ju=document.createElement("div"),ju.setAttribute("oninput","return;"),f2=typeof ju.oninput=="function"),d2=f2):d2=!1,R6=d2&&(!document.documentMode||9<document.documentMode));var d2,f2,ju;function O6(){$a&&($a.detachEvent("onpropertychange",P6),Fa=$a=null)}function P6(e){if(e.propertyName==="value"&&u2(Fa)){var t=[];if(M6(t,Fa,e,vu(e)),e=Fx,Oo)e(t);else{Oo=!0;try{mu(e,t)}finally{Oo=!1,yu()}}}}function zx(e,t,n){e==="focusin"?(O6(),$a=t,Fa=n,$a.attachEvent("onpropertychange",P6)):e==="focusout"&&O6()}function Kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u2(Fa)}function Wx(e,t){if(e==="click")return u2(t)}function Xx(e,t){if(e==="input"||e==="change")return u2(t)}function Yx(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:Yx,Gx=Object.prototype.hasOwnProperty;function Ua(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Gx.call(t,n[r])||!Xn(e[n[r]],t[n[r]]))return!1;return!0}function k6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H6(e,t){var n=k6(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k6(n)}}function T6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V6(){for(var e=window,t=G0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=G0(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qx=o1&&"documentMode"in document&&11>=document.documentMode,Ti=null,Zu=null,za=null,$u=!1;function B6(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$u||Ti==null||Ti!==G0(r)||(r=Ti,"selectionStart"in r&&Nu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&Ua(za,r)||(za=r,r=h2(Zu,"onSelect"),0<r.length&&(t=new Hu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ti)))}Mu("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Mu("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Mu(ix,2);for(Fu="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),p2=0;p2<Fu.length;p2++)Iu.set(Fu[p2],0);var Fu,p2;_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function D6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ex(r,t,void 0,e),e.currentTarget=null}function j6(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;D6(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;D6(o,a,c),i=l}}}if(J0)throw e=xu,J0=!1,xu=null,e}function tt(e,t){var n=G6(t),r=e+"__bubble";n.has(r)||(F6(t,e,2,!1),n.add(r))}var N6="_reactListening"+Math.random().toString(36).slice(2);function Z6(e){e[N6]||(e[N6]=!0,O8.forEach(function(t){A6.has(t)||$6(t,!1,e,null),$6(t,!0,e,null)}))}function $6(e,t,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=n;if(e==="selectionchange"&&n.nodeType!==9&&(i=n.ownerDocument),r!==null&&!t&&A6.has(e)){if(e!=="scroll")return;o|=2,i=r}var s=G6(i),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(o|=4),F6(i,e,o,t),s.add(a))}function F6(e,t,n,r){var o=Iu.get(t);switch(o===void 0?2:o){case 0:o=hx;break;case 1:o=vx;break;default:o=Ou}n=o.bind(null,t,n,e),o=void 0,!bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function U6(e,t,n,r,o){var i=r;if((t&1)==0&&(t&2)==0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=ko(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Gb(function(){var c=i,u=vu(n),d=[];e:{var f=v6.get(e);if(f!==void 0){var p=Hu,h=e;switch(e){case"keypress":if(a2(n)===0)break e;case"keydown":case"keyup":p=Ox;break;case"focusin":h="focus",p=Bu;break;case"focusout":h="blur",p=Bu;break;case"beforeblur":case"afterblur":p=Bu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=w6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hx;break;case d6:case f6:case p6:p=bx;break;case h6:p=Vx;break;case"scroll":p=gx;break;case"wheel":p=Ax;break;case"copy":case"cut":case"paste":p=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b6}var m=(t&4)!=0,v=!m&&e==="scroll",C=m?f!==null?f+"Capture":null:f;m=[];for(var g=c,b;g!==null;){b=g;var y=b.stateNode;if(b.tag===5&&y!==null&&(b=y,C!==null&&(y=Pa(g,C),y!=null&&m.push(Wa(g,y,b)))),v)break;g=g.return}0<m.length&&(f=new p(f,h,null,n,u),d.push({event:f,listeners:m}))}}if((t&7)==0){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&(t&16)==0&&(h=n.relatedTarget||n.fromElement)&&(ko(h)||h[Ai]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=c,h=h?ko(h):null,h!==null&&(v=Po(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=c),p!==h)){if(m=w6,y="onMouseLeave",C="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=b6,y="onPointerLeave",C="onPointerEnter",g="pointer"),v=p==null?f:Di(p),b=h==null?f:Di(h),f=new m(y,g+"leave",p,n,u),f.target=v,f.relatedTarget=b,y=null,ko(u)===c&&(m=new m(C,g+"enter",h,n,u),m.target=b,m.relatedTarget=v,y=m),v=y,p&&h)t:{for(m=p,C=h,g=0,b=m;b;b=Vi(b))g++;for(b=0,y=C;y;y=Vi(y))b++;for(;0<g-b;)m=Vi(m),g--;for(;0<b-g;)C=Vi(C),b--;for(;g--;){if(m===C||C!==null&&m===C.alternate)break t;m=Vi(m),C=Vi(C)}m=null}else m=null;p!==null&&z6(d,f,p,m,!1),h!==null&&v!==null&&z6(d,v,h,m,!0)}}e:{if(f=c?Di(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=Ux;else if(I6(f))if(R6)x=Xx;else{x=Kx;var L=zx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Wx);if(x&&(x=x(e,c))){M6(d,x,n,u);break e}L&&L(e,f,c),e==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&lu(f,"number",f.value)}switch(L=c?Di(c):window,e){case"focusin":(I6(L)||L.contentEditable==="true")&&(Ti=L,Zu=c,za=null);break;case"focusout":za=Zu=Ti=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,B6(d,n,u);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":B6(d,n,u)}var I;if(Du)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hi?L6(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(x6&&n.locale!=="ko"&&(Hi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hi&&(I=m6()):(j1=u,ku="value"in j1?j1.value:j1.textContent,Hi=!0)),L=h2(c,E),0<L.length&&(E=new y6(E,e,null,n,u),d.push({event:E,listeners:L}),I?E.data=I:(I=E6(n),I!==null&&(E.data=I)))),(I=jx?Nx(e,n):Zx(e,n))&&(c=h2(c,"onBeforeInput"),0<c.length&&(u=new y6("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}j6(d,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function h2(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Pa(e,n),i!=null&&r.unshift(Wa(e,i,o)),i=Pa(e,t),i!=null&&r.push(Wa(e,i,o))),e=e.return}return r}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z6(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Pa(n,i),l!=null&&s.unshift(Wa(n,l,a))):o||(l=Pa(n,i),l!=null&&s.push(Wa(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}function v2(){}var Uu=null,zu=null;function K6(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ku(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W6=typeof setTimeout=="function"?setTimeout:void 0,Qx=typeof clearTimeout=="function"?clearTimeout:void 0;function Wu(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function X6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xu=0;function Jx(e){return{$$typeof:tu,toString:e,valueOf:e}}var g2=Math.random().toString(36).slice(2),N1="__reactFiber$"+g2,m2="__reactProps$"+g2,Ai="__reactContainer$"+g2,Y6="__reactEvents$"+g2;function ko(e){var t=e[N1];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ai]||n[N1]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=X6(e);e!==null;){if(n=e[N1])return n;e=X6(e)}return t}e=n,n=e.parentNode}return null}function Xa(e){return e=e[N1]||e[Ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function C2(e){return e[m2]||null}function G6(e){var t=e[Y6];return t===void 0&&(t=e[Y6]=new Set),t}var Yu=[],ji=-1;function Z1(e){return{current:e}}function nt(e){0>ji||(e.current=Yu[ji],Yu[ji]=null,ji--)}function ft(e,t){ji++,Yu[ji]=e.current,e.current=t}var $1={},on=Z1($1),_n=Z1(!1),Ho=$1;function Ni(e,t){var n=e.type.contextTypes;if(!n)return $1;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Sn(e){return e=e.childContextTypes,e!=null}function w2(){nt(_n),nt(on)}function q6(e,t,n){if(on.current!==$1)throw Error(Z(168));ft(on,t),ft(_n,n)}function Q6(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Z(108,Si(t)||"Unknown",o));return lt({},n,r)}function y2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$1,Ho=on.current,ft(on,e),ft(_n,_n.current),!0}function J6(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Q6(e,t,Ho),r.__reactInternalMemoizedMergedChildContext=e,nt(_n),nt(on),ft(on,e)):nt(_n),ft(_n,n)}var Gu=null,To=null,e_=Nt.unstable_runWithPriority,qu=Nt.unstable_scheduleCallback,Qu=Nt.unstable_cancelCallback,t_=Nt.unstable_shouldYield,ef=Nt.unstable_requestPaint,Ju=Nt.unstable_now,n_=Nt.unstable_getCurrentPriorityLevel,b2=Nt.unstable_ImmediatePriority,tf=Nt.unstable_UserBlockingPriority,nf=Nt.unstable_NormalPriority,rf=Nt.unstable_LowPriority,of=Nt.unstable_IdlePriority,e3={},r_=ef!==void 0?ef:function(){},i1=null,x2=null,t3=!1,sf=Ju(),sn=1e4>sf?Ju:function(){return Ju()-sf};function Zi(){switch(n_()){case b2:return 99;case tf:return 98;case nf:return 97;case rf:return 96;case of:return 95;default:throw Error(Z(332))}}function af(e){switch(e){case 99:return b2;case 98:return tf;case 97:return nf;case 96:return rf;case 95:return of;default:throw Error(Z(332))}}function Vo(e,t){return e=af(e),e_(e,t)}function Ya(e,t,n){return e=af(e),qu(e,t,n)}function Vr(){if(x2!==null){var e=x2;x2=null,Qu(e)}lf()}function lf(){if(!t3&&i1!==null){t3=!0;var e=0;try{var t=i1;Vo(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),i1=null}catch(n){throw i1!==null&&(i1=i1.slice(e+1)),qu(b2,Vr),n}finally{t3=!1}}}var o_=Mo.ReactCurrentBatchConfig;function wr(e,t){if(e&&e.defaultProps){t=lt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var _2=Z1(null),S2=null,$i=null,L2=null;function n3(){L2=$i=S2=null}function r3(e){var t=_2.current;nt(_2),e.type._context._currentValue=t}function cf(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Fi(e,t){S2=e,L2=$i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!=0&&(yr=!0),e.firstContext=null)}function Yn(e,t){if(L2!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(L2=e,t=1073741823),t={context:e,observedBits:t,next:null},$i===null){if(S2===null)throw Error(Z(308));$i=t,S2.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var F1=!1;function o3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function U1(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function z1(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function df(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,r){var o=e.updateQueue;F1=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;if(u!==null){u=u.updateQueue;var d=u.lastBaseUpdate;d!==s&&(d===null?u.firstBaseUpdate=c:d.next=c,u.lastBaseUpdate=l)}}if(i!==null){d=o.baseState,s=0,u=c=l=null;do{a=i.lane;var f=i.eventTime;if((r&a)===a){u!==null&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,h=i;switch(a=t,f=n,h.tag){case 1:if(p=h.payload,typeof p=="function"){d=p.call(f,d,a);break e}d=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=h.payload,a=typeof p=="function"?p.call(f,d,a):p,a==null)break e;d=lt({},d,a);break e;case 2:F1=!0}}i.callback!==null&&(e.flags|=32,a=o.effects,a===null?o.effects=[i]:a.push(i))}else f={eventTime:f,lane:a,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=a;if(i=i.next,i===null){if(a=o.shared.pending,a===null)break;i=a.next,a.next=null,o.lastBaseUpdate=a,o.shared.pending=null}}while(1);u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,ll|=s,e.lanes=s,e.memoizedState=d}}function ff(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Z(191,o));o.call(r)}}}var pf=new U0.Component().refs;function E2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var I2={isMounted:function(e){return(e=e._reactInternals)?Po(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hn(),o=X1(e),i=U1(r,o);i.payload=t,n!=null&&(i.callback=n),z1(e,i),Y1(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hn(),o=X1(e),i=U1(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),z1(e,i),Y1(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hn(),r=X1(e),o=U1(n,r);o.tag=2,t!=null&&(o.callback=t),z1(e,o),Y1(e,r,n)}};function hf(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ua(n,r)||!Ua(o,i):!0}function vf(e,t,n){var r=!1,o=$1,i=t.contextType;return typeof i=="object"&&i!==null?i=Yn(i):(o=Sn(t)?Ho:on.current,r=t.contextTypes,i=(r=r!=null)?Ni(e,o):$1),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=I2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function gf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&I2.enqueueReplaceState(t,t.state,null)}function i3(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pf,o3(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Yn(i):(i=Sn(t)?Ho:on.current,o.context=Ni(e,i)),Ga(e,n,o,r),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(E2(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&I2.enqueueReplaceState(o,o.state,null),Ga(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var M2=Array.isArray;function qa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=r.refs;s===pf&&(s=r.refs={}),i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function R2(e,t){if(e.type!=="textarea")throw Error(Z(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function mf(e){function t(v,C){if(e){var g=v.lastEffect;g!==null?(g.nextEffect=C,v.lastEffect=C):v.firstEffect=v.lastEffect=C,C.nextEffect=null,C.flags=8}}function n(v,C){if(!e)return null;for(;C!==null;)t(v,C),C=C.sibling;return null}function r(v,C){for(v=new Map;C!==null;)C.key!==null?v.set(C.key,C):v.set(C.index,C),C=C.sibling;return v}function o(v,C){return v=Q1(v,C),v.index=0,v.sibling=null,v}function i(v,C,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<C?(v.flags=2,C):g):(v.flags=2,C)):C}function s(v){return e&&v.alternate===null&&(v.flags=2),v}function a(v,C,g,b){return C===null||C.tag!==6?(C=Z3(g,v.mode,b),C.return=v,C):(C=o(C,g),C.return=v,C)}function l(v,C,g,b){return C!==null&&C.elementType===g.type?(b=o(C,g.props),b.ref=qa(v,C,g),b.return=v,b):(b=W2(g.type,g.key,g.props,null,v.mode,b),b.ref=qa(v,C,g),b.return=v,b)}function c(v,C,g,b){return C===null||C.tag!==4||C.stateNode.containerInfo!==g.containerInfo||C.stateNode.implementation!==g.implementation?(C=$3(g,v.mode,b),C.return=v,C):(C=o(C,g.children||[]),C.return=v,C)}function u(v,C,g,b,y){return C===null||C.tag!==7?(C=qi(g,v.mode,b,y),C.return=v,C):(C=o(C,g),C.return=v,C)}function d(v,C,g){if(typeof C=="string"||typeof C=="number")return C=Z3(""+C,v.mode,g),C.return=v,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Sa:return g=W2(C.type,C.key,C.props,null,v.mode,g),g.ref=qa(v,null,C),g.return=v,g;case Ro:return C=$3(C,v.mode,g),C.return=v,C}if(M2(C)||Ia(C))return C=qi(C,v.mode,g,null),C.return=v,C;R2(v,C)}return null}function f(v,C,g,b){var y=C!==null?C.key:null;if(typeof g=="string"||typeof g=="number")return y!==null?null:a(v,C,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Sa:return g.key===y?g.type===H1?u(v,C,g.props.children,b,y):l(v,C,g,b):null;case Ro:return g.key===y?c(v,C,g,b):null}if(M2(g)||Ia(g))return y!==null?null:u(v,C,g,b,null);R2(v,g)}return null}function p(v,C,g,b,y){if(typeof b=="string"||typeof b=="number")return v=v.get(g)||null,a(C,v,""+b,y);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sa:return v=v.get(b.key===null?g:b.key)||null,b.type===H1?u(C,v,b.props.children,y,b.key):l(C,v,b,y);case Ro:return v=v.get(b.key===null?g:b.key)||null,c(C,v,b,y)}if(M2(b)||Ia(b))return v=v.get(g)||null,u(C,v,b,y,null);R2(C,b)}return null}function h(v,C,g,b){for(var y=null,x=null,L=C,I=C=0,E=null;L!==null&&I<g.length;I++){L.index>I?(E=L,L=null):E=L.sibling;var O=f(v,L,g[I],b);if(O===null){L===null&&(L=E);break}e&&L&&O.alternate===null&&t(v,L),C=i(O,C,I),x===null?y=O:x.sibling=O,x=O,L=E}if(I===g.length)return n(v,L),y;if(L===null){for(;I<g.length;I++)L=d(v,g[I],b),L!==null&&(C=i(L,C,I),x===null?y=L:x.sibling=L,x=L);return y}for(L=r(v,L);I<g.length;I++)E=p(L,v,I,g[I],b),E!==null&&(e&&E.alternate!==null&&L.delete(E.key===null?I:E.key),C=i(E,C,I),x===null?y=E:x.sibling=E,x=E);return e&&L.forEach(function(P){return t(v,P)}),y}function m(v,C,g,b){var y=Ia(g);if(typeof y!="function")throw Error(Z(150));if(g=y.call(g),g==null)throw Error(Z(151));for(var x=y=null,L=C,I=C=0,E=null,O=g.next();L!==null&&!O.done;I++,O=g.next()){L.index>I?(E=L,L=null):E=L.sibling;var P=f(v,L,O.value,b);if(P===null){L===null&&(L=E);break}e&&L&&P.alternate===null&&t(v,L),C=i(P,C,I),x===null?y=P:x.sibling=P,x=P,L=E}if(O.done)return n(v,L),y;if(L===null){for(;!O.done;I++,O=g.next())O=d(v,O.value,b),O!==null&&(C=i(O,C,I),x===null?y=O:x.sibling=O,x=O);return y}for(L=r(v,L);!O.done;I++,O=g.next())O=p(L,v,I,O.value,b),O!==null&&(e&&O.alternate!==null&&L.delete(O.key===null?I:O.key),C=i(O,C,I),x===null?y=O:x.sibling=O,x=O);return e&&L.forEach(function(z){return t(v,z)}),y}return function(v,C,g,b){var y=typeof g=="object"&&g!==null&&g.type===H1&&g.key===null;y&&(g=g.props.children);var x=typeof g=="object"&&g!==null;if(x)switch(g.$$typeof){case Sa:e:{for(x=g.key,y=C;y!==null;){if(y.key===x){switch(y.tag){case 7:if(g.type===H1){n(v,y.sibling),C=o(y,g.props.children),C.return=v,v=C;break e}break;default:if(y.elementType===g.type){n(v,y.sibling),C=o(y,g.props),C.ref=qa(v,y,g),C.return=v,v=C;break e}}n(v,y);break}else t(v,y);y=y.sibling}g.type===H1?(C=qi(g.props.children,v.mode,b,g.key),C.return=v,v=C):(b=W2(g.type,g.key,g.props,null,v.mode,b),b.ref=qa(v,C,g),b.return=v,v=b)}return s(v);case Ro:e:{for(y=g.key;C!==null;){if(C.key===y)if(C.tag===4&&C.stateNode.containerInfo===g.containerInfo&&C.stateNode.implementation===g.implementation){n(v,C.sibling),C=o(C,g.children||[]),C.return=v,v=C;break e}else{n(v,C);break}else t(v,C);C=C.sibling}C=$3(g,v.mode,b),C.return=v,v=C}return s(v)}if(typeof g=="string"||typeof g=="number")return g=""+g,C!==null&&C.tag===6?(n(v,C.sibling),C=o(C,g),C.return=v,v=C):(n(v,C),C=Z3(g,v.mode,b),C.return=v,v=C),s(v);if(M2(g))return h(v,C,g,b);if(Ia(g))return m(v,C,g,b);if(x&&R2(v,g),typeof g=="undefined"&&!y)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Z(152,Si(v.type)||"Component"))}return n(v,C)}}var O2=mf(!0),Cf=mf(!1),Qa={},Br=Z1(Qa),Ja=Z1(Qa),el=Z1(Qa);function Bo(e){if(e===Qa)throw Error(Z(174));return e}function s3(e,t){switch(ft(el,t),ft(Ja,e),ft(Br,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fu(t,e)}nt(Br),ft(Br,t)}function Ui(){nt(Br),nt(Ja),nt(el)}function wf(e){Bo(el.current);var t=Bo(Br.current),n=fu(t,e.type);t!==n&&(ft(Ja,e),ft(Br,n))}function a3(e){Ja.current===e&&(nt(Br),nt(Ja))}var pt=Z1(0);function P2(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var s1=null,K1=null,Ar=!1;function yf(e,t){var n=Qn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function bf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function l3(e){if(Ar){var t=K1;if(t){var n=t;if(!bf(e,t)){if(t=Bi(n.nextSibling),!t||!bf(e,t)){e.flags=e.flags&-1025|2,Ar=!1,s1=e;return}yf(s1,n)}s1=e,K1=Bi(t.firstChild)}else e.flags=e.flags&-1025|2,Ar=!1,s1=e}}function xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;s1=e}function k2(e){if(e!==s1)return!1;if(!Ar)return xf(e),Ar=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Ku(t,e.memoizedProps))for(t=K1;t;)yf(e,t),t=Bi(t.nextSibling);if(xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){K1=Bi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}K1=null}}else K1=s1?Bi(e.stateNode.nextSibling):null;return!0}function c3(){K1=s1=null,Ar=!1}var zi=[];function u3(){for(var e=0;e<zi.length;e++)zi[e]._workInProgressVersionPrimary=null;zi.length=0}var tl=Mo.ReactCurrentDispatcher,Gn=Mo.ReactCurrentBatchConfig,nl=0,Ct=null,an=null,Xt=null,H2=!1,rl=!1;function Ln(){throw Error(Z(321))}function d3(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function f3(e,t,n,r,o,i){if(nl=i,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?s_:a_,e=n(r,o),rl){i=0;do{if(rl=!1,!(25>i))throw Error(Z(301));i+=1,Xt=an=null,t.updateQueue=null,tl.current=l_,e=n(r,o)}while(rl)}if(tl.current=A2,t=an!==null&&an.next!==null,nl=0,Xt=an=Ct=null,H2=!1,t)throw Error(Z(300));return e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ct.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function Do(){if(an===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=an.next;var t=Xt===null?Ct.memoizedState:Xt.next;if(t!==null)Xt=t,an=e;else{if(e===null)throw Error(Z(310));an=e,e={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Xt===null?Ct.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Dr(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Do(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=an,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var a=s=i=null,l=o;do{var c=l.lane;if((nl&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(s=a=u,i=r):a=a.next=u,Ct.lanes|=c,ll|=c}l=l.next}while(l!==null&&l!==o);a===null?i=r:a.next=s,Xn(r,t.memoizedState)||(yr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function il(e){var t=Do(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Xn(i,t.memoizedState)||(yr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _f(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(o!==null?e=o===r:(e=e.mutableReadLanes,(e=(nl&e)===e)&&(t._workInProgressVersionPrimary=r,zi.push(t))),e)return n(t._source);throw zi.push(t),Error(Z(350))}function Sf(e,t,n,r){var o=vn;if(o===null)throw Error(Z(349));var i=t._getVersion,s=i(t._source),a=tl.current,l=a.useState(function(){return _f(o,t,n)}),c=l[1],u=l[0];l=Xt;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,h=d.source;d=d.subscribe;var m=Ct;return e.memoizedState={refs:f,source:t,subscribe:r},a.useEffect(function(){f.getSnapshot=n,f.setSnapshot=c;var v=i(t._source);if(!Xn(s,v)){v=n(t._source),Xn(u,v)||(c(v),v=X1(m),o.mutableReadLanes|=v&o.pendingLanes),v=o.mutableReadLanes,o.entangledLanes|=v;for(var C=o.entanglements,g=v;0<g;){var b=31-D1(g),y=1<<b;C[b]|=v,g&=~y}}},[n,t,r]),a.useEffect(function(){return r(t._source,function(){var v=f.getSnapshot,C=f.setSnapshot;try{C(v(t._source));var g=X1(m);o.mutableReadLanes|=g&o.pendingLanes}catch(b){C(function(){throw b})}})},[t,r]),Xn(p,n)&&Xn(h,t)&&Xn(d,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:u},e.dispatch=c=g3.bind(null,Ct,e),l.queue=e,l.baseQueue=null,u=_f(o,t,n),l.memoizedState=l.baseState=u),u}function Lf(e,t,n){var r=Do();return Sf(r,e,t,n)}function sl(e){var t=Ao();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},e=e.dispatch=g3.bind(null,Ct,e),[t.memoizedState,e]}function T2(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null},Ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ef(e){var t=Ao();return e={current:e},t.memoizedState=e}function V2(){return Do().memoizedState}function p3(e,t,n,r){var o=Ao();Ct.flags|=e,o.memoizedState=T2(1|t,n,void 0,r===void 0?null:r)}function h3(e,t,n,r){var o=Do();r=r===void 0?null:r;var i=void 0;if(an!==null){var s=an.memoizedState;if(i=s.destroy,r!==null&&d3(r,s.deps)){T2(t,n,i,r);return}}Ct.flags|=e,o.memoizedState=T2(1|t,n,i,r)}function If(e,t){return p3(516,4,e,t)}function B2(e,t){return h3(516,4,e,t)}function Mf(e,t){return h3(4,2,e,t)}function Rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,n){return n=n!=null?n.concat([e]):null,h3(4,2,Rf.bind(null,t,e),n)}function v3(){}function Pf(e,t){var n=Do();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&d3(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kf(e,t){var n=Do();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&d3(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i_(e,t){var n=Zi();Vo(98>n?98:n,function(){e(!0)}),Vo(97<n?97:n,function(){var r=Gn.transition;Gn.transition=1;try{e(!1),t()}finally{Gn.transition=r}})}function g3(e,t,n){var r=Hn(),o=X1(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i,s=e.alternate,e===Ct||s!==null&&s===Ct)rl=H2=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.eagerReducer=s,i.eagerState=l,Xn(l,a))return}catch{}finally{}Y1(e,o,r)}}var A2={readContext:Yn,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useOpaqueIdentifier:Ln,unstable_isNewReconciler:!1},s_={readContext:Yn,useCallback:function(e,t){return Ao().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:If,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,p3(4,2,Rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return p3(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=g3.bind(null,Ct,e),[r.memoizedState,e]},useRef:Ef,useState:sl,useDebugValue:v3,useDeferredValue:function(e){var t=sl(e),n=t[0],r=t[1];return If(function(){var o=Gn.transition;Gn.transition=1;try{r(e)}finally{Gn.transition=o}},[e]),n},useTransition:function(){var e=sl(!1),t=e[0];return e=i_.bind(null,e[1]),Ef(e),[e,t]},useMutableSource:function(e,t,n){var r=Ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Sf(r,e,t,n)},useOpaqueIdentifier:function(){if(Ar){var e=!1,t=Jx(function(){throw e||(e=!0,n("r:"+(Xu++).toString(36))),Error(Z(355))}),n=sl(t)[1];return(Ct.mode&2)==0&&(Ct.flags|=516,T2(5,function(){n("r:"+(Xu++).toString(36))},void 0,null)),t}return t="r:"+(Xu++).toString(36),sl(t),t},unstable_isNewReconciler:!1},a_={readContext:Yn,useCallback:Pf,useContext:Yn,useEffect:B2,useImperativeHandle:Of,useLayoutEffect:Mf,useMemo:kf,useReducer:ol,useRef:V2,useState:function(){return ol(Dr)},useDebugValue:v3,useDeferredValue:function(e){var t=ol(Dr),n=t[0],r=t[1];return B2(function(){var o=Gn.transition;Gn.transition=1;try{r(e)}finally{Gn.transition=o}},[e]),n},useTransition:function(){var e=ol(Dr)[0];return[V2().current,e]},useMutableSource:Lf,useOpaqueIdentifier:function(){return ol(Dr)[0]},unstable_isNewReconciler:!1},l_={readContext:Yn,useCallback:Pf,useContext:Yn,useEffect:B2,useImperativeHandle:Of,useLayoutEffect:Mf,useMemo:kf,useReducer:il,useRef:V2,useState:function(){return il(Dr)},useDebugValue:v3,useDeferredValue:function(e){var t=il(Dr),n=t[0],r=t[1];return B2(function(){var o=Gn.transition;Gn.transition=1;try{r(e)}finally{Gn.transition=o}},[e]),n},useTransition:function(){var e=il(Dr)[0];return[V2().current,e]},useMutableSource:Lf,useOpaqueIdentifier:function(){return il(Dr)[0]},unstable_isNewReconciler:!1},c_=Mo.ReactCurrentOwner,yr=!1;function En(e,t,n,r){t.child=e===null?Cf(t,null,n,r):O2(t,e.child,n,r)}function Hf(e,t,n,r,o){n=n.render;var i=t.ref;return Fi(t,o),r=f3(e,t,n,r,i,o),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,a1(e,t,o)):(t.flags|=1,En(e,t,r,o),t.child)}function Tf(e,t,n,r,o,i){if(e===null){var s=n.type;return typeof s=="function"&&!j3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Vf(e,t,s,r,o,i)):(e=W2(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(o&i)==0&&(o=s.memoizedProps,n=n.compare,n=n!==null?n:Ua,n(o,r)&&e.ref===t.ref)?a1(e,t,i):(t.flags|=1,e=Q1(s,r),e.ref=t.ref,e.return=t,t.child=e)}function Vf(e,t,n,r,o,i){if(e!==null&&Ua(e.memoizedProps,r)&&e.ref===t.ref)if(yr=!1,(i&o)!=0)(e.flags&16384)!=0&&(yr=!0);else return t.lanes=e.lanes,a1(e,t,i);return C3(e,t,n,r,i)}function m3(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)==0)t.memoizedState={baseLanes:0},K2(t,n);else if((n&1073741824)!=0)t.memoizedState={baseLanes:0},K2(t,i!==null?i.baseLanes:n);else return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},K2(t,e),null;else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K2(t,r);return En(e,t,o,n),t.child}function Bf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function C3(e,t,n,r,o){var i=Sn(n)?Ho:on.current;return i=Ni(t,i),Fi(t,o),n=f3(e,t,n,r,i,o),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,a1(e,t,o)):(t.flags|=1,En(e,t,n,o),t.child)}function Af(e,t,n,r,o){if(Sn(n)){var i=!0;y2(t)}else i=!1;if(Fi(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),vf(t,n,r),i3(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=Sn(n)?Ho:on.current,c=Ni(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&gf(t,s,r,c),F1=!1;var f=t.memoizedState;s.state=f,Ga(t,r,s,o),l=t.memoizedState,a!==r||f!==l||_n.current||F1?(typeof u=="function"&&(E2(t,n,u,r),l=t.memoizedState),(a=F1||hf(t,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{s=t.stateNode,uf(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:wr(t.type,a),s.props=c,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=Sn(n)?Ho:on.current,l=Ni(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&gf(t,s,r,l),F1=!1,f=t.memoizedState,s.state=f,Ga(t,r,s,o);var h=t.memoizedState;a!==d||f!==h||_n.current||F1?(typeof p=="function"&&(E2(t,n,p,r),h=t.memoizedState),(c=F1||hf(t,n,c,r,f,h,l))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return w3(e,t,n,r,i,o)}function w3(e,t,n,r,o,i){Bf(e,t);var s=(t.flags&64)!=0;if(!r&&!s)return o&&J6(t,n,!1),a1(e,t,i);r=t.stateNode,c_.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=O2(t,e.child,null,i),t.child=O2(t,null,a,i)):En(e,t,a,i),t.memoizedState=r.state,o&&J6(t,n,!0),t.child}function Df(e){var t=e.stateNode;t.pendingContext?q6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&q6(e,t.context,!1),s3(e,t.containerInfo)}var D2={dehydrated:null,retryLane:0};function jf(e,t,n){var r=t.pendingProps,o=pt.current,i=!1,s;return(s=(t.flags&64)!=0)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!=0),s?(i=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),ft(pt,o&1),e===null?(r.fallback!==void 0&&l3(t),e=r.children,o=r.fallback,i?(e=Nf(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=D2,e):typeof r.unstable_expectedLoadTime=="number"?(e=Nf(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=D2,t.lanes=33554432,e):(n=N3({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?i?(r=$f(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=D2,r):(n=Zf(e,t,r.children,n),t.memoizedState=null,n):i?(r=$f(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=D2,r):(n=Zf(e,t,r.children,n),t.memoizedState=null,n)}function Nf(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},(o&2)==0&&i!==null?(i.childLanes=0,i.pendingProps=t):i=N3(t,o,0,null),n=qi(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Zf(e,t,n,r){var o=e.child;return e=o.sibling,n=Q1(o,{mode:"visible",children:n}),(t.mode&2)==0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function $f(e,t,n,r,o){var i=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return(i&2)==0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,s=n.lastEffect,s!==null?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Q1(s,a),e!==null?r=Q1(e,r):(r=qi(r,i,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ff(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cf(e.return,t)}function y3(e,t,n,r,o,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o,s.lastEffect=i)}function Uf(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(En(e,t,r.children,n),r=pt.current,(r&2)!=0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!=0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,n);else if(e.tag===19)Ff(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ft(pt,r),(t.mode&2)==0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&P2(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),y3(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&P2(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}y3(t,!0,n,null,i,t.lastEffect);break;case"together":y3(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function a1(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ll|=t.lanes,(n&t.childLanes)!=0){if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Q1(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Q1(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var zf,b3,Kf,Wf;zf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};b3=function(){};Kf=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bo(Br.current);var i=null;switch(n){case"input":o=su(e,o),r=su(e,r),i=[];break;case"option":o=cu(e,o),r=cu(e,r),i=[];break;case"select":o=lt({},o,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":o=uu(e,o),r=uu(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=v2)}pu(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_a.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_a.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tt("scroll",e),i||a===l||(i=[])):typeof l=="object"&&l!==null&&l.$$typeof===tu?l.toString():(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Wf=function(e,t,n,r){n!==r&&(t.flags|=4)};function al(e,t){if(!Ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function u_(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Sn(t.type)&&w2(),null;case 3:return Ui(),nt(_n),nt(on),u3(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(k2(t)?t.flags|=4:r.hydrate||(t.flags|=256)),b3(t),null;case 5:a3(t);var o=Bo(el.current);if(n=t.type,e!==null&&t.stateNode!=null)Kf(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return null}if(e=Bo(Br.current),k2(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[N1]=t,r[m2]=i,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(e=0;e<Ka.length;e++)tt(Ka[e],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":D8(r,i),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tt("invalid",r);break;case"textarea":Z8(r,i),tt("invalid",r)}pu(n,i),e=null;for(var s in i)i.hasOwnProperty(s)&&(o=i[s],s==="children"?typeof o=="string"?r.textContent!==o&&(e=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(e=["children",""+o]):_a.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&tt("scroll",r));switch(n){case"input":Y0(r),N8(r,i,!0);break;case"textarea":Y0(r),F8(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=v2)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(s=o.nodeType===9?o:o.ownerDocument,e===du.html&&(e=U8(n)),e===du.html?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[N1]=t,e[m2]=r,zf(e,t,!1,!1),t.stateNode=e,s=hu(n,r),n){case"dialog":tt("cancel",e),tt("close",e),o=r;break;case"iframe":case"object":case"embed":tt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ka.length;o++)tt(Ka[o],e);o=r;break;case"source":tt("error",e),o=r;break;case"img":case"image":case"link":tt("error",e),tt("load",e),o=r;break;case"details":tt("toggle",e),o=r;break;case"input":D8(e,r),o=su(e,r),tt("invalid",e);break;case"option":o=cu(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=lt({},r,{value:void 0}),tt("invalid",e);break;case"textarea":Z8(e,r),o=uu(e,r),tt("invalid",e);break;default:o=r}pu(n,o);var a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?W8(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z8(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(e,l):typeof l=="number"&&Ra(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_a.hasOwnProperty(i)?l!=null&&i==="onScroll"&&tt("scroll",e):l!=null&&Yc(e,i,l,s))}switch(n){case"input":Y0(e),N8(e,r,!1);break;case"textarea":Y0(e),F8(e);break;case"option":r.value!=null&&e.setAttribute("value",""+T1(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Li(e,!!r.multiple,i,!1):r.defaultValue!=null&&Li(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=v2)}K6(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Wf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));n=Bo(el.current),Bo(Br.current),k2(t)?(r=t.stateNode,n=t.memoizedProps,r[N1]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[N1]=t,t.stateNode=r)}return null;case 13:return nt(pt),r=t.memoizedState,(t.flags&64)!=0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&k2(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!=0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(pt.current&1)!=0?Yt===0&&(Yt=3):((Yt===0||Yt===3)&&(Yt=4),vn===null||(ll&134217727)==0&&(Wi&134217727)==0||Yi(vn,ln))),(r||n)&&(t.flags|=4),null);case 4:return Ui(),b3(t),e===null&&Z6(t.stateNode.containerInfo),null;case 10:return r3(t),null;case 17:return Sn(t.type)&&w2(),null;case 19:if(nt(pt),r=t.memoizedState,r===null)return null;if(i=(t.flags&64)!=0,s=r.rendering,s===null)if(i)al(r,!1);else{if(Yt!==0||e!==null&&(e.flags&64)!=0)for(e=t.child;e!==null;){if(s=P2(e),s!==null){for(t.flags|=64,al(r,!1),i=s.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ft(pt,pt.current&1|2),t.child}e=e.sibling}r.tail!==null&&sn()>k3&&(t.flags|=64,i=!0,al(r,!1),t.lanes=33554432)}else{if(!i)if(e=P2(s),e!==null){if(t.flags|=64,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),al(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ar)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*sn()-r.renderingStartTime>k3&&n!==1073741824&&(t.flags|=64,i=!0,al(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=sn(),n.sibling=null,t=pt.current,ft(pt,i?t&1|2:t&1),n):null;case 23:case 24:return D3(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Z(156,t.tag))}function d_(e){switch(e.tag){case 1:Sn(e.type)&&w2();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Ui(),nt(_n),nt(on),u3(),t=e.flags,(t&64)!=0)throw Error(Z(285));return e.flags=t&-4097|64,e;case 5:return a3(e),null;case 13:return nt(pt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return nt(pt),null;case 4:return Ui(),null;case 10:return r3(e),null;case 23:case 24:return D3(),null;default:return null}}function x3(e,t){try{var n="",r=t;do n+=zb(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o}}function _3(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f_=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,n){n=U1(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Z2||(Z2=!0,H3=r),_3(e,t)},n}function Yf(e,t,n){n=U1(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return _3(e,t),r(o)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this),_3(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}var p_=typeof WeakSet=="function"?WeakSet:Set;function Gf(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){q1(e,n)}else t.current=null}function h_(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:wr(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Wu(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Z(163))}function v_(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)==3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var o=e;r=o.next,o=o.tag,(o&4)!=0&&(o&1)!=0&&(dp(n,e),__(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:wr(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&ff(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ff(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&K6(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&c6(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Z(163))}function qf(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=K8("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Qf(e,t){if(To&&typeof To.onCommitFiberUnmount=="function")try{To.onCommitFiberUnmount(Gu,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if((r&4)!=0)dp(t,n);else{r=t;try{o()}catch(i){q1(r,i)}}n=n.next}while(n!==e)}break;case 1:if(Gf(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){q1(t,i)}break;case 5:Gf(t);break;case 4:np(e,t)}}function Jf(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ep(e){return e.tag===5||e.tag===3||e.tag===4}function tp(e){e:{for(var t=e.return;t!==null;){if(ep(t))break e;t=t.return}throw Error(Z(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(Z(161))}n.flags&16&&(Ra(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||ep(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?S3(e,n,t):L3(e,n,t)}function S3(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=v2));else if(r!==4&&(e=e.child,e!==null))for(S3(e,t,n),e=e.sibling;e!==null;)S3(e,t,n),e=e.sibling}function L3(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(L3(e,t,n),e=e.sibling;e!==null;)L3(e,t,n),e=e.sibling}function np(e,t){for(var n=t,r=!1,o,i;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Z(160));switch(o=r.stateNode,r.tag){case 5:i=!1;break e;case 3:o=o.containerInfo,i=!0;break e;case 4:o=o.containerInfo,i=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=e,a=n,l=a;;)if(Qf(s,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=o,a=n.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,i=!0,n.child.return=n,n=n.child;continue}}else if(Qf(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function E3(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)==3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var o=e!==null?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,i!==null){for(n[m2]=r,e==="input"&&r.type==="radio"&&r.name!=null&&j8(n,r),hu(e,o),t=hu(e,r),o=0;o<i.length;o+=2){var s=i[o],a=i[o+1];s==="style"?W8(n,a):s==="dangerouslySetInnerHTML"?z8(n,a):s==="children"?Ra(n,a):Yc(n,s,a,t)}switch(e){case"input":au(n,r);break;case"textarea":$8(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,i=r.value,i!=null?Li(n,!!r.multiple,i,!1):e!==!!r.multiple&&(r.defaultValue!=null?Li(n,!!r.multiple,r.defaultValue,!0):Li(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Z(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,c6(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(P3=sn(),qf(t.child,!0)),rp(t);return;case 19:rp(t);return;case 17:return;case 23:case 24:qf(t,t.memoizedState!==null);return}throw Error(Z(163))}function rp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new p_),t.forEach(function(r){var o=E_.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function g_(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var m_=Math.ceil,j2=Mo.ReactCurrentDispatcher,I3=Mo.ReactCurrentOwner,me=0,vn=null,Ht=null,ln=0,jo=0,M3=Z1(0),Yt=0,N2=null,Ki=0,ll=0,Wi=0,R3=0,O3=null,P3=0,k3=1/0;function Xi(){k3=sn()+500}var J=null,Z2=!1,H3=null,jr=null,W1=!1,cl=null,ul=90,T3=[],V3=[],l1=null,dl=0,B3=null,$2=-1,c1=0,F2=0,fl=null,U2=!1;function Hn(){return(me&48)!=0?sn():$2!==-1?$2:$2=sn()}function X1(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return Zi()===99?1:2;if(c1===0&&(c1=Ki),o_.transition!==0){F2!==0&&(F2=O3!==null?O3.pendingLanes:0),e=c1;var t=4186112&~F2;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Zi(),(me&4)!=0&&e===98?e=r2(12,c1):(e=ax(e),e=r2(e,c1)),e}function Y1(e,t,n){if(50<dl)throw dl=0,B3=null,Error(Z(185));if(e=z2(e,t),e===null)return null;o2(e,t,n),e===vn&&(Wi|=t,Yt===4&&Yi(e,ln));var r=Zi();t===1?(me&8)!=0&&(me&48)==0?A3(e):(qn(e,n),me===0&&(Xi(),Vr())):((me&4)==0||r!==98&&r!==99||(l1===null?l1=new Set([e]):l1.add(e)),qn(e,n)),O3=e}function z2(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function qn(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-D1(s),l=1<<a,c=i[a];if(c===-1){if((l&r)==0||(l&o)!=0){c=t,Oi(l);var u=Ge;i[a]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Da(e,e===vn?ln:0),t=Ge,r===0)n!==null&&(n!==e3&&Qu(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==e3&&Qu(n)}t===15?(n=A3.bind(null,e),i1===null?(i1=[n],x2=qu(b2,lf)):i1.push(n),n=e3):t===14?n=Ya(99,A3.bind(null,e)):(n=lx(t),n=Ya(n,op.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function op(e){if($2=-1,F2=c1=0,(me&48)!=0)throw Error(Z(327));var t=e.callbackNode;if(G1()&&e.callbackNode!==t)return null;var n=Da(e,e===vn?ln:0);if(n===0)return null;var r=n,o=me;me|=16;var i=lp();(vn!==e||ln!==r)&&(Xi(),Gi(e,r));do try{y_();break}catch(a){ap(e,a)}while(1);if(n3(),j2.current=i,me=o,Ht!==null?r=0:(vn=null,ln=0,r=Yt),(Ki&Wi)!=0)Gi(e,0);else if(r!==0){if(r===2&&(me|=64,e.hydrate&&(e.hydrate=!1,Wu(e.containerInfo)),n=g6(e),n!==0&&(r=pl(e,n))),r===1)throw t=N2,Gi(e,0),Yi(e,n),qn(e,sn()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(Z(345));case 2:No(e);break;case 3:if(Yi(e,n),(n&62914560)===n&&(r=P3+500-sn(),10<r)){if(Da(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Hn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=W6(No.bind(null,e),r);break}No(e);break;case 4:if(Yi(e,n),(n&4186112)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-D1(n);i=1<<s,s=r[s],s>o&&(o=s),n&=~i}if(n=o,n=sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m_(n/1960))-n,10<n){e.timeoutHandle=W6(No.bind(null,e),n);break}No(e);break;case 5:No(e);break;default:throw Error(Z(329))}}return qn(e,sn()),e.callbackNode===t?op.bind(null,e):null}function Yi(e,t){for(t&=~R3,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-D1(t),r=1<<n;e[n]=-1,t&=~r}}function A3(e){if((me&48)!=0)throw Error(Z(327));if(G1(),e===vn&&(e.expiredLanes&ln)!=0){var t=ln,n=pl(e,t);(Ki&Wi)!=0&&(t=Da(e,t),n=pl(e,t))}else t=Da(e,0),n=pl(e,t);if(e.tag!==0&&n===2&&(me|=64,e.hydrate&&(e.hydrate=!1,Wu(e.containerInfo)),t=g6(e),t!==0&&(n=pl(e,t))),n===1)throw n=N2,Gi(e,0),Yi(e,t),qn(e,sn()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e),qn(e,sn()),null}function C_(){if(l1!==null){var e=l1;l1=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,qn(t,sn())})}Vr()}function ip(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Xi(),Vr())}}function sp(e,t){var n=me;me&=-2,me|=8;try{return e(t)}finally{me=n,me===0&&(Xi(),Vr())}}function K2(e,t){ft(M3,jo),jo|=t,Ki|=t}function D3(){jo=M3.current,nt(M3)}function Gi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qx(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&w2();break;case 3:Ui(),nt(_n),nt(on),u3();break;case 5:a3(r);break;case 4:Ui();break;case 13:nt(pt);break;case 19:nt(pt);break;case 10:r3(r);break;case 23:case 24:D3()}n=n.return}vn=e,Ht=Q1(e.current,null),ln=jo=Ki=t,Yt=0,N2=null,R3=Wi=ll=0}function ap(e,t){do{var n=Ht;try{if(n3(),tl.current=A2,H2){for(var r=Ct.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}H2=!1}if(nl=0,Xt=an=Ct=null,rl=!1,I3.current=null,n===null||n.return===null){Yt=1,N2=t,Ht=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=ln,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if((a.mode&2)==0){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=(pt.current&1)!=0,f=s;do{var p;if(p=f.tag===13){var h=f.memoizedState;if(h!==null)p=h.dehydrated!==null;else{var m=f.memoizedProps;p=m.fallback===void 0?!1:m.unstable_avoidThisFallback!==!0?!0:!d}}if(p){var v=f.updateQueue;if(v===null){var C=new Set;C.add(c),f.updateQueue=C}else v.add(c);if((f.mode&2)==0){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var g=U1(-1,1);g.tag=2,z1(a,g)}a.lanes|=1;break e}l=void 0,a=t;var b=i.pingCache;if(b===null?(b=i.pingCache=new f_,l=new Set,b.set(c,l)):(l=b.get(c),l===void 0&&(l=new Set,b.set(c,l))),!l.has(a)){l.add(a);var y=L_.bind(null,i,c,a);c.then(y,y)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(f!==null);l=Error((Si(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Yt!==5&&(Yt=2),l=x3(l,a),f=s;do{switch(f.tag){case 3:i=l,f.flags|=4096,t&=-t,f.lanes|=t;var x=Xf(f,i,t);df(f,x);break e;case 1:i=l;var L=f.type,I=f.stateNode;if((f.flags&64)==0&&(typeof L.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(jr===null||!jr.has(I)))){f.flags|=4096,t&=-t,f.lanes|=t;var E=Yf(f,i,t);df(f,E);break e}}f=f.return}while(f!==null)}up(n)}catch(O){t=O,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(1)}function lp(){var e=j2.current;return j2.current=A2,e===null?A2:e}function pl(e,t){var n=me;me|=16;var r=lp();vn===e&&ln===t||Gi(e,t);do try{w_();break}catch(o){ap(e,o)}while(1);if(n3(),me=n,j2.current=r,Ht!==null)throw Error(Z(261));return vn=null,ln=0,Yt}function w_(){for(;Ht!==null;)cp(Ht)}function y_(){for(;Ht!==null&&!t_();)cp(Ht)}function cp(e){var t=pp(e.alternate,e,jo);e.memoizedProps=e.pendingProps,t===null?up(e):Ht=t,I3.current=null}function up(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)==0){if(n=u_(n,t,jo),n!==null){Ht=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(jo&1073741824)!=0||(n.mode&4)==0){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=d_(t),n!==null){n.flags&=2047,Ht=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Yt===0&&(Yt=5)}function No(e){var t=Zi();return Vo(99,b_.bind(null,e,t)),null}function b_(e,t){do G1();while(cl!==null);if((me&48)!=0)throw Error(Z(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<i;){var l=31-D1(i),c=1<<l;o[l]=0,s[l]=-1,a[l]=-1,i&=~c}if(l1!==null&&(r&24)==0&&l1.has(e)&&l1.delete(e),e===vn&&(Ht=vn=null,ln=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=me,me|=32,I3.current=null,Uu=i2,s=V6(),Nu(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&c.rangeCount!==0){a=c.anchorNode,i=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var u=0,d=-1,f=-1,p=0,h=0,m=s,v=null;t:for(;;){for(var C;m!==a||i!==0&&m.nodeType!==3||(d=u+i),m!==l||c!==0&&m.nodeType!==3||(f=u+c),m.nodeType===3&&(u+=m.nodeValue.length),(C=m.firstChild)!==null;)v=m,m=C;for(;;){if(m===s)break t;if(v===a&&++p===i&&(d=u),v===l&&++h===c&&(f=u),(C=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=C}a=d===-1||f===-1?null:{start:d,end:f}}else a=null;a=a||{start:0,end:0}}else a=null;zu={focusedElem:s,selectionRange:a},i2=!1,fl=null,U2=!1,J=r;do try{x_()}catch(O){if(J===null)throw Error(Z(330));q1(J,O),J=J.nextEffect}while(J!==null);fl=null,J=r;do try{for(s=e;J!==null;){var g=J.flags;if(g&16&&Ra(J.stateNode,""),g&128){var b=J.alternate;if(b!==null){var y=b.ref;y!==null&&(typeof y=="function"?y(null):y.current=null)}}switch(g&1038){case 2:tp(J),J.flags&=-3;break;case 6:tp(J),J.flags&=-3,E3(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,E3(J.alternate,J);break;case 4:E3(J.alternate,J);break;case 8:a=J,np(s,a);var x=a.alternate;Jf(a),x!==null&&Jf(x)}J=J.nextEffect}}catch(O){if(J===null)throw Error(Z(330));q1(J,O),J=J.nextEffect}while(J!==null);if(y=zu,b=V6(),g=y.focusedElem,s=y.selectionRange,b!==g&&g&&g.ownerDocument&&T6(g.ownerDocument.documentElement,g)){for(s!==null&&Nu(g)&&(b=s.start,y=s.end,y===void 0&&(y=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(y,g.value.length)):(y=(b=g.ownerDocument||document)&&b.defaultView||window,y.getSelection&&(y=y.getSelection(),a=g.textContent.length,x=Math.min(s.start,a),s=s.end===void 0?x:Math.min(s.end,a),!y.extend&&x>s&&(a=s,s=x,x=a),a=H6(g,x),i=H6(g,s),a&&i&&(y.rangeCount!==1||y.anchorNode!==a.node||y.anchorOffset!==a.offset||y.focusNode!==i.node||y.focusOffset!==i.offset)&&(b=b.createRange(),b.setStart(a.node,a.offset),y.removeAllRanges(),x>s?(y.addRange(b),y.extend(i.node,i.offset)):(b.setEnd(i.node,i.offset),y.addRange(b)))))),b=[],y=g;y=y.parentNode;)y.nodeType===1&&b.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<b.length;g++)y=b[g],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}i2=!!Uu,zu=Uu=null,e.current=n,J=r;do try{for(g=e;J!==null;){var L=J.flags;if(L&36&&v_(g,J.alternate,J),L&128){b=void 0;var I=J.ref;if(I!==null){var E=J.stateNode;switch(J.tag){case 5:b=E;break;default:b=E}typeof I=="function"?I(b):I.current=b}}J=J.nextEffect}}catch(O){if(J===null)throw Error(Z(330));q1(J,O),J=J.nextEffect}while(J!==null);J=null,r_(),me=o}else e.current=n;if(W1)W1=!1,cl=e,ul=t;else for(J=r;J!==null;)t=J.nextEffect,J.nextEffect=null,J.flags&8&&(L=J,L.sibling=null,L.stateNode=null),J=t;if(r=e.pendingLanes,r===0&&(jr=null),r===1?e===B3?dl++:(dl=0,B3=e):dl=0,n=n.stateNode,To&&typeof To.onCommitFiberRoot=="function")try{To.onCommitFiberRoot(Gu,n,void 0,(n.current.flags&64)==64)}catch{}if(qn(e,sn()),Z2)throw Z2=!1,e=H3,H3=null,e;return(me&8)!=0||Vr(),null}function x_(){for(;J!==null;){var e=J.alternate;U2||fl===null||((J.flags&8)!=0?n6(J,fl)&&(U2=!0):J.tag===13&&g_(e,J)&&n6(J,fl)&&(U2=!0));var t=J.flags;(t&256)!=0&&h_(e,J),(t&512)==0||W1||(W1=!0,Ya(97,function(){return G1(),null})),J=J.nextEffect}}function G1(){if(ul!==90){var e=97<ul?97:ul;return ul=90,Vo(e,S_)}return!1}function __(e,t){T3.push(t,e),W1||(W1=!0,Ya(97,function(){return G1(),null}))}function dp(e,t){V3.push(t,e),W1||(W1=!0,Ya(97,function(){return G1(),null}))}function S_(){if(cl===null)return!1;var e=cl;if(cl=null,(me&48)!=0)throw Error(Z(331));var t=me;me|=32;var n=V3;V3=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,typeof s=="function")try{s()}catch(l){if(i===null)throw Error(Z(330));q1(i,l)}}for(n=T3,T3=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var a=o.create;o.destroy=a()}catch(l){if(i===null)throw Error(Z(330));q1(i,l)}}for(a=e.current.firstEffect;a!==null;)e=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=e;return me=t,Vr(),!0}function fp(e,t,n){t=x3(n,t),t=Xf(e,t,1),z1(e,t),t=Hn(),e=z2(e,1),e!==null&&(o2(e,1,t),qn(e,t))}function q1(e,t){if(e.tag===3)fp(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){fp(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){e=x3(t,e);var o=Yf(n,e,1);if(z1(n,o),o=Hn(),n=z2(n,1),n!==null)o2(n,1,o),qn(n,o);else if(typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function L_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&n,vn===e&&(ln&n)===n&&(Yt===4||Yt===3&&(ln&62914560)===ln&&500>sn()-P3?Gi(e,0):R3|=n),qn(e,t)}function E_(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)==0?t=1:(t&4)==0?t=Zi()===99?1:2:(c1===0&&(c1=Ki),t=Pi(62914560&~c1),t===0&&(t=4194304))),n=Hn(),e=z2(e,t),e!==null&&(o2(e,t,n),qn(e,n))}var pp;pp=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)yr=!0;else if((n&r)!=0)yr=(e.flags&16384)!=0;else{switch(yr=!1,t.tag){case 3:Df(t),c3();break;case 5:wf(t);break;case 1:Sn(t.type)&&y2(t);break;case 4:s3(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;ft(_2,o._currentValue),o._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!=0?jf(e,t,n):(ft(pt,pt.current&1),t=a1(e,t,n),t!==null?t.sibling:null);ft(pt,pt.current&1);break;case 19:if(r=(n&t.childLanes)!=0,(e.flags&64)!=0){if(r)return Uf(e,t,n);t.flags|=64}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ft(pt,pt.current),r)break;return null;case 23:case 24:return t.lanes=0,m3(e,t,n)}return a1(e,t,n)}else yr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Ni(t,on.current),Fi(t,n),o=f3(null,t,r,e,o,n),t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sn(r)){var i=!0;y2(t)}else i=!1;t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o3(t);var s=r.getDerivedStateFromProps;typeof s=="function"&&E2(t,r,s,e),o.updater=I2,t.stateNode=o,o._reactInternals=t,i3(t,r,e,n),t=w3(null,t,r,!0,i,n)}else t.tag=0,En(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=M_(o),e=wr(o,e),i){case 0:t=C3(null,t,o,e,n);break e;case 1:t=Af(null,t,o,e,n);break e;case 11:t=Hf(null,t,o,e,n);break e;case 14:t=Tf(null,t,o,wr(o.type,e),r,n);break e}throw Error(Z(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wr(r,o),C3(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wr(r,o),Af(e,t,r,o,n);case 3:if(Df(t),r=t.updateQueue,e===null||r===null)throw Error(Z(282));if(r=t.pendingProps,o=t.memoizedState,o=o!==null?o.element:null,uf(e,t),Ga(t,r,null,n),r=t.memoizedState.element,r===o)c3(),t=a1(e,t,n);else{if(o=t.stateNode,(i=o.hydrate)&&(K1=Bi(t.stateNode.containerInfo.firstChild),s1=t,i=Ar=!0),i){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)i=e[o],i._workInProgressVersionPrimary=e[o+1],zi.push(i);for(n=Cf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else En(e,t,r,n),c3();t=t.child}return t;case 5:return wf(t),e===null&&l3(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ku(r,o)?s=null:i!==null&&Ku(r,i)&&(t.flags|=16),Bf(e,t),En(e,t,s,n),t.child;case 6:return e===null&&l3(t),null;case 13:return jf(e,t,n);case 4:return s3(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=O2(t,null,r,n):En(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wr(r,o),Hf(e,t,r,o,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var a=t.type._context;if(ft(_2,a._currentValue),a._currentValue=i,s!==null)if(a=s.value,i=Xn(a,i)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,i):1073741823)|0,i===0){if(s.children===o.children&&!_n.current){t=a1(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&(c.observedBits&i)!=0){a.tag===1&&(c=U1(-1,n&-n),c.tag=2,z1(a,c)),a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),cf(a.return,n),l.lanes|=n;break}c=c.next}}else s=a.tag===10&&a.type===t.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}En(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps,r=i.children,Fi(t,n),o=Yn(o,i.unstable_observedBits),r=r(o),t.flags|=1,En(e,t,r,n),t.child;case 14:return o=t.type,i=wr(o,t.pendingProps),i=wr(o.type,i),Tf(e,t,o,i,r,n);case 15:return Vf(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:wr(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Sn(r)?(e=!0,y2(t)):e=!1,Fi(t,n),vf(t,r,o),i3(t,r,o,n),w3(null,t,r,!0,e,n);case 19:return Uf(e,t,n);case 23:return m3(e,t,n);case 24:return m3(e,t,n)}throw Error(Z(156,t.tag))};function I_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,r){return new I_(e,t,n,r)}function j3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M_(e){if(typeof e=="function")return j3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===z0)return 11;if(e===W0)return 14}return 2}function Q1(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function W2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")j3(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case H1:return qi(n.children,o,i,t);case T8:s=8,o|=16;break;case Gc:s=8,o|=1;break;case La:return e=Qn(12,n,t,o|8),e.elementType=La,e.type=La,e.lanes=i,e;case Ea:return e=Qn(13,n,t,o),e.type=Ea,e.elementType=Ea,e.lanes=i,e;case K0:return e=Qn(19,n,t,o),e.elementType=K0,e.lanes=i,e;case nu:return N3(n,o,i,t);case ru:return e=Qn(24,n,t,o),e.elementType=ru,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qc:s=10;break e;case Qc:s=9;break e;case z0:s=11;break e;case W0:s=14;break e;case Jc:s=16,r=null;break e;case eu:s=22;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Qn(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function qi(e,t,n,r){return e=Qn(7,e,r,t),e.lanes=n,e}function N3(e,t,n,r){return e=Qn(23,e,r,t),e.elementType=nu,e.lanes=n,e}function Z3(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function $3(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R_(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.mutableSourceEagerHydrationData=null}function O_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X2(e,t,n,r){var o=t.current,i=Hn(),s=X1(o);e:if(n){n=n._reactInternals;t:{if(Po(n)!==n||n.tag!==1)throw Error(Z(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Sn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(Z(171))}if(n.tag===1){var l=n.type;if(Sn(l)){n=Q6(n,l,a);break e}}n=a}else n=$1;return t.context===null?t.context=n:t.pendingContext=n,t=U1(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),z1(o,t),Y1(o,s,i),s}function F3(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function U3(e,t){hp(e,t),(e=e.alternate)&&hp(e,t)}function P_(){return null}function z3(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new R_(e,t,n!=null&&n.hydrate===!0),t=Qn(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,o3(t),e[Ai]=n.current,Z6(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var o=t._getVersion;o=o(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}z3.prototype.render=function(e){X2(e,this._internalRoot,null,null)};z3.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;X2(null,e,null,function(){t[Ai]=null})};function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k_(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new z3(e,0,t?{hydrate:!0}:void 0)}function Y2(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if(typeof o=="function"){var a=o;o=function(){var c=F3(s);a.call(c)}}X2(t,s,e,o)}else{if(i=n._reactRootContainer=k_(n,r),s=i._internalRoot,typeof o=="function"){var l=o;o=function(){var c=F3(s);l.call(c)}}sp(function(){X2(t,s,e,o)})}return F3(s)}r6=function(e){if(e.tag===13){var t=Hn();Y1(e,4,t),U3(e,4)}};_u=function(e){if(e.tag===13){var t=Hn();Y1(e,67108864,t),U3(e,67108864)}};o6=function(e){if(e.tag===13){var t=Hn(),n=X1(e);Y1(e,n,t),U3(e,n)}};i6=function(e,t){return t()};gu=function(e,t,n){switch(t){case"input":if(au(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=C2(r);if(!o)throw Error(Z(90));A8(r),au(r,o)}}}break;case"textarea":$8(e,n);break;case"select":t=n.value,t!=null&&Li(e,!!n.multiple,t,!1)}};mu=ip;q8=function(e,t,n,r,o){var i=me;me|=4;try{return Vo(98,e.bind(null,t,n,r,o))}finally{me=i,me===0&&(Xi(),Vr())}};Cu=function(){(me&49)==0&&(C_(),G1())};Q8=function(e,t){var n=me;me|=2;try{return e(t)}finally{me=n,me===0&&(Xi(),Vr())}};function vp(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(t))throw Error(Z(200));return O_(e,t,null,n)}var H_={Events:[Xa,Di,C2,Y8,G8,G1,{current:!1}]},vl={findFiberByHostInstance:ko,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},T_={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t6(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||P_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(gl=__REACT_DEVTOOLS_GLOBAL_HOOK__,!gl.isDisabled&&gl.supportsFiber))try{Gu=gl.inject(T_),To=gl}catch{}var gl;Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;Jn.createPortal=vp;Jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):Error(Z(268,Object.keys(e)));return e=t6(t),e=e===null?null:e.stateNode,e};Jn.flushSync=function(e,t){var n=me;if((n&48)!=0)return e(t);me|=1;try{if(e)return Vo(99,e.bind(null,t))}finally{me=n,Vr()}};Jn.hydrate=function(e,t,n){if(!hl(t))throw Error(Z(200));return Y2(null,e,t,!0,n)};Jn.render=function(e,t,n){if(!hl(t))throw Error(Z(200));return Y2(null,e,t,!1,n)};Jn.unmountComponentAtNode=function(e){if(!hl(e))throw Error(Z(40));return e._reactRootContainer?(sp(function(){Y2(null,null,e,!1,function(){e._reactRootContainer=null,e[Ai]=null})}),!0):!1};Jn.unstable_batchedUpdates=ip;Jn.unstable_createPortal=function(e,t){return vp(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hl(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Y2(e,t,n,!1,r)};Jn.version="17.0.2"});var G2=P1((bB,Cp)=>{"use strict";function mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mp)}catch(e){console.error(e)}}mp(),Cp.exports=gp()});var OC=P1((qj,B5)=>{var uC,dC,fC,pC,hC,vC,gC,mC,CC,V5,Od,wC,yC,na,bC,xC,_C,SC,LC,EC,IC,MC,RC;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){e(n(t,n(r)))}):typeof B5=="object"&&typeof B5.exports=="object"?e(n(t,n(B5.exports))):e(n(t));function n(r,o){return r!==t&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(i,s){return r[i]=o?o(i,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])};uC=function(n,r){t(n,r);function o(){this.constructor=n}n.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)},dC=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},fC=function(n,r){var o={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(o[i[s]]=n[i[s]]);return o},pC=function(n,r,o,i){var s=arguments.length,a=s<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,o):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,r,o,i);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(a=(s<3?l(a):s>3?l(r,o,a):l(r,o))||a);return s>3&&a&&Object.defineProperty(r,o,a),a},hC=function(n,r){return function(o,i){r(o,i,n)}},vC=function(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)},gC=function(n,r,o,i){function s(a){return a instanceof o?a:new o(function(l){l(a)})}return new(o||(o=Promise))(function(a,l){function c(f){try{d(i.next(f))}catch(p){l(p)}}function u(f){try{d(i.throw(f))}catch(p){l(p)}}function d(f){f.done?a(f.value):s(f.value).then(c,u)}d((i=i.apply(n,r||[])).next())})},mC=function(n,r){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(f){return u([d,f])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,s=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){o.label=d[1];break}if(d[0]===6&&o.label<a[1]){o.label=a[1],a=d;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(d);break}a[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(n,o)}catch(f){d=[6,f],s=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},RC=function(n,r,o,i){i===void 0&&(i=o),n[i]=r[o]},CC=function(n,r){for(var o in n)o!=="default"&&!r.hasOwnProperty(o)&&(r[o]=n[o])},V5=function(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],i=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Od=function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var i=o.call(n),s,a=[],l;try{for(;(r===void 0||r-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(l)throw l.error}}return a},wC=function(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Od(arguments[r]));return n},yC=function(){for(var n=0,r=0,o=arguments.length;r<o;r++)n+=arguments[r].length;for(var i=Array(n),s=0,r=0;r<o;r++)for(var a=arguments[r],l=0,c=a.length;l<c;l++,s++)i[s]=a[l];return i},na=function(n){return this instanceof na?(this.v=n,this):new na(n)},bC=function(n,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(n,r||[]),s,a=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(h){i[h]&&(s[h]=function(m){return new Promise(function(v,C){a.push([h,m,v,C])>1||c(h,m)})})}function c(h,m){try{u(i[h](m))}catch(v){p(a[0][3],v)}}function u(h){h.value instanceof na?Promise.resolve(h.value.v).then(d,f):p(a[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function p(h,m){h(m),a.shift(),a.length&&c(a[0][0],a[0][1])}},xC=function(n){var r,o;return r={},i("next"),i("throw",function(s){throw s}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(s,a){r[s]=n[s]?function(l){return(o=!o)?{value:na(n[s](l)),done:s==="return"}:a?a(l):l}:a}},_C=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],o;return r?r.call(n):(n=typeof V5=="function"?V5(n):n[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(a){o[a]=n[a]&&function(l){return new Promise(function(c,u){l=n[a](l),s(c,u,l.done,l.value)})}}function s(a,l,c,u){Promise.resolve(u).then(function(d){a({value:d,done:c})},l)}},SC=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},LC=function(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r.default=n,r},EC=function(n){return n&&n.__esModule?n:{default:n}},IC=function(n,r){if(!r.has(n))throw new TypeError("attempted to get private field on non-instance");return r.get(n)},MC=function(n,r,o){if(!r.has(n))throw new TypeError("attempted to set private field on non-instance");return r.set(n,o),o},e("__extends",uC),e("__assign",dC),e("__rest",fC),e("__decorate",pC),e("__param",hC),e("__metadata",vC),e("__awaiter",gC),e("__generator",mC),e("__exportStar",CC),e("__createBinding",RC),e("__values",V5),e("__read",Od),e("__spread",wC),e("__spreadArrays",yC),e("__await",na),e("__asyncGenerator",bC),e("__asyncDelegator",xC),e("__asyncValues",_C),e("__makeTemplateObject",SC),e("__importStar",LC),e("__importDefault",EC),e("__classPrivateFieldGet",IC),e("__classPrivateFieldSet",MC)})});var Ic=M(R()),yb=M(G2());var R1=M(R());var Ee=M(R());var gn=M(R());function Zo(e,t){let n=gn.createContext(t);function r(o){let l=o,{children:i}=l,s=K(l,["children"]),a=gn.useMemo(()=>s,Object.values(s));return gn.createElement(n.Provider,{value:a},i)}return r.displayName=e+"Provider",[r,function(o){let i=gn.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}]}function Zt(e,t=[]){let n=[],r=()=>{let o=n.map(i=>gn.createContext(i));return function(i){let s=(i==null?void 0:i[e])||o;return gn.useMemo(()=>({[`__scope${e}`]:$e(le({},i),{[e]:s})}),[i,s])}};return r.scopeName=e,[function(o,i){let s=gn.createContext(i),a=n.length;function l(c){let m=c,{scope:u,children:d}=m,f=K(m,["scope","children"]),p=(u==null?void 0:u[e][a])||s,h=gn.useMemo(()=>f,Object.values(f));return gn.createElement(p.Provider,{value:h},d)}return n=[...n,i],l.displayName=o+"Provider",[l,function(c,u){let d=(u==null?void 0:u[e][a])||s,f=gn.useContext(d);if(f)return f;if(i!==void 0)return i;throw new Error(`\`${c}\` must be used within \`${o}\``)}]},V_(r,...t)]}function V_(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){let i=r.reduce((s,{useScope:a,scopeName:l})=>le(le({},s),a(o)[`__scope${l}`]),{});return gn.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var q2=M(R());function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var K3={prefix:Math.round(1e10*Math.random()),current:0},[B_,wp]=Zo("IdProvider",K3),yp=e=>{let t=wp("IdProvider");return q2.createElement(B_,A({prefix:t===K3?0:++t.prefix,current:0},e))};function In(e){let t=wp("IdProviderConsumer");return Boolean(globalThis==null?void 0:globalThis.document)||t!==K3||console.warn("When server rendering, you must wrap your application in an <IdProvider> to ensure consistent ids are generated between the client and server."),q2.useMemo(()=>e||`radix-id-${t.prefix}-${++t.current}`,[e])}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!1)var o;throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var A_={};function W3(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:A_}var D_=Object.assign,Q2=Object.getOwnPropertyDescriptor,u1=Object.defineProperty,J2=Object.prototype,X3=[];Object.freeze(X3);var bp={};Object.freeze(bp);var j_=typeof Proxy!="undefined",N_=Object.toString();function xp(){j_||Te("Proxy not available")}function _p(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Qi=function(){};function er(e){return typeof e=="function"}function $o(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function e9(e){return e!==null&&typeof e=="object"}function J1(e){var t;if(!e9(e))return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)==null?void 0:t.toString())===N_}function Sp(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function t9(e,t,n){u1(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Lp(e,t,n){u1(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Fo(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return e9(r)&&r[n]===!0}}function Ji(e){return e instanceof Map}function ml(e){return e instanceof Set}var Ep=typeof Object.getOwnPropertySymbols!="undefined";function Z_(e){var t=Object.keys(e);if(!Ep)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return J2.propertyIsEnumerable.call(e,r)})):t}var n9=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Ep?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Ip(e){return e===null?null:typeof e=="object"?""+e:e}function eo(e,t){return J2.hasOwnProperty.call(e,t)}var $_=Object.getOwnPropertyDescriptors||function(t){var n={};return n9(t).forEach(function(r){n[r]=Q2(t,r)}),n};function Mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y3(e,t,n){return t&&Mp(e.prototype,t),n&&Mp(e,n),e}function es(){return es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(this,arguments)}function Rp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Op(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(e,t){if(!!e){if(typeof e=="string")return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(e,t)}}function Pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ts(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=F_(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}var Nr=Symbol("mobx-stored-annotations");function Zr(e){function t(n,r){Cl(n,r,e)}return Object.assign(t,e)}function Cl(e,t,n){if(eo(e,Nr)||t9(e,Nr,es({},e[Nr])),!1)var r;U_(e,n,t),J_(n)||(e[Nr][t]=n)}function U_(e,t,n){if(!1)var r,o,i}function z_(e){return eo(e,Nr)||t9(e,Nr,es({},e[Nr])),e[Nr]}var Ce=Symbol("mobx administration"),wl=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Be.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return eh(this)},t.reportChanged=function(){Tn(),th(this),Vn()},t.toString=function(){return this.name_},e}(),G3=Fo("Atom",wl);function kp(e,t,n){t===void 0&&(t=Qi),n===void 0&&(n=Qi);var r=new wl(e);return t!==Qi&&eL(r,t),n!==Qi&&lh(r,n),r}function K_(e,t){return e===t}function W_(e,t){return l7(e,t)}function X_(e,t){return l7(e,t,1)}function Y_(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e==1/t:e!==e&&t!==t}var r9={identity:K_,structural:W_,default:Y_,shallow:X_};function ns(e,t,n){return gh(e)?e:Array.isArray(e)?Gt.array(e,{name:n}):J1(e)?Gt.object(e,void 0,{name:n}):Ji(e)?Gt.map(e,{name:n}):ml(e)?Gt.set(e,{name:n}):typeof e=="function"&&!n7(e)&&!r7(e)?Sp(e)?Sl(e):_l(n,e):e}function G_(e,t,n){if(e==null||Il(e)||y9(e)||zo(e)||us(e))return e;if(Array.isArray(e))return Gt.array(e,{name:n,deep:!1});if(J1(e))return Gt.object(e,void 0,{name:n,deep:!1});if(Ji(e))return Gt.map(e,{name:n,deep:!1});if(ml(e))return Gt.set(e,{name:n,deep:!1})}function o9(e){return e}function q_(e,t){return l7(e,t)?t:e}var Q_="override";function J_(e){return e.annotationType_===Q_}function yl(e,t){return{annotationType_:e,options_:t,make_:eS,extend_:tS}}function eS(e,t,n,r){var o;if((o=this.options_)==null?void 0:o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(n7(n.value))return 1;var i=Hp(e,this,t,n,!1);return u1(r,t,i),2}function tS(e,t,n,r){var o=Hp(e,this,t,n);return e.defineProperty_(t,o,r)}function nS(e,t,n,r){var o=t.annotationType_,i=r.value}function Hp(e,t,n,r,o){var i,s,a,l,c,u,d;o===void 0&&(o=F.safeDescriptors),nS(e,t,n,r);var f=r.value;if((i=t.options_)==null?void 0:i.bound){var p;f=f.bind((p=e.proxy_)!=null?p:e.target_)}return{value:rs((s=(a=t.options_)==null?void 0:a.name)!=null?s:n.toString(),f,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,((u=t.options_)==null?void 0:u.bound)?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Tp(e,t){return{annotationType_:e,options_:t,make_:rS,extend_:oS}}function rS(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(((o=this.options_)==null?void 0:o.bound)&&!r7(e.target_[t])&&this.extend_(e,t,n,!1)===null)return 0;if(r7(n.value))return 1;var i=Vp(e,this,t,n,!1,!1);return u1(r,t,i),2}function oS(e,t,n,r){var o,i=Vp(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,r)}function iS(e,t,n,r){var o=t.annotationType_,i=r.value}function Vp(e,t,n,r,o,i){i===void 0&&(i=F.safeDescriptors),iS(e,t,n,r);var s=r.value;if(o){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_)}return{value:Sl(s),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function q3(e,t){return{annotationType_:e,options_:t,make_:sS,extend_:aS}}function sS(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function aS(e,t,n,r){return lS(e,this,t,n),e.defineComputedProperty_(t,es({},this.options_,{get:n.get,set:n.set}),r)}function lS(e,t,n,r){var o=t.annotationType_,i=r.get}function i9(e,t){return{annotationType_:e,options_:t,make_:cS,extend_:uS}}function cS(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function uS(e,t,n,r){var o,i;return dS(e,this,t,n),e.defineObservableProperty_(t,n.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:ns,r)}function dS(e,t,n,r){var o=t.annotationType_}var fS="true",pS=Bp();function Bp(e){return{annotationType_:fS,options_:e,make_:hS,extend_:vS}}function hS(e,t,n,r){var o,i;if(n.get)return l9.make_(e,t,n,r);if(n.set){var s=rs(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:F.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(u1(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(Sp(n.value)){var l,c=((l=this.options_)==null?void 0:l.autoBind)?Sl.bound:Sl;return c.make_(e,t,n,r)}var u=((a=this.options_)==null?void 0:a.autoBind)?_l.bound:_l;return u.make_(e,t,n,r)}var d=((o=this.options_)==null?void 0:o.deep)===!1?Gt.ref:Gt;if(typeof n.value=="function"&&((i=this.options_)==null?void 0:i.autoBind)){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function vS(e,t,n,r){var o,i;if(n.get)return l9.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:F.safeDescriptors?e.isPlainObject_:!0,set:rs(t.toString(),n.set)},r);if(typeof n.value=="function"&&((o=this.options_)==null?void 0:o.autoBind)){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Gt.ref:Gt;return a.extend_(e,t,n,r)}var gS="observable",mS="observable.ref",CS="observable.shallow",wS="observable.struct",Ap={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Ap);function s9(e){return e||Ap}var Dp=i9(gS),yS=i9(mS,{enhancer:o9}),bS=i9(CS,{enhancer:G_}),xS=i9(wS,{enhancer:q_}),jp=Zr(Dp);function a9(e){return e.deep===!0?ns:e.deep===!1?o9:SS(e.defaultDecorator)}function _S(e){var t;return e?(t=e.defaultDecorator)!=null?t:Bp(e):void 0}function SS(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:ns}function Np(e,t,n){if($o(t)){Cl(e,t,Dp);return}return gh(e)?e:J1(e)?Gt.object(e,t,n):Array.isArray(e)?Gt.array(e,t):Ji(e)?Gt.map(e,t):ml(e)?Gt.set(e,t):typeof e=="object"&&e!==null?e:Gt.box(e,t)}Object.assign(Np,jp);var LS={box:function(t,n){var r=s9(n);return new os(t,a9(r),r.name,!0,r.equals)},array:function(t,n){var r=s9(n);return(F.useProxies===!1||r.proxy===!1?_L:hL)(t,a9(r),r.name)},map:function(t,n){var r=s9(n);return new xh(t,a9(r),r.name)},set:function(t,n){var r=s9(n);return new Lh(t,a9(r),r.name)},object:function(t,n,r){return rL(F.useProxies===!1||(r==null?void 0:r.proxy)===!1?x9({},r):dL({},r),t,n)},ref:Zr(yS),shallow:Zr(bS),deep:jp,struct:Zr(xS)},Gt=D_(Np,LS),Zp="computed",ES="computed.struct",$p=q3(Zp),IS=q3(ES,{equals:r9.structural}),l9=function(t,n){if($o(n))return Cl(t,n,$p);if(J1(t))return Zr(q3(Zp,t));var r=J1(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new bl(r)};Object.assign(l9,$p);l9.struct=Zr(IS);var Fp,Up,c9=0,MS=1,RS=(Fp=(Up=Q2(function(){},"name"))==null?void 0:Up.configurable)!=null?Fp:!1,zp={value:"action",configurable:!0,writable:!1,enumerable:!1};function rs(e,t,n,r){n===void 0&&(n=!1);function o(){return OS(e,n,t,r||this,arguments)}return o.isMobxAction=!0,RS&&(zp.value=e,Object.defineProperty(o,"name",zp)),o}function OS(e,t,n,r,o){var i=PS(e,t,r,o);try{return n.apply(r,o)}catch(s){throw i.error_=s,s}finally{kS(i)}}function PS(e,t,n,r){var o=!1,i=0;if(!1)var s;var a=F.trackingDerivation,l=!t||!a;Tn();var c=F.allowStateChanges;l&&(ss(),c=u9(!0));var u=e7(!0),d={runAsAction_:l,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:o,startTime_:i,actionId_:MS++,parentActionId_:c9};return c9=d.actionId_,d}function kS(e){c9!==e.actionId_&&Te(30),c9=e.parentActionId_,e.error_!==void 0&&(F.suppressReactionErrors=!0),d9(e.prevAllowStateChanges_),xl(e.prevAllowStateReads_),Vn(),e.runAsAction_&&no(e.prevDerivation_),F.suppressReactionErrors=!1}function u9(e){var t=F.allowStateChanges;return F.allowStateChanges=e,t}function d9(e){F.allowStateChanges=e}var Kp;Kp=Symbol.toPrimitive;var os=function(e){Rp(t,e);function t(r,o,i,s,a){var l;return i===void 0&&(i="ObservableValue"),s===void 0&&(s=!0),a===void 0&&(a=r9.default),l=e.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=o,l.name_=i,l.equals=a,l.value_=o(r,void 0,i),l}var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){var i=this.value_;if(o=this.prepareNewValue_(o),o!==F.UNCHANGED){var s=Uo();this.setNewValue_(o)}},n.prepareNewValue_=function(o){if(is(this),tr(this)){var i=nr(this,{object:this,type:$r,newValue:o});if(!i)return F.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?F.UNCHANGED:o},n.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),br(this)&&xr(this,{type:$r,object:this,newValue:o,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return Ll(this,o)},n.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:$r,newValue:this.value_,oldValue:void 0}),El(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Ip(this.get())},n[Kp]=function(){return this.valueOf()},t}(wl);var Wp;Wp=Symbol.toPrimitive;var bl=function(){function e(n){this.dependenciesState_=Be.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Be.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new p9(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=to.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Te(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=rs("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?r9.structural:r9.default),this.scope_=n.context,this.requiresReaction_=!!n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){jS(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&Te(32,this.name_,this.derivation),F.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Q3(this)&&(this.warnAboutUntrackedRead_(),Tn(),this.value_=this.computeValue_(!1),Vn());else if(eh(this),Q3(this)){var r=F.trackingContext;this.keepAlive_&&!r&&(F.trackingContext=this),this.trackAndCompute()&&DS(this),F.trackingContext=r}var o=this.value_;if(h9(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter_&&Te(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else Te(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Be.NOT_TRACKING_,i=this.computeValue_(!0),s=o||h9(r)||h9(i)||!this.equals_(r,i);return s&&(this.value_=i),s},t.computeValue_=function(r){this.isComputing_=!0;var o=u9(!1),i;if(r)i=Xp(this,this.derivation,this.scope_);else if(F.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(s){i=new p9(s)}return d9(o),this.isComputing_=!1,i},t.suspend_=function(){this.keepAlive_||(J3(this),this.value_=void 0)},t.observe_=function(r,o){var i=this,s=!0,a=void 0;return YS(function(){var l=i.get();if(!s||o){var c=ss();r({observableKind:"computed",debugObjectName:i.name_,type:$r,object:i,newValue:l,oldValue:a}),no(c)}s=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Ip(this.get())},t[Wp]=function(){return this.valueOf()},e}(),f9=Fo("ComputedValue",bl),Be;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Be||(Be={}));var to;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(to||(to={}));var p9=function(t){this.cause=void 0,this.cause=t};function h9(e){return e instanceof p9}function Q3(e){switch(e.dependenciesState_){case Be.UP_TO_DATE_:return!1;case Be.NOT_TRACKING_:case Be.STALE_:return!0;case Be.POSSIBLY_STALE_:{for(var t=e7(!0),n=ss(),r=e.observing_,o=r.length,i=0;i<o;i++){var s=r[i];if(f9(s)){if(F.disableErrorBoundaries)s.get();else try{s.get()}catch{return no(n),xl(t),!0}if(e.dependenciesState_===Be.STALE_)return no(n),xl(t),!0}}return Gp(e),no(n),xl(t),!1}}}function is(e){return;var t}function HS(e){}function Xp(e,t,n){var r=e7(!0);Gp(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++F.runId;var o=F.trackingDerivation;F.trackingDerivation=e,F.inBatch++;var i;if(F.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(s){i=new p9(s)}return F.inBatch--,F.trackingDerivation=o,VS(e),TS(e),xl(r),i}function TS(e){}function VS(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Be.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,s=0;s<i;s++){var a=n[s];a.diffValue_===0&&(a.diffValue_=1,o!==s&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var l=t[i];l.diffValue_===0&&Qp(l,e),l.diffValue_=0}for(;o--;){var c=n[o];c.diffValue_===1&&(c.diffValue_=0,AS(c,e))}r!==Be.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function J3(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Qp(t[n],e);e.dependenciesState_=Be.NOT_TRACKING_}function Yp(e){var t=ss();try{return e()}finally{no(t)}}function ss(){var e=F.trackingDerivation;return F.trackingDerivation=null,e}function no(e){F.trackingDerivation=e}function e7(e){var t=F.allowStateReads;return F.allowStateReads=e,t}function xl(e){F.allowStateReads=e}function Gp(e){if(e.dependenciesState_!==Be.UP_TO_DATE_){e.dependenciesState_=Be.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Be.UP_TO_DATE_}}var v9=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},g9=!0,qp=!1,F=function(){var e=W3();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(g9=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new v9().version&&(g9=!1),g9?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new v9):(setTimeout(function(){qp||Te(35)},1),new v9)}();function BS(){if((F.pendingReactions.length||F.inBatch||F.isRunningReactions)&&Te(36),qp=!0,g9){var e=W3();--e.__mobxInstanceCount==0&&(e.__mobxGlobals=void 0),F=new v9}}function AS(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Qp(e,t){e.observers_.delete(t),e.observers_.size===0&&Jp(e)}function Jp(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,F.pendingUnobservations.push(e))}function Tn(){F.inBatch++}function Vn(){if(--F.inBatch==0){nh();for(var e=F.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof bl&&n.suspend_())}F.pendingUnobservations=[]}}function eh(e){HS(e);var t=F.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&F.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(e.observers_.size===0&&F.inBatch>0&&Jp(e),!1)}function th(e){e.lowestObserverState_!==Be.STALE_&&(e.lowestObserverState_=Be.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Be.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Be.STALE_}))}function DS(e){e.lowestObserverState_!==Be.STALE_&&(e.lowestObserverState_=Be.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Be.POSSIBLY_STALE_?t.dependenciesState_=Be.STALE_:t.dependenciesState_===Be.UP_TO_DATE_&&(e.lowestObserverState_=Be.UP_TO_DATE_)}))}function jS(e){e.lowestObserverState_===Be.UP_TO_DATE_&&(e.lowestObserverState_=Be.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Be.UP_TO_DATE_&&(t.dependenciesState_=Be.POSSIBLY_STALE_,t.onBecomeStale_())}))}var as=function(){function e(n,r,o,i){n===void 0&&(n="Reaction"),i===void 0&&(i=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Be.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=to.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,F.pendingReactions.push(this),nh())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Tn(),this.isScheduled_=!1;var r=F.trackingContext;if(F.trackingContext=this,Q3(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}F.trackingContext=r,Vn()}},t.track=function(r){if(!this.isDisposed_){Tn();var o=Uo(),i;this.isRunning_=!0;var s=F.trackingContext;F.trackingContext=this;var a=Xp(this,r,void 0);F.trackingContext=s,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&J3(this),h9(a)&&this.reportExceptionInDerivation_(a.cause),Vn()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(F.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";F.suppressReactionErrors||console.error(i,r),F.globalReactionErrorHandlers.forEach(function(s){return s(r,o)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Tn(),J3(this),Vn()))},t.getDisposer_=function(){var r=this.dispose.bind(this);return r[Ce]=this,r},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){r===void 0&&(r=!1),lL(this,r)},e}();var NS=100,t7=function(t){return t()};function nh(){F.inBatch>0||F.isRunningReactions||t7(ZS)}function ZS(){F.isRunningReactions=!0;for(var e=F.pendingReactions,t=0;e.length>0;){++t===NS&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}F.isRunningReactions=!1}var m9=Fo("Reaction",as);function $S(e){var t=t7;t7=function(r){return e(function(){return t(r)})}}function Uo(){return!1}function FS(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var rh="action",US="action.bound",oh="autoAction",zS="autoAction.bound",KS="<unnamed action>",ih=yl(rh),WS=yl(US,{bound:!0}),sh=yl(oh,{autoAction:!0}),XS=yl(zS,{autoAction:!0,bound:!0});function ah(e){var t=function(r,o){if(er(r))return rs(r.name||KS,r,e);if(er(o))return rs(r,o,e);if($o(o))return Cl(r,o,e?sh:ih);if($o(r))return Zr(yl(e?oh:rh,{name:r,autoAction:e}))};return t}var ls=ah(!1);Object.assign(ls,ih);var _l=ah(!0);Object.assign(_l,sh);ls.bound=Zr(WS);_l.bound=Zr(XS);function n7(e){return er(e)&&e.isMobxAction===!0}function YS(e,t){var n,r;t===void 0&&(t=bp);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",i=!t.scheduler&&!t.delay,s;if(i)s=new as(o,function(){this.track(c)},t.onError,t.requiresObservable);else{var a=qS(t),l=!1;s=new as(o,function(){l||(l=!0,a(function(){l=!1,s.isDisposed_||s.track(c)}))},t.onError,t.requiresObservable)}function c(){e(s)}return s.schedule_(),s.getDisposer_()}var GS=function(t){return t()};function qS(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:GS}var QS="onBO",JS="onBUO";function eL(e,t,n){return ch(QS,e,t,n)}function lh(e,t,n){return ch(JS,e,t,n)}function ch(e,t,n,r){var o=typeof r=="function"?io(t,n):io(t),i=er(r)?r:n,s=e+"L";return o[s]?o[s].add(i):o[s]=new Set([i]),function(){var a=o[s];a&&(a.delete(i),a.size===0&&delete o[s])}}var tL="never",C9="always",nL="observed";function uh(e){e.isolateGlobalState===!0&&BS();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(F.useProxies=t===C9?!0:t===tL?!1:typeof Proxy!="undefined"),t==="ifavailable"&&(F.verifyProxies=!0),n!==void 0){var r=n===C9?C9:n===nL;F.enforceActions=r,F.allowStateChanges=!(r===!0||r===C9)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(F[o]=!!e[o])}),F.allowStateReads=!F.observableRequiresReaction,e.reactionScheduler&&$S(e.reactionScheduler)}function rL(e,t,n,r){var o=$_(t),i=x9(e,r)[Ce];Tn();try{n9(o).forEach(function(s){i.extend_(s,o[s],n&&s in n?n[s]:!0)})}finally{Vn()}return e}function dh(e,t){return fh(io(e,t))}function fh(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=oL(e.observing_).map(fh)),t}function oL(e){return Array.from(new Set(e))}var iL=0;function ph(){this.message="FLOW_CANCELLED"}ph.prototype=Object.create(Error.prototype);var hh=Tp("flow"),sL=Tp("flow.bound",{bound:!0}),Sl=Object.assign(function(t,n){if($o(n))return Cl(t,n,hh);var r=t,o=r.name||"<unnamed flow>",i=function(){var a=this,l=arguments,c=++iL,u=ls(o+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,p=new Promise(function(h,m){var v=0;d=m;function C(y){f=void 0;var x;try{x=ls(o+" - runid: "+c+" - yield "+v++,u.next).call(u,y)}catch(L){return m(L)}b(x)}function g(y){f=void 0;var x;try{x=ls(o+" - runid: "+c+" - yield "+v++,u.throw).call(u,y)}catch(L){return m(L)}b(x)}function b(y){if(er(y==null?void 0:y.then)){y.then(b,m);return}return y.done?h(y.value):(f=Promise.resolve(y.value),f.then(C,g))}C(void 0)});return p.cancel=ls(o+" - runid: "+c+" - cancel",function(){try{f&&vh(f);var h=u.return(void 0),m=Promise.resolve(h.value);m.then(Qi,Qi),vh(m),d(new ph)}catch(v){d(v)}}),p};return i.isMobXFlow=!0,i},hh);Sl.bound=Zr(sL);function vh(e){er(e.cancel)&&e.cancel()}function r7(e){return(e==null?void 0:e.isMobXFlow)===!0}function aL(e,t){return e?t!==void 0?Il(e)?e[Ce].values_.has(t):!1:Il(e)||!!e[Ce]||G3(e)||m9(e)||f9(e):!1}function gh(e){return aL(e)}function lL(){Te("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(e=n.pop());var o=cL(n);if(!o)return Te("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===to.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?to.BREAK:to.LOG}function cL(e){switch(e.length){case 0:return F.trackingDerivation;case 1:return io(e[0]);case 2:return io(e[0],e[1])}}function d1(e,t){t===void 0&&(t=void 0),Tn();try{return e.apply(t)}finally{Vn()}}function cs(e){return e[Ce]}var uL={has:function(t,n){return cs(t).has_(n)},get:function(t,n){return cs(t).get_(n)},set:function(t,n,r){var o;return $o(n)?(o=cs(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return $o(n)?(r=cs(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=cs(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return cs(t).ownKeys_()},preventExtensions:function(t){Te(13)}};function dL(e,t){var n,r;return xp(),e=x9(e,t),(r=(n=e[Ce]).proxy_)!=null?r:n.proxy_=new Proxy(e,uL)}function tr(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Ll(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),_p(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function nr(e,t){var n=ss();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&(t=r[o](t),t&&!t.type&&Te(14),!!t);o++);return t}finally{no(n)}}function br(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function El(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),_p(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function xr(e,t){var n=ss(),r=e.changeListeners_;if(!!r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);no(n)}}function mh(e,t,n){var r=x9(e,n)[Ce];Tn();try{var o;(o=t)!=null||(t=z_(e)),n9(t).forEach(function(i){return r.make_(i,t[i])})}finally{Vn()}return e}var Ch="splice",$r="update",fL=1e4,pL={get:function(t,n){var r=t[Ce];return n===Ce?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):eo(w9,n)?w9[n]:t[n]},set:function(t,n,r){var o=t[Ce];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){Te(15)}},o7=function(){function e(n,r,o,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new wl(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Ll(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),El(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Te("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),s=0;s<r-o;s++)i[s]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Te(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&Hh(r+o+1)},t.spliceWithArray_=function(r,o,i){var s=this;is(this.atom_);var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),i===void 0&&(i=X3),tr(this)){var l=nr(this,{object:this.proxy_,type:Ch,index:r,removedCount:o,added:i});if(!l)return X3;o=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(d){return s.enhancer_(d,void 0)}),this.legacyMode_){var c=i.length-o;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,o,i){if(i.length<fL){var s;return(s=this.values_).splice.apply(s,[r,o].concat(i))}else{var a=this.values_.slice(r,r+o),l=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var c=0;c<i.length;c++)this.values_[r+c]=i[c];for(var u=0;u<l.length;u++)this.values_[r+i.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,o,i){var s=!this.owned_&&Uo(),a=br(this),l=a||s?{observableKind:"array",object:this.proxy_,type:$r,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;this.atom_.reportChanged(),a&&xr(this,l)},t.notifyArraySplice_=function(r,o,i){var s=!this.owned_&&Uo(),a=br(this),l=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ch,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&xr(this,l)},t.get_=function(r){if(r<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r]);console.warn("[mobx.array] Attempt to read an array index ("+r+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(r,o){var i=this.values_;if(r<i.length){is(this.atom_);var s=i[r];if(tr(this)){var a=nr(this,{type:$r,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,s);var l=o!==s;l&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,s))}else r===i.length?this.spliceWithArray_(r,0,[o]):Te(17,r,i.length)},e}();function hL(e,t,n,r){n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),xp();var o=new o7(n,t,r,!1);Lp(o.values_,Ce,o);var i=new Proxy(o.values_,pL);if(o.proxy_=i,e&&e.length){var s=u9(!0);o.spliceWithArray_(0,0,e),d9(s)}return i}var w9={clear:function(){return this.splice(0)},replace:function(t){var n=this[Ce];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var s=this[Ce];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[Ce].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Ce],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Ce].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Ce],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return F.trackingDerivation&&Te(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){F.trackingDerivation&&Te(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Ce],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Tt("concat",f1);Tt("flat",f1);Tt("includes",f1);Tt("indexOf",f1);Tt("join",f1);Tt("lastIndexOf",f1);Tt("slice",f1);Tt("toString",f1);Tt("toLocaleString",f1);Tt("every",ro);Tt("filter",ro);Tt("find",ro);Tt("findIndex",ro);Tt("flatMap",ro);Tt("forEach",ro);Tt("map",ro);Tt("some",ro);Tt("reduce",wh);Tt("reduceRight",wh);function Tt(e,t){typeof Array.prototype[e]=="function"&&(w9[e]=t(e))}function f1(e){return function(){var t=this[Ce];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ro(e){return function(t,n){var r=this,o=this[Ce];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(s,a){return t.call(n,s,a,r)})}}function wh(e){return function(){var t=this,n=this[Ce];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(i,s,a){return o(i,s,a,t)},r[e].apply(r,arguments)}}var vL=Fo("ObservableArrayAdministration",o7);function y9(e){return e9(e)&&vL(e[Ce])}var yh,bh,gL={},oo="add",b9="delete";yh=Symbol.iterator;bh=Symbol.toStringTag;var xh=function(){function e(n,r,o){r===void 0&&(r=ns),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ce]=gL,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,er(Map)||Te(18),this.keysAtom_=kp("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(n)}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!F.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var s=i=new os(this.has_(r),o9,"ObservableMap.key?",!1);this.hasMap_.set(r,s),lh(s,function(){return o.hasMap_.delete(r)})}return i.get()},t.set=function(r,o){var i=this.has_(r);if(tr(this)){var s=nr(this,{type:i?$r:oo,object:this,newValue:o,name:r});if(!s)return this;o=s.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(is(this.keysAtom_),tr(this)){var i=nr(this,{type:b9,object:this,name:r});if(!i)return!1}if(this.has_(r)){var s=Uo(),a=br(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:b9,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return d1(function(){var c;o.keysAtom_.reportChanged(),(c=o.hasMap_.get(r))==null||c.setNewValue_(!1);var u=o.data_.get(r);u.setNewValue_(void 0),o.data_.delete(r)}),a&&xr(this,l),!0}return!1},t.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==F.UNCHANGED){var s=Uo(),a=br(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:$r,object:this,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),a&&xr(this,l)}},t.addValue_=function(r,o){var i=this;is(this.keysAtom_),d1(function(){var c,u=new os(o,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,u),o=u.value_,(c=i.hasMap_.get(r))==null||c.setNewValue_(!0),i.keysAtom_.reportChanged()});var s=Uo(),a=br(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:oo,object:this,name:r,newValue:o}:null;a&&xr(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Ml({next:function(){var s=o.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,o=this.keys();return Ml({next:function(){var s=o.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[yh]=function(){return this.entries()},t.forEach=function(r,o){for(var i=ts(this),s;!(s=i()).done;){var a=s.value,l=a[0],c=a[1];r.call(o,c,l,this)}},t.merge=function(r){var o=this;return zo(r)&&(r=new Map(r)),d1(function(){J1(r)?Z_(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var s=i[0],a=i[1];return o.set(s,a)}):Ji(r)?(r.constructor!==Map&&Te(19,r),r.forEach(function(i,s){return o.set(s,i)})):r!=null&&Te(20,r)}),this},t.clear=function(){var r=this;d1(function(){Yp(function(){for(var o=ts(r.keys()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.replace=function(r){var o=this;return d1(function(){for(var i=mL(r),s=new Map,a=!1,l=ts(o.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!i.has(u)){var d=o.delete(u);if(d)a=!0;else{var f=o.data_.get(u);s.set(u,f)}}}for(var p=ts(i.entries()),h;!(h=p()).done;){var m=h.value,v=m[0],C=m[1],g=o.data_.has(v);if(o.set(v,C),o.data_.has(v)){var b=o.data_.get(v);s.set(v,b),g||(a=!0)}}if(!a)if(o.data_.size!==s.size)o.keysAtom_.reportChanged();else for(var y=o.data_.keys(),x=s.keys(),L=y.next(),I=x.next();!L.done;){if(L.value!==I.value){o.keysAtom_.reportChanged();break}L=y.next(),I=x.next()}o.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return El(this,r)},t.intercept_=function(r){return Ll(this,r)},Y3(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:bh,get:function(){return"Map"}}]),e}(),zo=Fo("ObservableMap",xh);function mL(e){if(Ji(e)||zo(e))return e;if(Array.isArray(e))return new Map(e);if(J1(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Te(21,e)}var _h,Sh,CL={};_h=Symbol.iterator;Sh=Symbol.toStringTag;var Lh=function(){function e(n,r,o){r===void 0&&(r=ns),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[Ce]=CL,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,er(Set)||Te(22),this.atom_=kp(this.name_),this.enhancer_=function(i,s){return r(i,s,o)},n&&this.replace(n)}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;d1(function(){Yp(function(){for(var o=ts(r.data_.values()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.forEach=function(r,o){for(var i=ts(this),s;!(s=i()).done;){var a=s.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(is(this.atom_),tr(this)){var i=nr(this,{type:oo,object:this,newValue:r});if(!i)return this}if(!this.has(r)){d1(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var s=!1,a=br(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:oo,object:this,newValue:r}:null;a&&xr(this,l)}return this},t.delete=function(r){var o=this;if(tr(this)){var i=nr(this,{type:b9,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var s=!1,a=br(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:b9,object:this,oldValue:r}:null;return d1(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&xr(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),i=Array.from(this.values());return Ml({next:function(){var a=r;return r+=1,a<i.length?{value:[o[a],i[a]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,i=Array.from(this.data_.values());return Ml({next:function(){return o<i.length?{value:r.dehanceValue_(i[o++]),done:!1}:{done:!0}}})},t.replace=function(r){var o=this;return us(r)&&(r=new Set(r)),d1(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):ml(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&Te("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return El(this,r)},t.intercept_=function(r){return Ll(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[_h]=function(){return this.values()},Y3(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Sh,get:function(){return"Set"}}]),e}(),us=Fo("ObservableSet",Lh),Eh=Object.create(null),Ih="remove",Mh=function(){function e(n,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=pS),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new wl("ObservableObject.keys"),this.isPlainObject_=J1(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof bl)return i.set(o),!0;if(tr(this)){var s=nr(this,{type:$r,object:this.proxy_||this.target_,name:r,newValue:o});if(!s)return null;o=s.newValue}if(o=i.prepareNewValue_(o),o!==F.UNCHANGED){var a=br(this),l=!1,c=a||l?{type:$r,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),a&&xr(this,c)}return!0},t.get_=function(r){return F.trackingDerivation&&!eo(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,i){return i===void 0&&(i=!1),eo(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!F.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new os(r in this.target_,o9,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(Ph(this,o,r),!(r in this.target_)){var i;if((i=this.target_[Nr])==null?void 0:i[r])return;Te(1,o.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==J2;){var a=Q2(s,r);if(a){var l=o.make_(this,r,a,s);if(l===0)return;if(l===1)break}s=Object.getPrototypeOf(s)}Oh(this,o,r)}},t.extend_=function(r,o,i,s){if(s===void 0&&(s=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,s);Ph(this,i,r);var a=i.extend_(this,r,o,s);return a&&Oh(this,i,r),a},t.defineProperty_=function(r,o,i){i===void 0&&(i=!1);try{Tn();var s=this.delete_(r);if(!s)return s;if(tr(this)){var a=nr(this,{object:this.proxy_||this.target_,name:r,type:oo,newValue:o.value});if(!a)return null;var l=a.newValue;o.value!==l&&(o=es({},o,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else u1(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{Vn()}return!0},t.defineObservableProperty_=function(r,o,i,s){s===void 0&&(s=!1);try{Tn();var a=this.delete_(r);if(!a)return a;if(tr(this)){var l=nr(this,{object:this.proxy_||this.target_,name:r,type:oo,newValue:o});if(!l)return null;o=l.newValue}var c=Rh(r),u={configurable:F.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else u1(this.target_,r,u);var d=new os(o,i,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{Vn()}return!0},t.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1);try{Tn();var s=this.delete_(r);if(!s)return s;if(tr(this)){var a=nr(this,{object:this.proxy_||this.target_,name:r,type:oo,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var l=Rh(r),c={configurable:F.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else u1(this.target_,r,c);this.values_.set(r,new bl(o)),this.notifyPropertyAddition_(r,void 0)}finally{Vn()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),!eo(this.target_,r))return!0;if(tr(this)){var i=nr(this,{object:this.proxy_||this.target_,name:r,type:Ih});if(!i)return null}try{var s,a;Tn();var l=br(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=Q2(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof os&&(d=u.value_),th(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(a=s.get(r))==null||a.set(r in this.target_),l||c){var p={type:Ih,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&xr(this,p)}}finally{Vn()}return!0},t.observe_=function(r,o){return El(this,r)},t.intercept_=function(r){return Ll(this,r)},t.notifyPropertyAddition_=function(r,o){var i,s,a=br(this),l=!1;if(a||l){var c=a||l?{type:oo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;a&&xr(this,c)}(i=this.pendingKeys_)==null||(s=i.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),n9(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function x9(e,t){var n;if(eo(e,Ce))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new Mh(e,new Map,String(r),_S(t));return t9(e,Ce,o),e}var wL=Fo("ObservableObjectAdministration",Mh);function Rh(e){return Eh[e]||(Eh[e]={get:function(){return this[Ce].getObservablePropValue_(e)},set:function(n){return this[Ce].setObservablePropValue_(e,n)}})}function Il(e){return e9(e)?wL(e[Ce]):!1}function Oh(e,t,n){var r;(r=e.target_[Nr])==null||delete r[n]}function Ph(e,t,n){if(!1)var r,o,i}var i7=0,kh=function(){};function yL(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}yL(kh,Array.prototype);var s7=function(e){Rp(t,e);function t(r,o,i,s){var a;i===void 0&&(i="ObservableArray"),s===void 0&&(s=!1),a=e.call(this)||this;var l=new o7(i,o,s,!0);if(l.proxy_=Op(a),Lp(Op(a),Ce,l),r&&r.length){var c=u9(!0);a.spliceWithArray(0,0,r),d9(c)}return a}var n=t.prototype;return n.concat=function(){this[Ce].atom_.reportObserved();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return y9(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return Ml({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Y3(t,[{key:"length",get:function(){return this[Ce].getArrayLength_()},set:function(o){this[Ce].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(kh);Object.entries(w9).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&t9(s7.prototype,t,n)});function bL(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ce].get_(e)},set:function(n){this[Ce].set_(e,n)}}}function xL(e){u1(s7.prototype,""+e,bL(e))}function Hh(e){if(e>i7){for(var t=i7;t<e+100;t++)xL(t);i7=e}}Hh(1e3);function _L(e,t,n){return new s7(e,t,n)}function io(e,t){if(typeof e=="object"&&e!==null){if(y9(e))return t!==void 0&&Te(23),e[Ce].atom_;if(us(e))return e[Ce];if(zo(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Te(25,t,a7(e)),n}if(Il(e)){if(!t)return Te(26);var r=e[Ce].values_.get(t);return r||Te(27,t,a7(e)),r}if(G3(e)||f9(e)||m9(e))return e}else if(er(e)&&m9(e[Ce]))return e[Ce];Te(28)}function Th(e,t){if(e||Te(29),t!==void 0)return Th(io(e,t));if(G3(e)||f9(e)||m9(e)||zo(e)||us(e))return e;if(e[Ce])return e[Ce];Te(24,e)}function a7(e,t){var n;if(t!==void 0)n=io(e,t);else{if(n7(e))return e.name;Il(e)||zo(e)||us(e)?n=Th(e):n=io(e)}return n.name_}var Vh=J2.toString;function l7(e,t,n){return n===void 0&&(n=-1),c7(e,t,n)}function c7(e,t,n,r,o){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(!er(i)&&i!=="object"&&typeof t!="object")return!1;var s=Vh.call(e);if(s!==Vh.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Bh(e),t=Bh(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(er(l)&&l instanceof l&&er(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var u=r.length;u--;)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!c7(e[u],t[u],n-1,r,o))return!1}else{var d=Object.keys(e),f;if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(f=d[u],!(eo(t,f)&&c7(e[f],t[f],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function Bh(e){return y9(e)?e.slice():Ji(e)||zo(e)||ml(e)||us(e)?Array.from(e.entries()):e}function Ml(e){return e[Symbol.iterator]=SL,e}function SL(){return this}["Symbol","Map","Set"].forEach(function(e){var t=W3();typeof t[e]=="undefined"&&Te("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:FS,extras:{getDebugName:a7},$mobx:Ce});var Ah=M(R());if(!Ah.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!mh)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var u7=M(G2());function LL(e){e()}function d7(e){e||(e=LL),uh({reactionScheduler:e})}var ds=M(R());function Dh(e){return dh(e)}var f7=typeof FinalizationRegistry=="undefined"?void 0:FinalizationRegistry;function _9(e){var t={reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+EL};return t}var EL=1e4,jh=1e4;function Nh(e){var t=new Map,n=1,r=new e(function(i){var s=t.get(i);s&&(s.reaction.dispose(),t.delete(i))});return{addReactionToTrack:function(o,i,s){var a=n++;return r.register(s,a,o),o.current=_9(i),o.current.finalizationRegistryCleanupToken=a,t.set(a,o.current),o.current},recordReactionAsCommitted:function(o){r.unregister(o),o.current&&o.current.finalizationRegistryCleanupToken&&t.delete(o.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}var IL=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Zh(){var e=new Set,t;function n(){t&&(clearTimeout(t),a())}function r(){var l,c;if(e.size>0){try{for(var u=IL(e),d=u.next();!d.done;d=u.next()){var f=d.value,p=f.current;p&&(p.reaction.dispose(),f.current=null)}}catch(h){l={error:h}}finally{try{d&&!d.done&&(c=u.return)&&c.call(u)}finally{if(l)throw l.error}}e.clear()}t&&(clearTimeout(t),t=void 0)}function o(){t===void 0&&(t=setTimeout(a,jh))}function i(l){e.add(l),o()}function s(l){e.delete(l)}function a(){t=void 0;var l=Date.now();e.forEach(function(c){var u=c.current;u&&l>=u.cleanAt&&(u.reaction.dispose(),c.current=null,e.delete(c))}),e.size>0&&o()}return{addReactionToTrack:function(l,c,u){return l.current=_9(c),i(l),l.current},recordReactionAsCommitted:s,forceCleanupTimerToRunNowForTests:n,resetCleanupScheduleForTests:r}}var S9=f7?Nh(f7):Zh(),$h=S9.addReactionToTrack,Fh=S9.recordReactionAsCommitted,ML=S9.resetCleanupScheduleForTests,zB=S9.forceCleanupTimerToRunNowForTests;var RL=!1;function Rl(){return RL}var Uh=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function zh(e){return"observer"+e}var OL=function(){function e(){}return e}();function PL(){return new OL}function Ol(e,t){if(t===void 0&&(t="observed"),Rl())return e();var n=Uh(ds.default.useState(PL),1),r=n[0],o=Uh(ds.default.useState(),2),i=o[1],s=function(){return i([])},a=ds.default.useRef(null);if(!a.current)var l=new as(zh(t),function(){c.mounted?s():c.changedBeforeMount=!0}),c=$h(a,l,r);var u=a.current.reaction;ds.default.useDebugValue(u,Dh),ds.default.useEffect(function(){return Fh(a),a.current?(a.current.mounted=!0,a.current.changedBeforeMount&&(a.current.changedBeforeMount=!1,s())):(a.current={reaction:new as(zh(t),function(){s()}),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},s()),function(){a.current.reaction.dispose(),a.current=null}},[]);var d,f;if(u.track(function(){try{d=e()}catch(p){f=p}}),f)throw f;return d}var Pl=M(R());var p7=function(){return p7=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},p7.apply(this,arguments)};function ye(e,t){if(Rl())return e;var n=p7({forwardRef:!1},t),r=e.displayName||e.name,o=function(s,a){return Ol(function(){return e(s,a)},r)};o.displayName=r,e.contextTypes&&(o.contextTypes=e.contextTypes);var i;return n.forwardRef?i=(0,Pl.memo)((0,Pl.forwardRef)(o)):i=(0,Pl.memo)(o),HL(e,i),i.displayName=r,i}var kL={$$typeof:!0,render:!0,compare:!0,type:!0};function HL(e,t){Object.keys(e).forEach(function(n){kL[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}function fs(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:Ol(r)}fs.displayName="Observer";var TL=M(R());var AL=M(R());var VL=M(R());d7(u7.unstable_batchedUpdates);var rr=M(R());var cn=M(R()),k9=M(R()),ys=M(R());function jL(e,t,n){return Math.max(t,Math.min(e,n))}var rt={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Kh(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function Wh(e,t,n,r=.15){return r===0?jL(e,t,n):e<t?-Kh(t-e,n-t,r)+t:e>n?+Kh(e-n,n-t,r)+n:e}function Xh(e,[t,n],[r,o]){let[[i,s],[a,l]]=e;return[Wh(t,i,s,r),Wh(n,a,l,o)]}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(n),!0).forEach(function(r){wt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Gh={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function qh(e){return e?e[0].toUpperCase()+e.slice(1):""}function Qh(e,t="",n=!1){let r=Gh[e],o=r&&r[t]||t;return"on"+qh(e)+qh(o)+(n?"Capture":"")}function Jh(e,t=""){let n=Gh[e],r=n&&n[t]||t;return e+r}function L9(e){return"touches"in e}function NL(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function ZL(e){return e.type==="touchend"?e.changedTouches:e.targetTouches}function ev(e){return L9(e)?ZL(e)[0]:e}function h7(e,t){let n=t.clientX-e.clientX,r=t.clientY-e.clientY,o=(t.clientX+e.clientX)/2,i=(t.clientY+e.clientY)/2,s=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:s,origin:[o,i]}}function tv(e){return NL(e).map(t=>t.identifier)}function nv(e,t){let[n,r]=Array.from(e.touches).filter(o=>t.includes(o.identifier));return h7(n,r)}function v7(e){let t=ev(e);return L9(e)?t.identifier:t.pointerId}function ps(e){let t=ev(e);return[t.clientX,t.clientY]}var rv=40,ov=800;function iv(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=rv,n*=rv):r===2&&(t*=ov,n*=ov),[t,n]}function $L(e){var t,n;let{scrollX:r,scrollY:o,scrollLeft:i,scrollTop:s}=e.currentTarget;return[(t=r??i)!==null&&t!==void 0?t:0,(n=o??s)!==null&&n!==void 0?n:0]}function FL(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i})}return t}function E9(e,...t){return typeof e=="function"?e(...t):e}function UL(){}function sv(...e){return e.length===0?UL:e.length===1?e[0]:function(){let t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function av(e,t){return Object.assign({},t,e||{})}var zL=32,g7=class{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:t,shared:n,ingKey:r,args:o}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=o,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){let n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?E9(r.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=t.timeStamp}computeValues(t){let n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){let t=this.state;t._initial=t._values,t.initial=t.values}compute(t){let{state:n,config:r,shared:o}=this;n.args=this.args;let i=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,FL(t)),o.down=o.pressed=o.buttons%2==1||o.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){let h=n._delta.map(Math.abs);rt.addTo(n._distance,h)}let[s,a]=n._movement,[l,c]=r.threshold,{_step:u,values:d}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=l&&d[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&d[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=l&&Math.sign(s)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=u[0]!==!1||u[0]!==!1,!n.intentional)return;let f=[0,0];if(r.hasCustomTransform){let[h,m]=d;f[0]=u[0]!==!1?h-u[0]:0,f[1]=u[1]!==!1?m-u[1]:0}else f[0]=u[0]!==!1?s-u[0]:0,f[1]=u[1]!==!1?a-u[1]:0;if(this.intent&&this.intent(f),(n._active&&!n._blocked||n.active)&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=o[this.ingKey]=n._active,t)){n.first&&("bounds"in r&&(n._bounds=E9(r.bounds,n)),this.setup&&this.setup()),n.movement=f;let h=n.offset;if(this.computeOffset(),!n.last||i>zL){n.delta=rt.sub(n.offset,h);let m=n.delta.map(Math.abs);rt.addTo(n.distance,m),n.direction=n.delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[m[0]/i,m[1]/i])}}let p=n._active?r.rubberband||[0,0]:[0,0];n.offset=Xh(n._bounds,n.offset,p),this.computeMovement()}emit(){let t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;let o=this.handler(_t(_t(_t({},n),t),{},{[this.aliasKey]:t.values}));o!==void 0&&(t.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}};function KL([e,t]){let n=Math.abs(e)-Math.abs(t);if(n>0)return"x";if(n<0)return"y"}function WL(e,t){switch(t){case"x":e[1]=0;break;case"y":e[0]=0;break}}var hs=class extends g7{constructor(...t){super(...t);wt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=rt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=rt.sub(this.state.offset,this.state.lastOffset)}intent(t){this.state.axis=this.state.axis||KL(t),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,!this.state._blocked&&(this.config.axis||this.config.lockDirection)&&WL(t,this.state.axis)}},XL=e=>e,lv=.15,cv={enabled(e=!0){return e},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[lv,lv];case!1:return[0,0];default:return rt.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return rt.toVector(e)},transform(e,t,n){let r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||XL},threshold(e){return rt.toVector(e,0)}},Ko=_t(_t({},cv),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},bounds(e={}){if(typeof e=="function")return i=>Ko.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:o=1/0}=e;return[[t,n],[r,o]]}}),I9=10,uv={ArrowRight:(e=1)=>[I9*e,0],ArrowLeft:(e=1)=>[-I9*e,0],ArrowUp:(e=1)=>[0,-I9*e],ArrowDown:(e=1)=>[0,I9*e]},dv=class extends hs{constructor(...t){super(...t);wt(this,"ingKey","dragging")}reset(){super.reset();let t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){let t=this.state;if(t._bounds instanceof HTMLElement){let n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),o={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Ko.bounds(o)}}cancel(){let t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){let n=this.config,r=this.state;t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons)||(this.ctrl.setEventIds(t),n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!r._pointerActive&&(this.start(t),this.setupPointer(t),r._pointerId=v7(t),r._pointerActive=!0,this.computeValues(ps(t)),this.computeInitial(),n.preventScroll?this.setupScrollPrevention(t):n.delay>0?this.setupDelayTrigger(t):this.startPointerDrag(t)))}startPointerDrag(t){let n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){let n=this.state,r=this.config;if(!n._pointerActive||n.type===t.type&&t.timeStamp===n.timeStamp)return;let o=v7(t);if(n._pointerId&&o!==n._pointerId)return;let i=ps(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=rt.sub(i,n._values),this.computeValues(i)),rt.addTo(n._movement,n._delta),this.compute(t),n._delayed){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScroll&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}let n=this.state,r=this.config;if(!n._pointerActive)return;let o=v7(t);if(n._pointerId&&o!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);let[i,s]=n._distance;if(n.tap=i<=3&&s<=3,n.tap&&r.filterTaps)n._force=!0;else{let[a,l]=n.direction,[c,u]=n.velocity,[d,f]=n.movement,[p,h]=r.swipe.velocity,[m,v]=r.swipe.distance,C=r.swipe.duration;n.elapsedTime<C&&(Math.abs(c)>p&&Math.abs(d)>m&&(n.swipe[0]=a),Math.abs(u)>h&&Math.abs(f)>v&&(n.swipe[1]=l))}this.emit()}pointerClick(t){this.state.tap||(t.preventDefault(),t.stopPropagation())}setupPointer(t){let n=this.config,r=n.device;if(!1)try{}catch(o){}n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){YL(t),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,t)}keyDown(t){let n=uv[t.key];if(n){let r=this.state,o=t.shiftKey?10:t.altKey?.1:1;r._delta=n(o),this.start(t),r._keyboardActive=!0,rt.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in uv&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){let n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this))),t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this)),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0})}};function YL(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}var kl=typeof window!="undefined"&&window.document&&window.document.createElement;function fv(){return kl&&"ontouchstart"in window}function GL(){return fv()||kl&&window.navigator.maxTouchPoints>1}function qL(){return kl&&"onpointerdown"in window}function QL(){return kl&&"exitPointerLock"in window.document}function JL(){try{return"constructor"in GestureEvent}catch{return!1}}var Bn={isBrowser:kl,gesture:JL(),touch:fv(),touchscreen:GL(),pointer:qL(),pointerLock:QL()},eE=250,tE=180,nE=.5,rE=50,oE=250,iE=_t(_t({},Ko),{},{pointerLock(e,t,{pointer:{lock:n=!1,touch:r=!1}={}}){return this.useTouch=Bn.touch&&r,Bn.pointerLock&&n},device(e,t){return this.useTouch?"touch":this.pointerLock?"mouse":Bn.pointer?"pointer":Bn.touch?"touch":"mouse"},preventScroll(e=!1,t,{preventScrollAxis:n="y"}){return n&&(this.preventScrollAxis=n),Bn.touchscreen?typeof e=="number"?e:e?eE:!1:!1},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,axis:r=void 0}){let o=rt.toVector(e,n?3:r?1:0);return this.filterTaps=n,o},swipe({velocity:e=nE,distance:t=rE,duration:n=oE}={}){return{velocity:this.transform(rt.toVector(e)),distance:this.transform(rt.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return tE;case!1:return 0;default:return e}}}),sE=30,aE=36,pv=class extends g7{constructor(...t){super(...t);wt(this,"ingKey","pinching"),wt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){let{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=rt.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){let{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}intent(t){let n=this.state;if(!n.axis){let r=Math.abs(t[0])*sE-Math.abs(t[1]);r<0?n.axis="angle":r>0&&(n.axis="scale")}this.config.lockDirection&&(n.axis==="scale"?t[1]=0:n.axis==="angle"&&(t[0]=0))}cancel(){let t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);let n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(i=>r.has(i))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);let o=nv(t,n._touchIds);this.pinchStart(t,o)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!=1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);let n=this.state,r=n._pointerEvents,o=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(s=>o.has(s))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);let i=h7(...Array.from(r.values()));this.pinchStart(t,i)}pinchStart(t,n){let r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;let n=nv(t,this.state._touchIds);this.pinchMove(t,n)}pointerMove(t){let n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;let r=h7(...Array.from(n.values()));this.pinchMove(t,r)}pinchMove(t,n){let r=this.state,o=r._values[1],i=n.angle-o,s=0;Math.abs(i)>270&&(s+=Math.sign(i)),this.computeValues([n.distance,n.angle-360*s]),r.origin=n.origin,r.turns=s,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),!!this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){let n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),!!n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();let n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;let n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];let r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=rt.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){!this.state._active||(this.state._active=!1,this.compute(t),this.emit())}wheel(t){!t.ctrlKey||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();let r=this.state;r._delta=[-iv(t)[1]/aE*r.offset[0],0],rt.addTo(r._movement,r._delta),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){let n=this.config.device;n?(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this))):t("wheel","",this.wheel.bind(this),{passive:!1})}},lE=_t(_t({},cv),{},{useTouch(e,t,{pointer:{touch:n=!1}={}}){return Bn.touch&&n},device(e,t,n){if(n.shared.target&&!Bn.touch&&Bn.gesture)return"gesture";if(this.useTouch)return"touch";if(Bn.touchscreen){if(Bn.pointer)return"pointer";if(Bn.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){let o=s=>{let a=av(E9(n,s),{min:-1/0,max:1/0});return[a.min,a.max]},i=s=>{let a=av(E9(r,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[o(),i()]:s=>[o(s),i(s)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",rt.toVector(e,this.lockDirection?[.1,3]:0)}}),hv=class extends hs{constructor(...t){super(...t);wt(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(ps(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;let n=ps(t),r=this.state;r._delta=rt.sub(n,r._values),rt.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){!this.state._active||(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}},cE=_t(_t({},Ko),{},{mouseOnly:(e=!0)=>e}),vv=class extends hs{constructor(...t){super(...t);wt(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();let n=this.state,r=$L(t);n._delta=rt.sub(r,n._values),rt.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}},uE=Ko,gv=class extends hs{constructor(...t){super(...t);wt(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){let n=this.state;n._delta=iv(t),rt.addTo(this.state._movement,n._delta),this.compute(t),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}},dE=Ko,mv=class extends hs{constructor(...t){super(...t);wt(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(ps(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;let n=this.state;if(!n._active)return;n._active=!1;let r=ps(t);n._movement=n._delta=rt.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}},fE=_t(_t({},Ko),{},{mouseOnly:(e=!0)=>e}),Hl=new Map,Tl=new Map;function m7(e){Hl.set(e.key,e.engine),Tl.set(e.key,e.resolver)}var C7={key:"drag",engine:dv,resolver:iE},w7={key:"hover",engine:mv,resolver:fE},y7={key:"move",engine:hv,resolver:cE},b7={key:"pinch",engine:pv,resolver:lE},x7={key:"scroll",engine:vv,resolver:uE},_7={key:"wheel",engine:gv,resolver:dE};var R9=M(R());function pE(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function hE(e,t){if(e==null)return{};var n=pE(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var vE={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Bn.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},gE=["target","eventOptions","window","enabled","transform"];function M9(e={},t){let n={};for(let[r,o]of Object.entries(t))switch(typeof o){case"function":n[r]=o.call(n,e[r],r,e);break;case"object":n[r]=M9(e[r],o);break;case"boolean":o&&(n[r]=e[r]);break}return n}function mE(e,t){let n=e,{target:r,eventOptions:o,window:i,enabled:s,transform:a}=n,l=hE(n,gE),c={shared:M9({target:r,eventOptions:o,window:i,enabled:s,transform:a},vE)};if(t){let u=Tl.get(t);c[t]=M9(_t({shared:c.shared},l),u)}else for(let u in l){let d=Tl.get(u);d&&(c[u]=M9(_t({shared:c.shared},l[u]),d))}return c}var S7=class{constructor(t){wt(this,"_listeners",[]),this._ctrl=t}add(t,n,r,o,i){let s=Jh(n,r),a=_t(_t({},this._ctrl.config.shared.eventOptions),i);t.addEventListener(s,o,a),this._listeners.push(()=>t.removeEventListener(s,o,a))}clean(){this._listeners.forEach(t=>t()),this._listeners=[]}},Cv=class{constructor(){wt(this,"_timeouts",new Map)}add(t,n,r=140,...o){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...o))}remove(t){let n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}},L7=class{constructor(t){wt(this,"gestures",new Set),wt(this,"_targetEventStore",new S7(this)),wt(this,"gestureEventStores",{}),wt(this,"gestureTimeoutStores",{}),wt(this,"handlers",{}),wt(this,"config",{}),wt(this,"pointerIds",new Set),wt(this,"touchIds",new Set),wt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),CE(this,t)}setEventIds(t){L9(t)?this.touchIds=new Set(tv(t)):"pointerId"in t&&(t.type==="pointerup"?this.pointerIds.delete(t.pointerId):this.pointerIds.add(t.pointerId))}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=mE(t,n)}clean(){this._targetEventStore.clean();for(let t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){let n=this.config.shared,r=n.eventOptions,o={},i;if(n.target&&(i=n.target(),!i))return;let s=wE(o,r,!!i);if(n.enabled){for(let a of this.gestures)if(this.config[a].enabled){let l=Hl.get(a);new l(this,t,a).bind(s)}for(let a in this.nativeHandlers)s(a,"",l=>this.nativeHandlers[a](_t(_t({},this.state.shared),{},{event:l,args:t})),void 0,!0)}for(let a in o)o[a]=sv(...o[a]);if(!i)return o;for(let a in o){let l=a.substr(2).toLowerCase(),c=!!~l.indexOf("capture"),u=!!~l.indexOf("passive");(c||u)&&(l=l.replace(/capture|passive/g,"")),this._targetEventStore.add(i,l,"",o[a],{capture:c,passive:u})}}};function vs(e,t){e.gestures.add(t),e.gestureEventStores[t]=new S7(e),e.gestureTimeoutStores[t]=new Cv}function CE(e,t){t.drag&&vs(e,"drag"),t.wheel&&vs(e,"wheel"),t.scroll&&vs(e,"scroll"),t.move&&vs(e,"move"),t.pinch&&vs(e,"pinch"),t.hover&&vs(e,"hover")}var wE=(e,t,n)=>(r,o,i,s={},a=!1)=>{var l,c;let u=(l=s.capture)!==null&&l!==void 0?l:t.capture,d=(c=s.passive)!==null&&c!==void 0?c:t.passive,f=a?r:Qh(r,o,u);n&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(i)},yE=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function bE(e){let t={},n={},r=new Set;for(let o in e)yE.test(o)?(r.add(RegExp.lastMatch),n[o]=e[o]):t[o]=e[o];return[n,t,r]}function gs(e,t,n,r,o,i){if(!e.has(n)||!Hl.has(r))return;let s=n+"Start",a=n+"End",l=c=>{let u;return c.first&&s in t&&t[s](c),n in t&&(u=t[n](c)),c.last&&a in t&&t[a](c),u};o[r]=l,i[r]=i[r]||{}}function wv(e,t){let[n,r,o]=bE(e),i={};return gs(o,n,"onDrag","drag",i,t),gs(o,n,"onWheel","wheel",i,t),gs(o,n,"onScroll","scroll",i,t),gs(o,n,"onPinch","pinch",i,t),gs(o,n,"onMove","move",i,t),gs(o,n,"onHover","hover",i,t),{handlers:i,config:t,nativeHandlers:r}}function xE(e,t={},n,r){let o=R9.default.useMemo(()=>new L7(e),[]);if(o.applyHandlers(e,r),o.applyConfig(t,n),R9.default.useEffect(o.effect.bind(o)),R9.default.useEffect(()=>o.clean.bind(o),[]),t.target===void 0)return o.bind.bind(o)}function _E(e){return e.forEach(m7),function(n,r={}){let{handlers:o,nativeHandlers:i,config:s}=wv(n,r);return xE(o,s,void 0,i)}}function yv(e,t={}){return _E([C7,b7,x7,_7,y7,w7])(e,t)}var ge=class{static clamp(e,t,n){return Math.max(t,typeof n!="undefined"?Math.min(e,n):e)}static clampV(e,t,n){return e.map(r=>n?ge.clamp(r,t,n):ge.clamp(r,t))}static cross(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}static snap(e,t=1){return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}},w=ge;w.neg=e=>[-e[0],-e[1]];w.add=(e,t)=>[e[0]+t[0],e[1]+t[1]];w.addScalar=(e,t)=>[e[0]+t,e[1]+t];w.sub=(e,t)=>[e[0]-t[0],e[1]-t[1]];w.subScalar=(e,t)=>[e[0]-t,e[1]-t];w.vec=(e,t)=>[t[0]-e[0],t[1]-e[1]];w.mul=(e,t)=>[e[0]*t,e[1]*t];w.mulV=(e,t)=>[e[0]*t[0],e[1]*t[1]];w.div=(e,t)=>[e[0]/t,e[1]/t];w.divV=(e,t)=>[e[0]/t[0],e[1]/t[1]];w.per=e=>[e[1],-e[0]];w.dpr=(e,t)=>e[0]*t[0]+e[1]*t[1];w.cpr=(e,t)=>e[0]*t[1]-t[0]*e[1];w.len2=e=>e[0]*e[0]+e[1]*e[1];w.len=e=>Math.hypot(e[0],e[1]);w.pry=(e,t)=>ge.dpr(e,t)/ge.len(t);w.uni=e=>ge.div(e,ge.len(e));w.normalize=e=>ge.uni(e);w.tangent=(e,t)=>ge.uni(ge.sub(e,t));w.dist2=(e,t)=>ge.len2(ge.sub(e,t));w.dist=(e,t)=>Math.hypot(e[1]-t[1],e[0]-t[0]);w.fastDist=(e,t)=>{let n=[t[0]-e[0],t[1]-e[1]],r=[Math.abs(n[0]),Math.abs(n[1])],o=1/Math.max(r[0],r[1]);return o=o*(1.29289-(r[0]+r[1])*o*.29289),[n[0]*o,n[1]*o]};w.ang=(e,t)=>Math.atan2(ge.cpr(e,t),ge.dpr(e,t));w.angle=(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0]);w.med=(e,t)=>ge.mul(ge.add(e,t),.5);w.rot=(e,t=0)=>[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)];w.rotWith=(e,t,n=0)=>{if(n===0)return e;let r=Math.sin(n),o=Math.cos(n),i=e[0]-t[0],s=e[1]-t[1],a=i*o-s*r,l=i*r+s*o;return[a+t[0],l+t[1]]};w.isEqual=(e,t)=>e[0]===t[0]&&e[1]===t[1];w.lrp=(e,t,n)=>ge.add(e,ge.mul(ge.sub(t,e),n));w.int=(e,t,n,r,o=1)=>{let i=(ge.clamp(n,r)-n)/(r-n);return ge.add(ge.mul(e,1-i),ge.mul(t,o))};w.ang3=(e,t,n)=>{let r=ge.vec(t,e),o=ge.vec(t,n);return ge.ang(r,o)};w.abs=e=>[Math.abs(e[0]),Math.abs(e[1])];w.rescale=(e,t)=>{let n=ge.len(e);return[t*e[0]/n,t*e[1]/n]};w.isLeft=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1]);w.clockwise=(e,t,n)=>ge.isLeft(e,t,n)>0;w.toFixed=(e,t=2)=>e.map(n=>+n.toFixed(t));w.nearestPointOnLineThroughPoint=(e,t,n)=>ge.add(e,ge.mul(t,ge.pry(ge.sub(n,e),t)));w.distanceToLineThroughPoint=(e,t,n)=>ge.dist(n,ge.nearestPointOnLineThroughPoint(e,t,n));w.nearestPointOnLineSegment=(e,t,n,r=!0)=>{let o=ge.uni(ge.sub(t,e)),i=ge.add(e,ge.mul(o,ge.pry(ge.sub(n,e),o)));if(r){if(i[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(i[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(i[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(i[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return i};w.distanceToLineSegment=(e,t,n,r=!0)=>ge.dist(n,ge.nearestPointOnLineSegment(e,t,n,r));w.nudge=(e,t,n)=>ge.add(e,ge.mul(ge.uni(ge.sub(t,e)),n));w.nudgeAtAngle=(e,t,n)=>[Math.cos(t)*n+e[0],Math.sin(t)*n+e[1]];w.toPrecision=(e,t=4)=>[+e[0].toPrecision(t),+e[1].toPrecision(t)];w.pointsBetween=(e,t,n=6)=>Array.from(Array(n)).map((r,o)=>{let i=o/(n-1),s=Math.min(1,.5+Math.abs(.5-i));return[...ge.lrp(e,t,i),s]});var Y=w;var Pv=M(R());var T9=M(R()),V9=M(R()),Bl=M(R());var Al=M(R()),bs=M(R()),ql=M(R()),Ug=M(R()),Vs=M(R()),Kg=M(R()),Bs=M(R()),o5=M(R()),Xg=M(R()),i5=M(R()),As=M(R());var Gg=M(R()),s5=M(R());var Kr=M(R()),$t=M(R());var qg=M(R());var a5=M(R());var l5=M(R()),Wr=M(R());var Qg=M(R()),cr=M(R());var uo=M(R());var Ds=M(R());var d5=M(R());var Jl=M(R());var js=M(R());var Ns=M(R());var ad=M(R());var f5=M(R());var e0=M(R()),t0=M(R()),p5=M(R()),po=M(R());var ho=M(R());var C1=M(R()),Zs=M(R());var $s=M(R());var n0=M(R()),v5=M(R());var SE=Object.defineProperty,LE=Object.defineProperties,EE=Object.getOwnPropertyDescriptors,bv=Object.getOwnPropertySymbols,IE=Object.prototype.hasOwnProperty,ME=Object.prototype.propertyIsEnumerable,xv=(e,t,n)=>t in e?SE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E7=(e,t)=>{for(var n in t||(t={}))IE.call(t,n)&&xv(e,n,t[n]);if(bv)for(var n of bv(t))ME.call(t,n)&&xv(e,n,t[n]);return e},I7=(e,t)=>LE(e,EE(t));function dt(e,...t){return{didIntersect:t.length>0,message:e,points:t}}function Wo(e,t,n=0){let r=[e[0]+t[0]/2,e[1]+t[1]/2],o=w.rotWith(e,r,n),i=w.rotWith(w.add(e,[t[0],0]),r,n),s=w.rotWith(w.add(e,t),r,n),a=w.rotWith(w.add(e,[0,t[1]]),r,n);return[["top",[o,i]],["right",[i,s]],["bottom",[s,a]],["left",[a,o]]]}function RE(e,t,n){if(n===e||n===t)return!0;let r=Math.PI*2,o=(t-e+r)%r,i=(n-e+r)%r;return o<=Math.PI!=i>o}function OE(e,t,n,r){let[o,i]=e,[s,a]=t,[l,c]=n,[u,d]=r;if(a/s!=(d-c)/(u-l)){let f=s*(d-c)-a*(u-l);if(f!==0){let p=((i-c)*(u-l)-(o-l)*(d-c))/f,h=((i-c)*s-(o-l)*a)/f;if(p>=0&&h>=0&&h<=1)return dt("intersection",[o+p*s,i+p*a])}}return dt("no intersection")}function PE(e,t,n,r,o=0){return TE(n,r,o,e,t)}function O9(e,t,n,r,o,i){let s=e,a=w.mul(t,999999999);return Xo(s,a,n,r,o,i)}function Vl(e,t,n,r=0){let{minX:o,minY:i,width:s,height:a}=n;return PE(e,t,[o,i],[s,a],r)}function ms(e,t,n,r){let o=w.sub(e,n),i=w.sub(r,n),s=w.sub(t,e),a=i[0]*o[1]-i[1]*o[0],l=s[0]*o[1]-s[1]*o[0],c=i[1]*s[0]-i[0]*s[1];if(a===0||l===0)return dt("coincident");if(c===0)return dt("parallel");if(c!==0){let u=a/c,d=l/c;if(0<=u&&u<=1&&0<=d&&d<=1)return dt("intersection",w.add(e,w.mul(s,u)))}return dt("no intersection")}function kE(e,t,n,r){return _v(n,r,e,t)}function HE(e,t,n,r,o,i){let s=w.angle(n,o),a=w.angle(n,i),l=$E(n,r,r,0,e,t);if(!l.didIntersect)return dt("no intersection");let c=l.points.filter(u=>RE(s,a,w.angle(n,u)));return c.length===0?dt("no intersection"):dt("intersection",...c)}function M7(e,t,n,r){let o=(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]),i=2*((t[0]-e[0])*(e[0]-n[0])+(t[1]-e[1])*(e[1]-n[1])),s=n[0]*n[0]+n[1]*n[1]+e[0]*e[0]+e[1]*e[1]-2*(n[0]*e[0]+n[1]*e[1])-r*r,a=i*i-4*o*s;if(a<0)return dt("outside");if(a===0)return dt("tangent");let l=Math.sqrt(a),c=(-i+l)/(2*o),u=(-i-l)/(2*o);if((c<0||c>1)&&(u<0||u>1))return c<0&&u<0||c>1&&u>1?dt("outside"):dt("inside");let d=[];return 0<=c&&c<=1&&d.push(w.lrp(e,t,c)),0<=u&&u<=1&&d.push(w.lrp(e,t,u)),dt("intersection",...d)}function Xo(e,t,n,r,o,i=0){if(r===0||o===0||w.isEqual(e,t))return dt("no intersection");r=r<0?r:-r,o=o<0?o:-o,e=w.sub(w.rotWith(e,n,-i),n),t=w.sub(w.rotWith(t,n,-i),n);let s=w.sub(t,e),a=s[0]*s[0]/r/r+s[1]*s[1]/o/o,l=2*e[0]*s[0]/r/r+2*e[1]*s[1]/o/o,c=e[0]*e[0]/r/r+e[1]*e[1]/o/o-1,u=[],d=l*l-4*a*c;if(d===0)u.push(-l/2/a);else if(d>0){let p=Math.sqrt(d);u.push((-l+p)/2/a),u.push((-l-p)/2/a)}let f=u.filter(p=>p>=0&&p<=1).map(p=>w.add(n,w.add(e,w.mul(w.sub(t,e),p)))).map(p=>w.rotWith(p,n,i));return dt("intersection",...f)}function Cs(e,t,n){return UE(n,e,t)}function R7(e,t,n){let r=[];for(let o=1;o<n.length;o++){let i=ms(e,t,n[o-1],n[o]);i&&r.push(...i.points)}return r.length===0?dt("no intersection"):dt("intersection",...n)}function TE(e,t,n,r,o){return Wo(e,t,n).reduce((s,[a,[l,c]])=>{let u=OE(r,o,l,c);return u&&s.push(dt(a,...u.points)),s},[]).filter(s=>s.didIntersect)}function _v(e,t,n,r){return Wo(e,t).reduce((i,[s,[a,l]])=>{let c=ms(n,r,a,l);return c&&i.push(dt(s,...c.points)),i},[]).filter(i=>i.didIntersect)}function VE(e,t,n,r){return Wo(e,t).reduce((i,[s,[a,l]])=>{let c=_v(n,r,a,l);return i.push(...c.map(u=>dt(`${s} ${u.message}`,...u.points))),i},[]).filter(i=>i.didIntersect)}function BE(e,t,n,r,o,i){return Wo(e,t).reduce((a,[l,[c,u]])=>{let d=NE(n,r,o,i,c,u);return d&&a.push(I7(E7({},d),{message:l})),a},[]).filter(a=>a.didIntersect)}function AE(e,t,n,r){return Wo(e,t).reduce((i,[s,[a,l]])=>{let c=M7(a,l,n,r);return c&&i.push(I7(E7({},c),{message:s})),i},[]).filter(i=>i.didIntersect)}function DE(e,t,n,r,o,i=0){return Wo(e,t).reduce((a,[l,[c,u]])=>{let d=Xo(c,u,n,r,o,i);return d&&a.push(I7(E7({},d),{message:l})),a},[]).filter(a=>a.didIntersect)}function jE(e,t,n){return Wo(e,t).reduce((o,[i,[s,a]])=>{let l=R7(s,a,n);return l.didIntersect&&o.push(dt(i,...l.points)),o},[]).filter(o=>o.didIntersect)}function NE(e,t,n,r,o,i){return HE(o,i,e,t,n,r)}function ZE(e,t,n,r,o,i){return BE(o,i,e,t,n,r)}function Sv(e,t,n,r,o){let{minX:i,minY:s,width:a,height:l}=o;return ZE(e,t,n,r,[i,s],[a,l])}function Lv(e,t,n,r){return M7(n,r,e,t)}function Ev(e,t,n,r){let o=n[0]-e[0],i=n[1]-e[1],s=Math.sqrt(o*o+i*i),a=(s*s-r*r+t*t)/(2*s),l=Math.sqrt(t*t-a*a);return o/=s,i/=s,dt("intersection",[e[0]+o*a-i*l,e[1]+i*a+o*l],[e[0]+o*a+i*l,e[1]+i*a-o*l])}function $E(e,t,n,r=0,o,i){return t===n?M7(o,i,e,t):Xo(o,i,e,t,n,r)}function FE(e,t,n,r=0,o,i){return t===n?AE(o,i,e,t):DE(o,i,e,t,n,r)}function Iv(e,t,n,r,o){let{minX:i,minY:s,width:a,height:l}=o;return FE(e,t,n,r,[i,s],[a,l])}function UE(e,t,n){let{minX:r,minY:o,width:i,height:s}=e;return kE(t,n,[r,o],[i,s])}function Mv(e,t){return VE([e.minX,e.minY],[e.width,e.height],[t.minX,t.minY],[t.width,t.height])}function O7(e,t){return P7(t,e)}function P7(e,t){return jE([t.minX,t.minY],[t.width,t.height],e)}var zE=Object.defineProperty,KE=Object.defineProperties,WE=Object.getOwnPropertyDescriptors,P9=Object.getOwnPropertySymbols,Rv=Object.prototype.hasOwnProperty,Ov=Object.prototype.propertyIsEnumerable,k7=(e,t,n)=>t in e?zE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pe=(e,t)=>{for(var n in t||(t={}))Rv.call(t,n)&&k7(e,n,t[n]);if(P9)for(var n of P9(t))Ov.call(t,n)&&k7(e,n,t[n]);return e},_r=(e,t)=>KE(e,WE(t)),ws=(e,t)=>{var n={};for(var r in e)Rv.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&P9)for(var r of P9(e))t.indexOf(r)<0&&Ov.call(e,r)&&(n[r]=e[r]);return n},Ke=(e,t,n)=>(k7(e,typeof t!="symbol"?t+"":t,n),n),H7=(0,k9.createContext)({});function qt(){return(0,k9.useContext)(H7)}function XE(e,t){let n=(0,ys.useRef)(void 0),r=(0,ys.useRef)(void 0),o=(0,ys.useRef)([0,0]),{inputs:i,bounds:s,callbacks:a}=qt();(0,ys.useEffect)(()=>{let l=c=>{c.preventDefault()};return document.addEventListener("gesturestart",l),document.addEventListener("gesturechange",l),()=>{document.removeEventListener("gesturestart",l),document.removeEventListener("gesturechange",l)}},[]),yv({onWheel:({delta:l,event:c})=>{var u,d,f,p},onPinchStart:({origin:l,event:c})=>{var u;let d=t.current;if(!d||!(c.target===d||d.contains(c.target)))return;let f=i.pinch(l,l);i.isPinching=!0,(u=a.onPinchStart)==null||u.call(a,f,c),r.current=f.point,n.current=f.origin,o.current=[0,0]},onPinchEnd:({origin:l,event:c})=>{var u;let d=t.current;if(!(c.target===d||(d==null?void 0:d.contains(c.target))))return;let f=i.pinch(l,l);i.isPinching=!1,(u=a.onPinchEnd)==null||u.call(a,f,c),r.current=void 0,n.current=void 0,o.current=[0,0]},onPinch:({origin:l,offset:c,event:u})=>{var d;let f=t.current;if(!(u.target===f||(f==null?void 0:f.contains(u.target)))||!n.current)return;let p=i.pinch(l,n.current),h=w.sub(p.delta,o.current);o.current=p.delta,(d=a.onPinch)==null||d.call(a,_r(Pe({},p),{point:p.point,origin:n.current,delta:[...h,c[0]]}),u),r.current=l}},{target:t,eventOptions:{passive:!1},pinch:{from:e,scaleBounds:()=>({from:i.zoom,max:5,min:.1})}})}var qe;(function(e){e.Top="top_edge",e.Right="right_edge",e.Bottom="bottom_edge",e.Left="left_edge"})(qe||(qe={}));var ne;(function(e){e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner"})(ne||(ne={}));var ht;(function(e){e.minX="minX",e.midX="midX",e.maxX="maxX",e.minY="minY",e.midY="midY",e.maxY="maxY"})(ht||(ht={}));String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var H9=Math.PI*2,Vt=class{static lerp(e,t,n){return n=Vt.clamp(n,0,1),e*(1-n)+t*n}static lerpColor(e,t,n=.5){function r(l){let c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}function o(l){return"#"+((1<<24)+(l[0]<<16)+(l[1]<<8)+l[2]).toString(16).slice(1)}let i=r(e)||[0,0,0],s=r(t)||[0,0,0],a=i.slice();for(let l=0;l<3;l++)a[l]=Math.round(a[l]+n*(s[l]-i[l]));return o(a)}static modulate(e,t,n,r=!1){let[o,i]=t,[s,a]=n,l=s+(e-o)/(i-o)*(a-s);return r?s<a?Math.max(Math.min(l,a),s):Math.max(Math.min(l,s),a):l}static clamp(e,t,n){return Math.max(t,typeof n!="undefined"?Math.min(e,n):e)}static deepClone(e){if(e===null)return e;if(Array.isArray(e))return[...e];if(typeof e=="object"){let t=Pe({},e);return Object.keys(t).forEach(n=>t[n]=typeof e[n]=="object"?Vt.deepClone(e[n]):e[n]),t}return e}static rng(e=""){let t=0,n=0,r=0,o=0;function i(){let s=t^t<<11;return t=n,n=r,r=o,o^=(o>>>19^s^s>>>8)>>>0,o/4294967296}for(let s=0;s<e.length+64;s++)t^=e.charCodeAt(s)|0,i();return i}static getRectangleSides(e,t,n=0){let r=[e[0]+t[0]/2,e[1]+t[1]/2],o=w.rotWith(e,r,n),i=w.rotWith(w.add(e,[t[0],0]),r,n),s=w.rotWith(w.add(e,t),r,n),a=w.rotWith(w.add(e,[0,t[1]]),r,n);return[["top",[o,i]],["right",[i,s]],["bottom",[s,a]],["left",[a,o]]]}static circleFromThreePoints(e,t,n){let[r,o]=e,[i,s]=t,[a,l]=n,c=r*(s-l)-o*(i-a)+i*l-a*s,u=(r*r+o*o)*(l-s)+(i*i+s*s)*(o-l)+(a*a+l*l)*(s-o),d=(r*r+o*o)*(i-a)+(i*i+s*s)*(a-r)+(a*a+l*l)*(r-i),f=-u/(2*c),p=-d/(2*c);return[f,p,Math.hypot(f-r,p-o)]}static perimeterOfEllipse(e,t){let n=Math.pow(e-t,2)/Math.pow(e+t,2);return Math.PI*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}static shortAngleDist(e,t){let n=Math.PI*2,r=(t-e)%n;return 2*r%n-r}static longAngleDist(e,t){return Math.PI*2-Vt.shortAngleDist(e,t)}static lerpAngles(e,t,n){return e+Vt.shortAngleDist(e,t)*n}static angleDelta(e,t){return Vt.shortAngleDist(e,t)}static getSweep(e,t,n){return Vt.angleDelta(w.angle(e,t),w.angle(e,n))}static clampRadians(e){return(Math.PI*2+e)%(Math.PI*2)}static snapAngleToSegments(e,t){let n=Math.PI*2/t;return Math.floor((Vt.clampRadians(e)+n/2)/n)*n}static isAngleBetween(e,t,n){if(n===e||n===t)return!0;let r=(t-e+H9)%H9,o=(n-e+H9)%H9;return r<=Math.PI!=o>r}static degreesToRadians(e){return e*Math.PI/180}static radiansToDegrees(e){return e*180/Math.PI}static getArcLength(e,t,n,r){let o=Vt.getSweep(e,n,r);return t*(2*Math.PI)*(o/(2*Math.PI))}static getSweepFlag(e,t,n){let r=w.angle(e,n);return(w.angle(e,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}static getLargeArcFlag(e,t,n){let r=w.angle(n,e),i=(w.angle(n,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(i)>Math.PI/2?0:1}static getArcDashOffset(e,t,n,r,o){let i=Vt.getSweepFlag(e,n,r),s=Vt.getArcLength(e,t,n,r);return-(i<0?s:2*Math.PI*e[2]-s)/2+o}static getEllipseDashOffset(e,t){return-(2*Math.PI*e[2])/2+-t}static pointInCircle(e,t,n){return w.dist(e,t)<=n}static pointInEllipse(e,t,n,r,o=0){o=o||0;let i=Math.cos(o),s=Math.sin(o),a=w.sub(e,t),l=i*a[0]+s*a[1],c=s*a[0]-i*a[1];return l*l/(n*n)+c*c/(r*r)<=1}static pointInRect(e,t){return!(e[0]<t[0]||e[0]>e[0]+t[0]||e[1]<t[1]||e[1]>e[1]+t[1])}static pointInPolygon(e,t){let n=0;return t.forEach((r,o)=>{let i=t[(o+1)%t.length];r[1]<=e[1]?i[1]>e[1]&&w.cross(r,i,e)>0&&(n+=1):i[1]<=e[1]&&w.cross(r,i,e)<0&&(n-=1)}),n!==0}static pointInBounds(e,t){return!(e[0]<t.minX||e[0]>t.maxX||e[1]<t.minY||e[1]>t.maxY)}static pointInPolyline(e,t,n=3){for(let r=1;r<t.length;r++)if(w.distanceToLineSegment(t[r-1],t[r],e)<n)return!0;return!1}static getBoundsSides(e){return this.getRectangleSides([e.minX,e.minY],[e.width,e.height])}static expandBounds(e,t){return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,width:e.width+t*2,height:e.height+t*2}}static boundsCollide(e,t){return!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY)}static boundsContain(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX}static boundsContained(e,t){return Vt.boundsContain(t,e)}static boundsAreEqual(e,t){return!(t.maxX!==e.maxX||t.minX!==e.minX||t.maxY!==e.maxY||t.minY!==e.minY)}static getBoundsFromPoints(e,t=0){let n=1/0,r=1/0,o=-1/0,i=-1/0;if(e.length<2)n=0,r=0,o=1,i=1;else for(let[s,a]of e)n=Math.min(s,n),r=Math.min(a,r),o=Math.max(s,o),i=Math.max(a,i);return t!==0?Vt.getBoundsFromPoints(e.map(s=>w.rotWith(s,[(n+o)/2,(r+i)/2],t))):{minX:n,minY:r,maxX:o,maxY:i,width:Math.max(1,o-n),height:Math.max(1,i-r)}}static centerBounds(e,t){let n=this.getBoundsCenter(e),r=t[0]-n[0],o=t[1]-n[1];return this.translateBounds(e,[r,o])}static snapBoundsToGrid(e,t){let n=Math.round(e.minX/t)*t,r=Math.round(e.minY/t)*t,o=Math.round(e.maxX/t)*t,i=Math.round(e.maxY/t)*t;return{minX:n,minY:r,maxX:o,maxY:i,width:Math.max(1,o-n),height:Math.max(1,i-r)}}static translateBounds(e,t){return{minX:e.minX+t[0],minY:e.minY+t[1],maxX:e.maxX+t[0],maxY:e.maxY+t[1],width:e.width,height:e.height}}static rotateBounds(e,t,n){let[r,o]=w.rotWith([e.minX,e.minY],t,n),[i,s]=w.rotWith([e.maxX,e.maxY],t,n);return{minX:r,minY:o,maxX:i,maxY:s,width:e.width,height:e.height}}static getRotatedEllipseBounds(e,t,n,r,o=0){let i=Math.cos(o),s=Math.sin(o),a=Math.hypot(n*i,r*s),l=Math.hypot(n*s,r*i);return{minX:e+n-a,minY:t+r-l,maxX:e+n+a,maxY:t+r+l,width:a*2,height:l*2}}static getExpandedBounds(e,t){let n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY),s=Math.abs(o-n),a=Math.abs(i-r);return{minX:n,minY:r,maxX:o,maxY:i,width:s,height:a}}static getCommonBounds(e){if(e.length<2)return e[0];let t=e[0];for(let n=1;n<e.length;n++)t=Vt.getExpandedBounds(t,e[n]);return t}static getRotatedCorners(e,t=0){let n=[e.minX+e.width/2,e.minY+e.height/2];return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]].map(r=>w.rotWith(r,n,t))}static getTransformedBoundingBox(e,t,n,r=0,o=!1){let[i,s]=[e.minX,e.minY],[a,l]=[e.maxX,e.maxY],[c,u]=[e.minX,e.minY],[d,f]=[e.maxX,e.maxY];if(t==="center")return{minX:c+n[0],minY:u+n[1],maxX:d+n[0],maxY:f+n[1],width:d-c,height:f-u,scaleX:1,scaleY:1};let[p,h]=w.rot(n,-r);switch(t){case qe.Top:case ne.TopLeft:case ne.TopRight:{u+=h;break}case qe.Bottom:case ne.BottomLeft:case ne.BottomRight:{f+=h;break}}switch(t){case qe.Left:case ne.TopLeft:case ne.BottomLeft:{c+=p;break}case qe.Right:case ne.TopRight:case ne.BottomRight:{d+=p;break}}let m=a-i,v=l-s,C=(d-c)/m,g=(f-u)/v,b=C<0,y=g<0,x=Math.abs(d-c),L=Math.abs(f-u);if(o){let I=m/v,E=I<x/L,O=x*(g<0?1:-1)*(1/I),P=L*(C<0?1:-1)*I;switch(t){case ne.TopLeft:{E?u=f+O:c=d+P;break}case ne.TopRight:{E?u=f+O:d=c-P;break}case ne.BottomRight:{E?f=u-O:d=c-P;break}case ne.BottomLeft:{E?f=u-O:c=d+P;break}case qe.Bottom:case qe.Top:{let z=(c+d)/2,B=L*I;c=z-B/2,d=z+B/2;break}case qe.Left:case qe.Right:{let z=(u+f)/2,B=x/I;u=z-B/2,f=z+B/2;break}}}if(r%(Math.PI*2)!=0){let I=[0,0],E=w.med([i,s],[a,l]),O=w.med([c,u],[d,f]);switch(t){case ne.TopLeft:{I=w.sub(w.rotWith([d,f],O,r),w.rotWith([a,l],E,r));break}case ne.TopRight:{I=w.sub(w.rotWith([c,f],O,r),w.rotWith([i,l],E,r));break}case ne.BottomRight:{I=w.sub(w.rotWith([c,u],O,r),w.rotWith([i,s],E,r));break}case ne.BottomLeft:{I=w.sub(w.rotWith([d,u],O,r),w.rotWith([a,s],E,r));break}case qe.Top:{I=w.sub(w.rotWith(w.med([c,f],[d,f]),O,r),w.rotWith(w.med([i,l],[a,l]),E,r));break}case qe.Left:{I=w.sub(w.rotWith(w.med([d,u],[d,f]),O,r),w.rotWith(w.med([a,s],[a,l]),E,r));break}case qe.Bottom:{I=w.sub(w.rotWith(w.med([c,u],[d,u]),O,r),w.rotWith(w.med([i,s],[a,s]),E,r));break}case qe.Right:{I=w.sub(w.rotWith(w.med([c,u],[c,f]),O,r),w.rotWith(w.med([i,s],[i,l]),E,r));break}}[c,u]=w.sub([c,u],I),[d,f]=w.sub([d,f],I)}return d<c&&([d,c]=[c,d]),f<u&&([f,u]=[u,f]),{minX:c,minY:u,maxX:d,maxY:f,width:d-c,height:f-u,scaleX:(d-c)/(a-i||1)*(b?-1:1),scaleY:(f-u)/(l-s||1)*(y?-1:1)}}static getTransformAnchor(e,t,n){let r=e;switch(e){case ne.TopLeft:{t&&n?r=ne.BottomRight:t?r=ne.TopRight:n?r=ne.BottomLeft:r=ne.BottomRight;break}case ne.TopRight:{t&&n?r=ne.BottomLeft:t?r=ne.TopLeft:n?r=ne.BottomRight:r=ne.BottomLeft;break}case ne.BottomRight:{t&&n?r=ne.TopLeft:t?r=ne.BottomLeft:n?r=ne.TopRight:r=ne.TopLeft;break}case ne.BottomLeft:{t&&n?r=ne.TopRight:t?r=ne.BottomRight:n?r=ne.TopLeft:r=ne.TopRight;break}}return r}static getRelativeTransformedBoundingBox(e,t,n,r,o){let i=(r?t.maxX-n.maxX:n.minX-t.minX)/t.width,s=(o?t.maxY-n.maxY:n.minY-t.minY)/t.height,a=n.width/t.width,l=n.height/t.height,c=e.minX+e.width*i,u=e.minY+e.height*s,d=e.width*a,f=e.height*l;return{minX:c,minY:u,maxX:c+d,maxY:u+f,width:d,height:f}}static getRotatedSize(e,t){let n=w.div(e,2),r=[[0,0],[e[0],0],e,[0,e[1]]].map(i=>w.rotWith(i,n,t)),o=Vt.getBoundsFromPoints(r);return[o.width,o.height]}static getBoundsCenter(e){return[e.minX+e.width/2,e.minY+e.height/2]}static getBoundsWithCenter(e){let t=Vt.getBoundsCenter(e);return _r(Pe({},e),{midX:t[0],midY:t[1]})}static getCommonTopLeft(e){let t=[1/0,1/0];return e.forEach(n=>{t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1])}),t}static getFromCache(e,t,n){let r=e.get(t);if(r===void 0&&(e.set(t,n()),r=e.get(t),r===void 0))throw Error("Cache did not include item!");return r}static uniqueId(e=""){return e?((Number(e)^Math.random()*16)>>Number(e)/4).toString(16):`${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g,Vt.uniqueId)}static rotateArray(e,t){return e.map((n,r)=>e[(r+t)%e.length])}static debounce(e,t=0){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(r),t)}}static getSvgPathFromStroke(e,t=!0){if(!e.length)return"";let n=e.length-1;return e.reduce((r,o,i,s)=>(i===n?t&&r.push("Z"):r.push(o,w.med(o,s[i+1])),r),["M",e[0],"Q"]).join(" ").replaceAll(this.TRIM_NUMBERS,"$1")}static getPerfectDashProps(e,t,n,r=1,o=!0){let i,s,a;if(n.toLowerCase()==="dashed")i=t*2,a=1,s=o?(i/2).toString():"0";else if(n.toLowerCase()==="dotted")i=t/100,a=100,s="0";else return{strokeDasharray:"none",strokeDashoffset:"none"};let l=Math.floor(e/i/(2*a));l-=l%r,l=Math.max(l,4);let c=Math.max(i,(e-l*i)/(o?l:l-1));return{strokeDasharray:[i,c].join(" "),strokeDashoffset:s}}static isMobileSize(){return typeof window=="undefined"?!1:window.innerWidth<768}static isMobileSafari(){if(typeof window=="undefined")return!1;let e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);return t&&n&&!e.match(/CriOS/i)}static throttle(e,t){let n,r;return function(...o){return n||(n=!0,setTimeout(()=>n=!1,t),r=e(...o)),r}}static isDarwin(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}static metaKey(e){return Vt.isDarwin()?e.metaKey:e.ctrlKey}},_=Vt;Ke(_,"getSnapPoints",(e,t,n)=>{let r=Pe({},e),o=[0,0],i=[],s={[ht.minX]:{id:ht.minX,isSnapped:!1},[ht.midX]:{id:ht.midX,isSnapped:!1},[ht.maxX]:{id:ht.maxX,isSnapped:!1},[ht.minY]:{id:ht.minY,isSnapped:!1},[ht.midY]:{id:ht.midY,isSnapped:!1},[ht.maxY]:{id:ht.maxY,isSnapped:!1}},a=[ht.midX,ht.minX,ht.maxX],l=[ht.midY,ht.minY,ht.maxY],c=t.map(h=>{let m=a.flatMap((C,g)=>a.map((b,y)=>{let x=r[C]-h[b],L=Math.abs(x);return{f:C,t:b,gap:x,distance:L,isCareful:g===0||g+y===3}})),v=l.flatMap((C,g)=>l.map((b,y)=>{let x=r[C]-h[b],L=Math.abs(x);return{f:C,t:b,gap:x,distance:L,isCareful:g===0||g+y===3}}));return[h,m,v]}),u=1/0,d=1/0,f=1/0,p=1/0;return c.forEach(([h,m,v])=>{m.forEach(C=>{C.distance<n&&C.distance<f&&(f=C.distance,u=C.gap)}),v.forEach(C=>{C.distance<n&&C.distance<p&&(p=C.distance,d=C.gap)})}),c.forEach(([h,m,v])=>{u!==1/0&&m.forEach(C=>{Math.abs(C.gap-u)<2&&(s[C.f]=_r(Pe({},s[C.f]),{isSnapped:!0,to:h[C.t],B:h,distance:C.distance}))}),d!==1/0&&v.forEach(C=>{Math.abs(C.gap-d)<2&&(s[C.f]=_r(Pe({},s[C.f]),{isSnapped:!0,to:h[C.t],B:h,distance:C.distance}))})}),o[0]=u===1/0?0:u,o[1]=d===1/0?0:d,r.minX-=o[0],r.midX-=o[0],r.maxX-=o[0],r.minY-=o[1],r.midY-=o[1],r.maxY-=o[1],a.forEach(h=>{let m=s[h];if(!m.isSnapped)return;let{id:v,B:C}=m,g=r[v];i.push(v===ht.minX?[[g,r.midY],[g,C.minY],[g,C.maxY]]:[[g,r.minY],[g,r.maxY],[g,C.minY],[g,C.maxY]])}),l.forEach(h=>{let m=s[h];if(!m.isSnapped)return;let{id:v,B:C}=m,g=r[v];i.push(v===ht.midY?[[r.midX,g],[C.minX,g],[C.maxX,g]]:[[r.minX,g],[r.maxX,g],[C.minX,g],[C.maxX,g]])}),{offset:o,snapLines:i}});Ke(_,"deepMerge",(e,t)=>{let n=Pe({},e),r=Object.entries(t);for(let[o,i]of r)n[o]=i===Object(i)&&!Array.isArray(i)?Vt.deepMerge(n[o],i):i;return n});Ke(_,"TRIM_NUMBERS",/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g);var An=_;function YE(){let{callbacks:e}=qt();(0,Pv.useEffect)(()=>{function t(){var n;(n=e.onShapeBlur)==null||n.call(e)}return An.isMobileSafari()?(document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t)):()=>null},[e])}function GE(){let{callbacks:e,inputs:t}=qt(),n=(0,T9.useCallback)(i=>{var s,a;if(i.button!==0&&i.button!==1||!t.pointerIsValid(i))return;i.currentTarget.setPointerCapture(i.pointerId);let l=t.pointerDown(i,"canvas");(i.button===0||i.button===1)&&((s=e.onPointCanvas)==null||s.call(e,l,i),(a=e.onPointerDown)==null||a.call(e,l,i))},[e,t]),r=(0,T9.useCallback)(i=>{var s,a;if(!t.pointerIsValid(i))return;let l=t.pointerMove(i,"canvas");i.currentTarget.hasPointerCapture(i.pointerId)&&((s=e.onDragCanvas)==null||s.call(e,l,i)),(a=e.onPointerMove)==null||a.call(e,l,i)},[e,t]),o=(0,T9.useCallback)(i=>{var s,a,l,c;if(i.button!==0&&i.button!==1||(t.activePointer=void 0,!t.pointerIsValid(i)))return;let u=t.isDoubleClick(),d=t.pointerUp(i,"canvas");i.currentTarget.hasPointerCapture(i.pointerId)&&((s=i.currentTarget)==null||s.releasePointerCapture(i.pointerId)),u&&!(d.altKey||d.metaKey)&&((a=e.onDoubleClickCanvas)==null||a.call(e,d,i)),(l=e.onReleaseCanvas)==null||l.call(e,d,i),(c=e.onPointerUp)==null||c.call(e,d,i)},[e,t]);return{onPointerDown:n,onPointerMove:r,onPointerUp:o}}function qE(e){let{rPageState:t,rSelectionBounds:n,callbacks:r,inputs:o}=(0,V9.useContext)(H7);return(0,V9.useMemo)(()=>({onPointerDown:i=>{var s,a,l,c,u,d;if(!o.pointerIsValid(i))return;if(i.button===2){(s=r.onRightPointShape)==null||s.call(r,o.pointerDown(i,e),i);return}if(i.button!==0)return;let f=o.pointerDown(i,e);if(i.stopPropagation(),(a=i.currentTarget)==null||a.setPointerCapture(i.pointerId),n.current&&_.pointInBounds(f.point,n.current)&&!t.current.selectedIds.includes(e)){(l=r.onPointBounds)==null||l.call(r,o.pointerDown(i,"bounds"),i),(c=r.onPointShape)==null||c.call(r,f,i);return}(u=r.onPointShape)==null||u.call(r,f,i),(d=r.onPointerDown)==null||d.call(r,f,i)},onPointerUp:i=>{var s,a,l,c;if(i.button!==0||(o.activePointer=void 0,!o.pointerIsValid(i)))return;i.stopPropagation();let u=o.isDoubleClick(),d=o.pointerUp(i,e);i.currentTarget.hasPointerCapture(i.pointerId)&&((s=i.currentTarget)==null||s.releasePointerCapture(i.pointerId)),u&&!(d.altKey||d.metaKey)&&((a=r.onDoubleClickShape)==null||a.call(r,d,i)),(l=r.onReleaseShape)==null||l.call(r,d,i),(c=r.onPointerUp)==null||c.call(r,d,i)},onPointerEnter:i=>{var s,a;if(!o.pointerIsValid(i)||(i.stopPropagation(),o.pointer&&i.pointerId!==o.pointer.pointerId))return;let l=o.pointerMove(i,e);i.currentTarget.hasPointerCapture(i.pointerId)&&((s=r.onDragShape)==null||s.call(r,l,i)),(a=r.onPointerMove)==null||a.call(r,l,i)},onPointerMove:i=>{var s;if(!o.pointerIsValid(i))return;let a=o.pointerEnter(i,e);(s=r.onHoverShape)==null||s.call(r,a,i)},onPointerLeave:i=>{var s;if(!o.pointerIsValid(i))return;let a=o.pointerEnter(i,e);(s=r.onUnhoverShape)==null||s.call(r,a,i)}}),[o,r,e])}function kv(e,t,n,r,o=!1,i=!1,s){let a={shape:e,meta:s,isChildOfSelected:i,isGhost:e.isGhost||o,isEditing:r.editingId===e.id,isBinding:r.bindingTargetId===e.id,isSelected:r.selectedIds.includes(e.id),isHovered:r.hoveredId===e.id||e.children!==void 0&&(r.hoveredId&&e.children.includes(r.hoveredId)||e.children.some(l=>r.selectedIds.includes(l)))};t.push(a),e.children&&(a.children=[],e.children.map(l=>n[l]).sort((l,c)=>l.childIndex-c.childIndex).forEach(l=>kv(l,a.children,n,r,a.isGhost,a.isSelected||a.isChildOfSelected,s)))}function QE(e,t){return _.boundsContain(t,e)||_.boundsCollide(t,e)}function JE(e,t,n){let{callbacks:r,shapeUtils:o,bounds:i}=qt(),s=(0,Bl.useRef)(),a=(0,Bl.useRef)(0),l=(0,Bl.useRef)(new Set),c=(0,Bl.useRef)(new Set),{selectedIds:u,camera:d}=t,[f,p]=w.sub(w.div([0,0],d.zoom),d.point),[h,m]=w.sub(w.div([i.width,i.height],d.zoom),d.point),v={minX:f,minY:p,maxX:h,maxY:m,height:h-f,width:m-p},C=c.current,g=l.current;C.clear(),g.clear(),Object.values(e.shapes).filter(x=>o[x.type].isStateful||u.includes(x.id)||QE(o[x.type].getBounds(x),v)).forEach(x=>{if(x.parentId===e.id){g.add(x.id),C.add(x);return}g.add(x.parentId),C.add(e.shapes[x.parentId])}),C.size!==a.current&&(s.current&&clearTimeout(s.current),s.current=requestAnimationFrame(()=>{var x;(x=r.onRenderCountChange)==null||x.call(r,Array.from(g.values()))}),a.current=C.size);let b=t.bindingId?e.bindings[t.bindingId].toId:void 0,y=[];return C.forEach(x=>kv(x,y,e.shapes,_r(Pe({},t),{bindingTargetId:b}),x.isGhost,!1,n)),y.sort((x,L)=>x.shape.childIndex-L.shape.childIndex),y}var T7=new Map;function eI(e,t){return Object.keys(t).reduce((n,r)=>{let o=t[r];return o?n+`${`--${e}-${r}`}: ${o};
`:n},"")}function tI(e,t,n=":root"){(0,Al.useLayoutEffect)(()=>{let r=document.createElement("style"),o=eI(e,t);return r.setAttribute("id",`${e}-theme`),r.setAttribute("data-selector",n),r.innerHTML=`
        ${n} {
          ${o}
        }
      `,document.head.appendChild(r),()=>{r&&document.head.contains(r)&&document.head.removeChild(r)}},[e,t,n])}function nI(e,t){(0,Al.useLayoutEffect)(()=>{if(T7.get(e))return()=>{};let n=document.createElement("style");return n.innerHTML=t,n.setAttribute("id",e),document.head.appendChild(n),T7.set(e,n),()=>{n&&document.head.contains(n)&&(document.head.removeChild(n),T7.delete(e))}},[e,t])}var rI=(e,...t)=>e.reduce((n,r,o)=>n+r+(o<t.length?t[o]:""),""),oI={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},iI=rI`
  @font-face {
    font-family: 'Recursive';
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
      format('woff2');
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
  }

  @font-face {
    font-family: 'Recursive';
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
      format('woff2');
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
  }

  @font-face {
    font-family: 'Recursive Mono';
    font-style: normal;
    font-weight: 420;
    font-display: swap;
    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImqvTxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
      format('woff2');
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
  }

  .tl-container {
    --tl-zoom: 1;
    --tl-scale: calc(1 / var(--tl-zoom));
    --tl-padding: calc(64px * max(1, var(--tl-scale)));
    position: relative;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    box-sizing: border-box;
    padding: 0px;
    margin: 0px;
    z-index: 100;
    overflow: hidden;
    touch-action: none;
    overscroll-behavior: none;
    background-color: var(--tl-background);
  }

  .tl-container * {
    box-sizing: border-box;
  }

  .tl-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
  }

  .tl-grid {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
    user-select: none;
  }

  .tl-snap-line {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }

  .tl-snap-point {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }

  .tl-canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: all;
    overflow: clip;
  }

  .tl-layer {
    position: absolute;
    top: 0px;
    left: 0px;
    height: 0px;
    width: 0px;
    contain: layout style size;
  }

  .tl-absolute {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    contain: layout style size;
  }

  .tl-positioned {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    contain: layout style size;
  }

  .tl-positioned-svg {
    width: 100%;
    height: 100%;
    overflow: hidden;
    contain: layout style size;
  }

  .tl-positioned-div {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    padding: var(--tl-padding);
    overflow: hidden;
    contain: layout style size;
  }

  .tl-counter-scaled {
    transform: scale(var(--tl-scale));
  }

  .tl-dashed {
    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));
  }

  .tl-transparent {
    fill: transparent;
    stroke: transparent;
  }

  .tl-cursor-ns {
    cursor: ns-resize;
  }

  .tl-cursor-ew {
    cursor: ew-resize;
  }

  .tl-cursor-nesw {
    cursor: nesw-resize;
  }

  .tl-cursor-nwse {
    cursor: nwse-resize;
  }

  .tl-corner-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
  }

  .tl-rotate-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
    cursor: grab;
  }

  .tl-binding {
    fill: var(--tl-selectFill);
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }

  .tl-user {
    left: -4px;
    top: -4px;
    height: 8px;
    width: 8px;
    border-radius: 100%;
    pointer-events: none;
  }

  .tl-indicator {
    fill: transparent;
    stroke-width: calc(1.5px * var(--tl-scale));
    pointer-events: none;
  }

  .tl-user-indicator-bounds {
    border-style: solid;
    border-width: calc(1px * var(--tl-scale));
  }

  .tl-selected {
    stroke: var(--tl-selectStroke);
  }

  .tl-hovered {
    stroke: var(--tl-selectStroke);
  }

  .tl-clone-target {
    pointer-events: all;
  }

  .tl-clone-target:hover .tl-clone-button {
    opacity: 1;
  }

  .tl-clone-button-target {
    cursor: pointer;
    pointer-events: all;
  }

  .tl-clone-button-target:hover .tl-clone-button {
    fill: var(--tl-selectStroke);
  }

  .tl-clone-button {
    opacity: 0;
    r: calc(8px * var(--tl-scale));
    stroke-width: calc(1.5px * var(--tl-scale));
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
  }

  .tl-bounds {
    pointer-events: none;
    contain: layout style size;
  }

  .tl-bounds-bg {
    stroke: none;
    fill: var(--tl-selectFill);
    pointer-events: all;
    contain: layout style size;
  }

  .tl-bounds-center {
    fill: transparent;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1.5px * var(--tl-scale));
  }

  .tl-brush {
    fill: var(--tl-brushFill);
    stroke: var(--tl-brushStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
    contain: layout style size;
  }

  .tl-dot {
    fill: var(--tl-background);
    stroke: var(--tl-foreground);
    stroke-width: 2px;
  }

  .tl-handle {
    pointer-events: all;
  }

  .tl-handle:hover .tl-handle-bg {
    fill: var(--tl-selectFill);
  }

  .tl-handle:hover .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }

  .tl-handle:active .tl-handle-bg {
    fill: var(--tl-selectFill);
  }

  .tl-handle:active .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }

  .tl-handle {
    fill: var(--tl-background);
    stroke: var(--tl-selectStroke);
    stroke-width: 1.5px;
  }

  .tl-handle-bg {
    fill: transparent;
    stroke: none;
    pointer-events: all;
    r: calc(16px / max(1, var(--tl-zoom)));
  }

  .tl-binding-indicator {
    stroke-width: calc(3px * var(--tl-scale));
    fill: var(--tl-selectFill);
    stroke: var(--tl-selected);
  }

  .tl-centered-g {
    transform: translate(var(--tl-padding), var(--tl-padding));
  }

  .tl-current-parent > *[data-shy='true'] {
    opacity: 1;
  }

  .tl-binding {
    fill: none;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(2px * var(--tl-scale));
  }

  .tl-grid-dot {
    fill: var(--tl-grid);
  }
`;function sI(e,t){let n=(0,Al.useMemo)(()=>Pe(Pe({},oI),e),[e]);tI("tl",n,t),nI("tl-canvas",iI)}function xs(e){let{callbacks:t,inputs:n}=qt(),r=(0,bs.useCallback)(l=>{var c,u,d;if(l.button!==0||!n.pointerIsValid(l))return;l.stopPropagation(),(c=l.currentTarget)==null||c.setPointerCapture(l.pointerId);let f=n.pointerDown(l,e);(u=t.onPointBoundsHandle)==null||u.call(t,f,l),(d=t.onPointerDown)==null||d.call(t,f,l)},[n,t,e]),o=(0,bs.useCallback)(l=>{var c,u,d,f;if(l.button!==0||!n.pointerIsValid(l))return;l.stopPropagation();let p=n.isDoubleClick(),h=n.pointerUp(l,e);l.currentTarget.hasPointerCapture(l.pointerId)&&((c=l.currentTarget)==null||c.releasePointerCapture(l.pointerId)),p&&!(h.altKey||h.metaKey)&&((u=t.onDoubleClickBoundsHandle)==null||u.call(t,h,l)),(d=t.onReleaseBoundsHandle)==null||d.call(t,h,l),(f=t.onPointerUp)==null||f.call(t,h,l)},[n,t,e]),i=(0,bs.useCallback)(l=>{var c,u;if(!n.pointerIsValid(l))return;l.stopPropagation(),l.currentTarget.hasPointerCapture(l.pointerId)&&((c=t.onDragBoundsHandle)==null||c.call(t,n.pointerMove(l,e),l));let d=n.pointerMove(l,e);(u=t.onPointerMove)==null||u.call(t,d,l)},[n,t,e]),s=(0,bs.useCallback)(l=>{var c;!n.pointerIsValid(l)||(c=t.onHoverBoundsHandle)==null||c.call(t,n.pointerEnter(l,e),l)},[n,t,e]),a=(0,bs.useCallback)(l=>{var c;!n.pointerIsValid(l)||(c=t.onUnhoverBoundsHandle)==null||c.call(t,n.pointerEnter(l,e),l)},[n,t,e]);return{onPointerDown:r,onPointerUp:o,onPointerEnter:s,onPointerMove:i,onPointerLeave:a}}var aI={0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen",16:"Modification exception: the internal structure of an observable array was changed.",17:function(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},20:function(t){return"Cannot initialize map from "+t},21:function(t){return"Cannot convert to map from '"+t+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(t){return"Cannot obtain administration from "+t},25:function(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},26:"please specify a property",27:function(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},28:function(t){return"Cannot obtain atom from "+t},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(t,n){return"Cycle detected in computation "+t+": "+n},33:function(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"},lI=aI;function te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=typeof e=="string"?e:lI[e];throw typeof o=="function"&&(o=o.apply(null,n)),new Error("[MobX] "+o)}var cI={};function Hv(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:cI}var uI=Object.assign,B9=Object.getOwnPropertyDescriptor,p1=Object.defineProperty,A9=Object.prototype,D9=[];Object.freeze(D9);var Tv={};Object.freeze(Tv);var dI=typeof Proxy!="undefined",fI=Object.toString();function Vv(){dI||te("`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`")}function Dl(e){$.verifyProxies&&te("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+e)}function Sr(){return++$.mobxGuid}function V7(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var _s=function(){};function St(e){return typeof e=="function"}function Yo(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function j9(e){return e!==null&&typeof e=="object"}function Fr(e){var t;if(!j9(e))return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)==null?void 0:t.toString())===fI}function Bv(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function B7(e,t,n){p1(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Av(e,t,n){p1(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Go(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return j9(r)&&r[n]===!0}}function Ss(e){return e instanceof Map}function jl(e){return e instanceof Set}var Dv=typeof Object.getOwnPropertySymbols!="undefined";function pI(e){var t=Object.keys(e);if(!Dv)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return A9.propertyIsEnumerable.call(e,r)})):t}var A7=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Dv?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function D7(e){return typeof e=="string"?e:typeof e=="symbol"?e.toString():new String(e).toString()}function jv(e){return e===null?null:typeof e=="object"?""+e:e}function Ur(e,t){return A9.hasOwnProperty.call(e,t)}var hI=Object.getOwnPropertyDescriptors||function(t){var n={};return A7(t).forEach(function(r){n[r]=B9(t,r)}),n};function Nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j7(e,t,n){return t&&Nv(e.prototype,t),n&&Nv(e,n),e}function qo(){return qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(this,arguments)}function Zv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function N7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vI(e,t){if(!!e){if(typeof e=="string")return $v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $v(e,t)}}function $v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ls(e,t){var n;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=vI(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}var h1=Symbol("mobx-stored-annotations");function zr(e){function t(n,r){Nl(n,r,e)}return Object.assign(t,e)}function Nl(e,t,n){if(Ur(e,h1)||B7(e,h1,qo({},e[h1])),$9(n)&&!Ur(e[h1],t)){var r=e.constructor.name+".prototype."+t.toString();te("'"+r+"' is decorated with 'override', but no such decorated member was found on prototype.")}gI(e,n,t),$9(n)||(e[h1][t]=n)}function gI(e,t,n){if(!$9(t)&&Ur(e[h1],n)){var r=e.constructor.name+".prototype."+n.toString(),o=e[h1][n].annotationType_,i=t.annotationType_;te("Cannot apply '@"+i+"' to '"+r+"':"+(`
The field is already decorated with '@`+o+"'.")+`
Re-decorating fields is not allowed.
Use '@override' decorator for methods overriden by subclass.`)}}var be=Symbol("mobx administration"),Zl=function(){function e(n){n===void 0&&(n="Atom@"+Sr()),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ae.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return ug(this)},t.reportChanged=function(){ir(),dg(this),sr()},t.toString=function(){return this.name_},e}(),Z7=Go("Atom",Zl);function Fv(e,t,n){t===void 0&&(t=_s),n===void 0&&(n=_s);var r=new Zl(e);return t!==_s&&SM(r,t),n!==_s&&yg(r,n),r}function mI(e,t){return e===t}function CI(e,t){return od(e,t)}function wI(e,t){return od(e,t,1)}function yI(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e==1/t:e!==e&&t!==t}var N9={identity:mI,structural:CI,default:yI,shallow:wI};function Es(e,t,n){return Kl(e)?e:Array.isArray(e)?Qt.array(e,{name:n}):Fr(e)?Qt.object(e,void 0,{name:n}):Ss(e)?Qt.map(e,{name:n}):jl(e)?Qt.set(e,{name:n}):typeof e=="function"&&!e5(e)&&!q7(e)?Bv(e)?zl(e):Ul(n,e):e}function bI(e,t,n){if(e==null||Ts(e)||Yl(e)||m1(e)||Hs(e))return e;if(Array.isArray(e))return Qt.array(e,{name:n,deep:!1});if(Fr(e))return Qt.object(e,void 0,{name:n,deep:!1});if(Ss(e))return Qt.map(e,{name:n,deep:!1});if(jl(e))return Qt.set(e,{name:n,deep:!1});te("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}function Z9(e){return e}function xI(e,t){return Kl(e)&&te("observable.struct should not be used with observable values"),od(e,t)?t:e}var _I="override";function $9(e){return e.annotationType_===_I}function $l(e,t){return{annotationType_:e,options_:t,make_:SI,extend_:LI}}function SI(e,t,n,r){var o;if((o=this.options_)==null?void 0:o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(e5(n.value))return 1;var i=Uv(e,this,t,n,!1);return p1(r,t,i),2}function LI(e,t,n,r){var o=Uv(e,this,t,n);return e.defineProperty_(t,o,r)}function EI(e,t,n,r){var o=t.annotationType_,i=r.value;St(i)||te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' can only be used on properties with a function value."))}function Uv(e,t,n,r,o){var i,s,a,l,c,u,d;o===void 0&&(o=$.safeDescriptors),EI(e,t,n,r);var f=r.value;if((i=t.options_)==null?void 0:i.bound){var p;f=f.bind((p=e.proxy_)!=null?p:e.target_)}return{value:Is((s=(a=t.options_)==null?void 0:a.name)!=null?s:n.toString(),f,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,((u=t.options_)==null?void 0:u.bound)?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function zv(e,t){return{annotationType_:e,options_:t,make_:II,extend_:MI}}function II(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(((o=this.options_)==null?void 0:o.bound)&&!q7(e.target_[t])&&this.extend_(e,t,n,!1)===null)return 0;if(q7(n.value))return 1;var i=Kv(e,this,t,n,!1,!1);return p1(r,t,i),2}function MI(e,t,n,r){var o,i=Kv(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,r)}function RI(e,t,n,r){var o=t.annotationType_,i=r.value;St(i)||te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' can only be used on properties with a generator function value."))}function Kv(e,t,n,r,o,i){i===void 0&&(i=$.safeDescriptors),RI(e,t,n,r);var s=r.value;if(o){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_)}return{value:zl(s),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function $7(e,t){return{annotationType_:e,options_:t,make_:OI,extend_:PI}}function OI(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function PI(e,t,n,r){return kI(e,this,t,n),e.defineComputedProperty_(t,qo({},this.options_,{get:n.get,set:n.set}),r)}function kI(e,t,n,r){var o=t.annotationType_,i=r.get;i||te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' can only be used on getter(+setter) properties."))}function F9(e,t){return{annotationType_:e,options_:t,make_:HI,extend_:TI}}function HI(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function TI(e,t,n,r){var o,i;return VI(e,this,t,n),e.defineObservableProperty_(t,n.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:Es,r)}function VI(e,t,n,r){var o=t.annotationType_;"value"in r||te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' cannot be used on getter/setter properties"))}var BI="true",AI=Wv();function Wv(e){return{annotationType_:BI,options_:e,make_:DI,extend_:jI}}function DI(e,t,n,r){var o,i;if(n.get)return K9.make_(e,t,n,r);if(n.set){var s=Is(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:$.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(p1(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(Bv(n.value)){var l,c=((l=this.options_)==null?void 0:l.autoBind)?zl.bound:zl;return c.make_(e,t,n,r)}var u=((a=this.options_)==null?void 0:a.autoBind)?Ul.bound:Ul;return u.make_(e,t,n,r)}var d=((o=this.options_)==null?void 0:o.deep)===!1?Qt.ref:Qt;if(typeof n.value=="function"&&((i=this.options_)==null?void 0:i.autoBind)){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function jI(e,t,n,r){var o,i;if(n.get)return K9.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:$.safeDescriptors?e.isPlainObject_:!0,set:Is(t.toString(),n.set)},r);if(typeof n.value=="function"&&((o=this.options_)==null?void 0:o.autoBind)){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Qt.ref:Qt;return a.extend_(e,t,n,r)}var NI="observable",ZI="observable.ref",$I="observable.shallow",FI="observable.struct",Xv={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Xv);function U9(e){return e||Xv}var Yv=F9(NI),UI=F9(ZI,{enhancer:Z9}),zI=F9($I,{enhancer:bI}),KI=F9(FI,{enhancer:xI}),Gv=zr(Yv);function z9(e){return e.deep===!0?Es:e.deep===!1?Z9:XI(e.defaultDecorator)}function WI(e){var t;return e?(t=e.defaultDecorator)!=null?t:Wv(e):void 0}function XI(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Es}function qv(e,t,n){if(Yo(t)){Nl(e,t,Yv);return}return Kl(e)?e:Fr(e)?Qt.object(e,t,n):Array.isArray(e)?Qt.array(e,t):Ss(e)?Qt.map(e,t):jl(e)?Qt.set(e,t):typeof e=="object"&&e!==null?e:Qt.box(e,t)}Object.assign(qv,Gv);var YI={box:function(t,n){var r=U9(n);return new Ms(t,z9(r),r.name,!0,r.equals)},array:function(t,n){var r=U9(n);return($.useProxies===!1||r.proxy===!1?KM:AM)(t,z9(r),r.name)},map:function(t,n){var r=U9(n);return new Og(t,z9(r),r.name)},set:function(t,n){var r=U9(n);return new Hg(t,z9(r),r.name)},object:function(t,n,r){return LM($.useProxies===!1||(r==null?void 0:r.proxy)===!1?ed({},r):TM({},r),t,n)},ref:zr(UI),shallow:zr(zI),deep:Gv,struct:zr(KI)},Qt=uI(qv,YI),Qv="computed",GI="computed.struct",Jv=$7(Qv),qI=$7(GI,{equals:N9.structural}),K9=function(t,n){if(Yo(n))return Nl(t,n,Jv);if(Fr(t))return zr($7(Qv,t));St(t)||te("First argument to `computed` should be an expression."),St(n)&&te("A setter as second argument is no longer supported, use `{ set: fn }` option instead");var r=Fr(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Rs(r)};Object.assign(K9,Jv);K9.struct=zr(qI);var eg,tg,W9=0,QI=1,JI=(eg=(tg=B9(function(){},"name"))==null?void 0:tg.configurable)!=null?eg:!1,ng={value:"action",configurable:!0,writable:!1,enumerable:!1};function Is(e,t,n,r){n===void 0&&(n=!1),St(t)||te("`action` can only be invoked on functions"),(typeof e!="string"||!e)&&te("actions should have valid names, got: '"+e+"'");function o(){return eM(e,n,t,r||this,arguments)}return o.isMobxAction=!0,JI&&(ng.value=e,Object.defineProperty(o,"name",ng)),o}function eM(e,t,n,r,o){var i=tM(e,t,r,o);try{return n.apply(r,o)}catch(s){throw i.error_=s,s}finally{nM(i)}}function tM(e,t,n,r){var o=Jt()&&!!e,i=0;if(o){i=Date.now();var s=r?Array.from(r):D9;Dn({type:Y7,name:e,object:n,arguments:s})}var a=$.trackingDerivation,l=!t||!a;ir();var c=$.allowStateChanges;l&&(Ps(),c=X9(!0));var u=z7(!0),d={runAsAction_:l,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:o,startTime_:i,actionId_:QI++,parentActionId_:W9};return W9=d.actionId_,d}function nM(e){W9!==e.actionId_&&te(30),W9=e.parentActionId_,e.error_!==void 0&&($.suppressReactionErrors=!0),Y9(e.prevAllowStateChanges_),Fl(e.prevAllowStateReads_),sr(),e.runAsAction_&&so(e.prevDerivation_),e.notifySpy_&&jn({time:Date.now()-e.startTime_}),$.suppressReactionErrors=!1}function X9(e){var t=$.allowStateChanges;return $.allowStateChanges=e,t}function Y9(e){$.allowStateChanges=e}var rg,rM="create";rg=Symbol.toPrimitive;var Ms=function(e){Zv(t,e);function t(r,o,i,s,a){var l;return i===void 0&&(i="ObservableValue@"+Sr()),s===void 0&&(s=!0),a===void 0&&(a=N9.default),l=e.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=o,l.name_=i,l.equals=a,l.value_=o(r,void 0,i),s&&Jt()&&Qo({type:rM,object:N7(l),observableKind:"value",debugObjectName:l.name_,newValue:""+l.value_}),l}var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){var i=this.value_;if(o=this.prepareNewValue_(o),o!==$.UNCHANGED){var s=Jt();s&&Dn({type:Ir,object:this,observableKind:"value",debugObjectName:this.name_,newValue:o,oldValue:i}),this.setNewValue_(o),s&&jn()}},n.prepareNewValue_=function(o){if(Os(this),ar(this)){var i=lr(this,{object:this,type:Ir,newValue:o});if(!i)return $.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?$.UNCHANGED:o},n.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),Lr(this)&&Er(this,{type:Ir,object:this,newValue:o,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return Wl(this,o)},n.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Ir,newValue:this.value_,oldValue:void 0}),Xl(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return jv(this.get())},n[rg]=function(){return this.valueOf()},t}(Zl),og;og=Symbol.toPrimitive;var Rs=function(){function e(n){this.dependenciesState_=Ae.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ae.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new q9(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=or.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||te(31),this.derivation=n.get,this.name_=n.name||"ComputedValue@"+Sr(),n.set&&(this.setter_=Is(this.name_+"-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?N9.structural:N9.default),this.scope_=n.context,this.requiresReaction_=!!n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){uM(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&te(32,this.name_,this.derivation),$.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)F7(this)&&(this.warnAboutUntrackedRead_(),ir(),this.value_=this.computeValue_(!1),sr());else if(ug(this),F7(this)){var r=$.trackingContext;this.keepAlive_&&!r&&($.trackingContext=this),this.trackAndCompute()&&cM(this),$.trackingContext=r}var o=this.value_;if(Q9(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter_&&te(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else te(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Ae.NOT_TRACKING_,i=this.computeValue_(!0),s=o||Q9(r)||Q9(i)||!this.equals_(r,i);return s&&(this.value_=i,Jt()&&Qo({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:r,newValue:i})),s},t.computeValue_=function(r){this.isComputing_=!0;var o=X9(!1),i;if(r)i=ig(this,this.derivation,this.scope_);else if($.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(s){i=new q9(s)}return Y9(o),this.isComputing_=!1,i},t.suspend_=function(){this.keepAlive_||(U7(this),this.value_=void 0,this.isTracing_!==or.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' was suspended and it will recompute on the next access."))},t.observe_=function(r,o){var i=this,s=!0,a=void 0;return G7(function(){var l=i.get();if(!s||o){var c=Ps();r({observableKind:"computed",debugObjectName:i.name_,type:Ir,object:i,newValue:l,oldValue:a}),so(c)}s=!1,a=l})},t.warnAboutUntrackedRead_=function(){this.isTracing_!==or.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."),($.computedRequiresReaction||this.requiresReaction_)&&console.warn("[mobx] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute.")},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return jv(this.get())},t[og]=function(){return this.valueOf()},e}(),G9=Go("ComputedValue",Rs),Ae;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Ae||(Ae={}));var or;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(or||(or={}));var q9=function(t){this.cause=void 0,this.cause=t};function Q9(e){return e instanceof q9}function F7(e){switch(e.dependenciesState_){case Ae.UP_TO_DATE_:return!1;case Ae.NOT_TRACKING_:case Ae.STALE_:return!0;case Ae.POSSIBLY_STALE_:{for(var t=z7(!0),n=Ps(),r=e.observing_,o=r.length,i=0;i<o;i++){var s=r[i];if(G9(s)){if($.disableErrorBoundaries)s.get();else try{s.get()}catch{return so(n),Fl(t),!0}if(e.dependenciesState_===Ae.STALE_)return so(n),Fl(t),!0}}return ag(e),so(n),Fl(t),!1}}}function Os(e){var t=e.observers_.size>0;!$.allowStateChanges&&(t||$.enforceActions==="always")&&console.warn("[MobX] "+($.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+e.name_)}function oM(e){!$.allowStateReads&&$.observableRequiresReaction&&console.warn("[mobx] Observable '"+e.name_+"' being read outside a reactive context.")}function ig(e,t,n){var r=z7(!0);ag(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++$.runId;var o=$.trackingDerivation;$.trackingDerivation=e,$.inBatch++;var i;if($.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(s){i=new q9(s)}return $.inBatch--,$.trackingDerivation=o,sM(e),iM(e),Fl(r),i}function iM(e){e.observing_.length===0&&($.reactionRequiresObservable||e.requiresObservable_)&&console.warn("[mobx] Derivation '"+e.name_+"' is created/updated without reading any observable value.")}function sM(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Ae.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,s=0;s<i;s++){var a=n[s];a.diffValue_===0&&(a.diffValue_=1,o!==s&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var l=t[i];l.diffValue_===0&&lg(l,e),l.diffValue_=0}for(;o--;){var c=n[o];c.diffValue_===1&&(c.diffValue_=0,lM(c,e))}r!==Ae.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function U7(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)lg(t[n],e);e.dependenciesState_=Ae.NOT_TRACKING_}function sg(e){var t=Ps();try{return e()}finally{so(t)}}function Ps(){var e=$.trackingDerivation;return $.trackingDerivation=null,e}function so(e){$.trackingDerivation=e}function z7(e){var t=$.allowStateReads;return $.allowStateReads=e,t}function Fl(e){$.allowStateReads=e}function ag(e){if(e.dependenciesState_!==Ae.UP_TO_DATE_){e.dependenciesState_=Ae.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Ae.UP_TO_DATE_}}var K7=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},W7=!0,aM=!1,$=function(){var e=Hv();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(W7=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new K7().version&&(W7=!1),W7?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new K7):(setTimeout(function(){aM||te(35)},1),new K7)}();function lM(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function lg(e,t){e.observers_.delete(t),e.observers_.size===0&&cg(e)}function cg(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,$.pendingUnobservations.push(e))}function ir(){$.inBatch++}function sr(){if(--$.inBatch==0){vg();for(var e=$.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Rs&&n.suspend_())}$.pendingUnobservations=[]}}function ug(e){oM(e);var t=$.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&$.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(e.observers_.size===0&&$.inBatch>0&&cg(e),!1)}function dg(e){e.lowestObserverState_!==Ae.STALE_&&(e.lowestObserverState_=Ae.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ae.UP_TO_DATE_&&(t.isTracing_!==or.NONE&&fg(t,e),t.onBecomeStale_()),t.dependenciesState_=Ae.STALE_}))}function cM(e){e.lowestObserverState_!==Ae.STALE_&&(e.lowestObserverState_=Ae.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ae.POSSIBLY_STALE_?(t.dependenciesState_=Ae.STALE_,t.isTracing_!==or.NONE&&fg(t,e)):t.dependenciesState_===Ae.UP_TO_DATE_&&(e.lowestObserverState_=Ae.UP_TO_DATE_)}))}function uM(e){e.lowestObserverState_===Ae.UP_TO_DATE_&&(e.lowestObserverState_=Ae.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ae.UP_TO_DATE_&&(t.dependenciesState_=Ae.POSSIBLY_STALE_,t.onBecomeStale_())}))}function fg(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===or.BREAK){var n=[];pg(EM(e),n,1),new Function(`debugger;
/*
Tracing '`+e.name_+`'

You are entering this break point because derivation '`+e.name_+"' is being traced and '"+t.name_+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(e instanceof Rs?e.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}}function pg(e,t,n){if(t.length>=1e3){t.push("(and many more)");return}t.push(""+"	".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach(function(r){return pg(r,t,n+1)})}var X7=function(){function e(n,r,o,i){n===void 0&&(n="Reaction@"+Sr()),i===void 0&&(i=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ae.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=or.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,$.pendingReactions.push(this),vg())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){ir(),this.isScheduled_=!1;var r=$.trackingContext;if($.trackingContext=this,F7(this)){this.isTrackPending_=!0;try{this.onInvalidate_(),this.isTrackPending_&&Jt()&&Qo({name:this.name_,type:"scheduled-reaction"})}catch(o){this.reportExceptionInDerivation_(o)}}$.trackingContext=r,sr()}},t.track=function(r){if(!this.isDisposed_){ir();var o=Jt(),i;o&&(i=Date.now(),Dn({name:this.name_,type:"reaction"})),this.isRunning_=!0;var s=$.trackingContext;$.trackingContext=this;var a=ig(this,r,void 0);$.trackingContext=s,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&U7(this),Q9(a)&&this.reportExceptionInDerivation_(a.cause),o&&jn({time:Date.now()-i}),sr()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if($.disableErrorBoundaries)throw r;var i="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";$.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(i,r),Jt()&&Qo({type:"error",name:this.name_,message:i,error:""+r}),$.globalReactionErrorHandlers.forEach(function(s){return s(r,o)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ir(),U7(this),sr()))},t.getDisposer_=function(){var r=this.dispose.bind(this);return r[be]=this,r},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){r===void 0&&(r=!1),PM(this,r)},e}(),hg=100,dM=function(t){return t()};function vg(){$.inBatch>0||$.isRunningReactions||dM(fM)}function fM(){$.isRunningReactions=!0;for(var e=$.pendingReactions,t=0;e.length>0;){++t===hg&&(console.error("Reaction doesn't converge to a stable state after "+hg+" iterations."+(" Probably there is a cycle in the reactive function: "+e[0])),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}$.isRunningReactions=!1}var J9=Go("Reaction",X7);function Jt(){return!!$.spyListeners.length}function Qo(e){if(!!$.spyListeners.length)for(var t=$.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Dn(e){var t=qo({},e,{spyReportStart:!0});Qo(t)}var pM={type:"report-end",spyReportEnd:!0};function jn(e){Qo(e?qo({},e,{type:"report-end",spyReportEnd:!0}):pM)}function hM(e){return $.spyListeners.push(e),V7(function(){$.spyListeners=$.spyListeners.filter(function(t){return t!==e})})}var Y7="action",vM="action.bound",gg="autoAction",gM="autoAction.bound",mM="<unnamed action>",mg=$l(Y7),CM=$l(vM,{bound:!0}),Cg=$l(gg,{autoAction:!0}),wM=$l(gM,{autoAction:!0,bound:!0});function wg(e){var t=function(r,o){if(St(r))return Is(r.name||mM,r,e);if(St(o))return Is(r,o,e);if(Yo(o))return Nl(r,o,e?Cg:mg);if(Yo(r))return zr($l(e?gg:Y7,{name:r,autoAction:e}));te("Invalid arguments for `action`")};return t}var ks=wg(!1);Object.assign(ks,mg);var Ul=wg(!0);Object.assign(Ul,Cg);ks.bound=zr(CM);Ul.bound=zr(wM);function e5(e){return St(e)&&e.isMobxAction===!0}function G7(e,t){var n,r;t===void 0&&(t=Tv),St(e)||te("Autorun expects a function as first argument"),e5(e)&&te("Autorun does not accept actions since actions are untrackable");var o=(n=(r=t)==null?void 0:r.name)!=null?n:e.name||"Autorun@"+Sr(),i=!t.scheduler&&!t.delay,s;if(i)s=new X7(o,function(){this.track(c)},t.onError,t.requiresObservable);else{var a=bM(t),l=!1;s=new X7(o,function(){l||(l=!0,a(function(){l=!1,s.isDisposed_||s.track(c)}))},t.onError,t.requiresObservable)}function c(){e(s)}return s.schedule_(),s.getDisposer_()}var yM=function(t){return t()};function bM(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:yM}var xM="onBO",_M="onBUO";function SM(e,t,n){return bg(xM,e,t,n)}function yg(e,t,n){return bg(_M,e,t,n)}function bg(e,t,n,r){var o=typeof r=="function"?co(t,n):co(t),i=St(r)?r:n,s=e+"L";return o[s]?o[s].add(i):o[s]=new Set([i]),function(){var a=o[s];a&&(a.delete(i),a.size===0&&delete o[s])}}function LM(e,t,n,r){arguments.length>4&&te("'extendObservable' expected 2-4 arguments"),typeof e!="object"&&te("'extendObservable' expects an object as first argument"),m1(e)&&te("'extendObservable' should not be used on maps, use map.merge instead"),Fr(t)||te("'extendObservable' only accepts plain objects as second argument"),(Kl(t)||Kl(n))&&te("Extending an object with another observable (object) is not supported");var o=hI(t),i=ed(e,r)[be];ir();try{A7(o).forEach(function(s){i.extend_(s,o[s],n&&s in n?n[s]:!0)})}finally{sr()}return e}function EM(e,t){return xg(co(e,t))}function xg(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=IM(e.observing_).map(xg)),t}function IM(e){return Array.from(new Set(e))}var MM=0;function _g(){this.message="FLOW_CANCELLED"}_g.prototype=Object.create(Error.prototype);var Sg=zv("flow"),RM=zv("flow.bound",{bound:!0}),zl=Object.assign(function(t,n){if(Yo(n))return Nl(t,n,Sg);arguments.length!==1&&te("Flow expects single argument with generator function");var r=t,o=r.name||"<unnamed flow>",i=function(){var a=this,l=arguments,c=++MM,u=ks(o+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,p=new Promise(function(h,m){var v=0;d=m;function C(y){f=void 0;var x;try{x=ks(o+" - runid: "+c+" - yield "+v++,u.next).call(u,y)}catch(L){return m(L)}b(x)}function g(y){f=void 0;var x;try{x=ks(o+" - runid: "+c+" - yield "+v++,u.throw).call(u,y)}catch(L){return m(L)}b(x)}function b(y){if(St(y==null?void 0:y.then)){y.then(b,m);return}return y.done?h(y.value):(f=Promise.resolve(y.value),f.then(C,g))}C(void 0)});return p.cancel=ks(o+" - runid: "+c+" - cancel",function(){try{f&&Lg(f);var h=u.return(void 0),m=Promise.resolve(h.value);m.then(_s,_s),Lg(m),d(new _g)}catch(v){d(v)}}),p};return i.isMobXFlow=!0,i},Sg);zl.bound=zr(RM);function Lg(e){St(e.cancel)&&e.cancel()}function q7(e){return(e==null?void 0:e.isMobXFlow)===!0}function OM(e,t){return e?t!==void 0?m1(e)||Yl(e)?te("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):Ts(e)?e[be].values_.has(t):!1:Ts(e)||!!e[be]||Z7(e)||J9(e)||G9(e):!1}function Kl(e){return arguments.length!==1&&te("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),OM(e)}function PM(){for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(e=n.pop());var o=kM(n);if(!o)return te("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===or.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?or.BREAK:or.LOG}function kM(e){switch(e.length){case 0:return $.trackingDerivation;case 1:return co(e[0]);case 2:return co(e[0],e[1])}}function v1(e,t){t===void 0&&(t=void 0),ir();try{return e.apply(t)}finally{sr()}}function Jo(e){return e[be]}var HM={has:function(t,n){return $.trackingDerivation&&Dl("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),Jo(t).has_(n)},get:function(t,n){return Jo(t).get_(n)},set:function(t,n,r){var o;return Yo(n)?(Jo(t).values_.has(n)||Dl("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),(o=Jo(t).set_(n,r,!0))!=null?o:!0):!1},deleteProperty:function(t,n){var r;return Dl("delete properties from an observable object. Use 'remove' from 'mobx' instead."),Yo(n)?(r=Jo(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return Dl("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),(o=Jo(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return $.trackingDerivation&&Dl("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),Jo(t).ownKeys_()},preventExtensions:function(t){te(13)}};function TM(e,t){var n,r;return Vv(),e=ed(e,t),(r=(n=e[be]).proxy_)!=null?r:n.proxy_=new Proxy(e,HM)}function ar(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Wl(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),V7(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function lr(e,t){var n=Ps();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&(t=r[o](t),t&&!t.type&&te(14),!!t);o++);return t}finally{so(n)}}function Lr(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Xl(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),V7(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Er(e,t){var n=Ps(),r=e.changeListeners_;if(!!r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);so(n)}}var Eg="splice",Ir="update",VM=1e4,BM={get:function(t,n){var r=t[be];return n===be?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ur(t5,n)?t5[n]:t[n]},set:function(t,n,r){var o=t[be];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){te(15)}},Q7=function(){function e(n,r,o,i){n===void 0&&(n="ObservableArray@"+Sr()),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new Zl(n),this.enhancer_=function(s,a){return r(s,a,n+"[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Wl(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Xl(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&te("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),s=0;s<r-o;s++)i[s]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&te(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&Ng(r+o+1)},t.spliceWithArray_=function(r,o,i){var s=this;Os(this.atom_);var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),i===void 0&&(i=D9),ar(this)){var l=lr(this,{object:this.proxy_,type:Eg,index:r,removedCount:o,added:i});if(!l)return D9;o=l.removedCount,i=l.added}i=i.length===0?i:i.map(function(d){return s.enhancer_(d,void 0)}),this.legacyMode_;var c=i.length-o;this.updateArrayLength_(a,c);var u=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,o,i){if(i.length<VM){var s;return(s=this.values_).splice.apply(s,[r,o].concat(i))}else{var a=this.values_.slice(r,r+o),l=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var c=0;c<i.length;c++)this.values_[r+c]=i[c];for(var u=0;u<l.length;u++)this.values_[r+i.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,o,i){var s=!this.owned_&&Jt(),a=Lr(this),l=a||s?{observableKind:"array",object:this.proxy_,type:Ir,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;s&&Dn(l),this.atom_.reportChanged(),a&&Er(this,l),s&&jn()},t.notifyArraySplice_=function(r,o,i){var s=!this.owned_&&Jt(),a=Lr(this),l=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Eg,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;s&&Dn(l),this.atom_.reportChanged(),a&&Er(this,l),s&&jn()},t.get_=function(r){if(r<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r]);console.warn("[mobx] Out of bounds read: "+r)},t.set_=function(r,o){var i=this.values_;if(r<i.length){Os(this.atom_);var s=i[r];if(ar(this)){var a=lr(this,{type:Ir,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,s);var l=o!==s;l&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,s))}else r===i.length?this.spliceWithArray_(r,0,[o]):te(17,r,i.length)},e}();function AM(e,t,n,r){n===void 0&&(n="ObservableArray@"+Sr()),r===void 0&&(r=!1),Vv();var o=new Q7(n,t,r,!1);Av(o.values_,be,o);var i=new Proxy(o.values_,BM);if(o.proxy_=i,e&&e.length){var s=X9(!0);o.spliceWithArray_(0,0,e),Y9(s)}return i}var t5={clear:function(){return this.splice(0)},replace:function(t){var n=this[be];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var s=this[be];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[be].spliceWithArray_(t,n,r)},push:function(){for(var t=this[be],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[be].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[be],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return $.trackingDerivation&&te(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){$.trackingDerivation&&te(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[be],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Bt("concat",g1);Bt("flat",g1);Bt("includes",g1);Bt("indexOf",g1);Bt("join",g1);Bt("lastIndexOf",g1);Bt("slice",g1);Bt("toString",g1);Bt("toLocaleString",g1);Bt("every",ao);Bt("filter",ao);Bt("find",ao);Bt("findIndex",ao);Bt("flatMap",ao);Bt("forEach",ao);Bt("map",ao);Bt("some",ao);Bt("reduce",Ig);Bt("reduceRight",Ig);function Bt(e,t){typeof Array.prototype[e]=="function"&&(t5[e]=t(e))}function g1(e){return function(){var t=this[be];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ao(e){return function(t,n){var r=this,o=this[be];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(s,a){return t.call(n,s,a,r)})}}function Ig(e){return function(){var t=this,n=this[be];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(i,s,a){return o(i,s,a,t)},r[e].apply(r,arguments)}}var DM=Go("ObservableArrayAdministration",Q7);function Yl(e){return j9(e)&&DM(e[be])}var Mg,Rg,jM={},lo="add",n5="delete";Mg=Symbol.iterator;Rg=Symbol.toStringTag;var Og=function(){function e(n,r,o){r===void 0&&(r=Es),o===void 0&&(o="ObservableMap@"+Sr()),this.enhancer_=void 0,this.name_=void 0,this[be]=jM,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,St(Map)||te(18),this.keysAtom_=Fv(this.name_+".keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(n)}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!$.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var s=i=new Ms(this.has_(r),Z9,this.name_+"."+D7(r)+"?",!1);this.hasMap_.set(r,s),yg(s,function(){return o.hasMap_.delete(r)})}return i.get()},t.set=function(r,o){var i=this.has_(r);if(ar(this)){var s=lr(this,{type:i?Ir:lo,object:this,newValue:o,name:r});if(!s)return this;o=s.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(Os(this.keysAtom_),ar(this)){var i=lr(this,{type:n5,object:this,name:r});if(!i)return!1}if(this.has_(r)){var s=Jt(),a=Lr(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:n5,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return s&&Dn(l),v1(function(){var c;o.keysAtom_.reportChanged(),(c=o.hasMap_.get(r))==null||c.setNewValue_(!1);var u=o.data_.get(r);u.setNewValue_(void 0),o.data_.delete(r)}),a&&Er(this,l),s&&jn(),!0}return!1},t.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==$.UNCHANGED){var s=Jt(),a=Lr(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:Ir,object:this,oldValue:i.value_,name:r,newValue:o}:null;s&&Dn(l),i.setNewValue_(o),a&&Er(this,l),s&&jn()}},t.addValue_=function(r,o){var i=this;Os(this.keysAtom_),v1(function(){var c,u=new Ms(o,i.enhancer_,i.name_+"."+D7(r),!1);i.data_.set(r,u),o=u.value_,(c=i.hasMap_.get(r))==null||c.setNewValue_(!0),i.keysAtom_.reportChanged()});var s=Jt(),a=Lr(this),l=a||s?{observableKind:"map",debugObjectName:this.name_,type:lo,object:this,name:r,newValue:o}:null;s&&Dn(l),a&&Er(this,l),s&&jn()},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Gl({next:function(){var s=o.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,o=this.keys();return Gl({next:function(){var s=o.next(),a=s.done,l=s.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[Mg]=function(){return this.entries()},t.forEach=function(r,o){for(var i=Ls(this),s;!(s=i()).done;){var a=s.value,l=a[0],c=a[1];r.call(o,c,l,this)}},t.merge=function(r){var o=this;return m1(r)&&(r=new Map(r)),v1(function(){Fr(r)?pI(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var s=i[0],a=i[1];return o.set(s,a)}):Ss(r)?(r.constructor!==Map&&te(19,r),r.forEach(function(i,s){return o.set(s,i)})):r!=null&&te(20,r)}),this},t.clear=function(){var r=this;v1(function(){sg(function(){for(var o=Ls(r.keys()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.replace=function(r){var o=this;return v1(function(){for(var i=NM(r),s=new Map,a=!1,l=Ls(o.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!i.has(u)){var d=o.delete(u);if(d)a=!0;else{var f=o.data_.get(u);s.set(u,f)}}}for(var p=Ls(i.entries()),h;!(h=p()).done;){var m=h.value,v=m[0],C=m[1],g=o.data_.has(v);if(o.set(v,C),o.data_.has(v)){var b=o.data_.get(v);s.set(v,b),g||(a=!0)}}if(!a)if(o.data_.size!==s.size)o.keysAtom_.reportChanged();else for(var y=o.data_.keys(),x=s.keys(),L=y.next(),I=x.next();!L.done;){if(L.value!==I.value){o.keysAtom_.reportChanged();break}L=y.next(),I=x.next()}o.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return o===!0&&te("`observe` doesn't support fireImmediately=true in combination with maps."),Xl(this,r)},t.intercept_=function(r){return Wl(this,r)},j7(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Rg,get:function(){return"Map"}}]),e}(),m1=Go("ObservableMap",Og);function NM(e){if(Ss(e)||m1(e))return e;if(Array.isArray(e))return new Map(e);if(Fr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return te(21,e)}var Pg,kg,ZM={};Pg=Symbol.iterator;kg=Symbol.toStringTag;var Hg=function(){function e(n,r,o){r===void 0&&(r=Es),o===void 0&&(o="ObservableSet@"+Sr()),this.name_=void 0,this[be]=ZM,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,St(Set)||te(22),this.atom_=Fv(this.name_),this.enhancer_=function(i,s){return r(i,s,o)},n&&this.replace(n)}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;v1(function(){sg(function(){for(var o=Ls(r.data_.values()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.forEach=function(r,o){for(var i=Ls(this),s;!(s=i()).done;){var a=s.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(Os(this.atom_),ar(this)){var i=lr(this,{type:lo,object:this,newValue:r});if(!i)return this}if(!this.has(r)){v1(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var s=Jt(),a=Lr(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:lo,object:this,newValue:r}:null;s&&Dn(l),a&&Er(this,l),s&&jn()}return this},t.delete=function(r){var o=this;if(ar(this)){var i=lr(this,{type:n5,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var s=Jt(),a=Lr(this),l=a||s?{observableKind:"set",debugObjectName:this.name_,type:n5,object:this,oldValue:r}:null;return s&&Dn(l),v1(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&Er(this,l),s&&jn(),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),i=Array.from(this.values());return Gl({next:function(){var a=r;return r+=1,a<i.length?{value:[o[a],i[a]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,i=Array.from(this.data_.values());return Gl({next:function(){return o<i.length?{value:r.dehanceValue_(i[o++]),done:!1}:{done:!0}}})},t.replace=function(r){var o=this;return Hs(r)&&(r=new Set(r)),v1(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):jl(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&te("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return o===!0&&te("`observe` doesn't support fireImmediately=true in combination with sets."),Xl(this,r)},t.intercept_=function(r){return Wl(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Pg]=function(){return this.values()},j7(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:kg,get:function(){return"Set"}}]),e}(),Hs=Go("ObservableSet",Hg),Tg=Object.create(null),Vg="remove",J7=function(){function e(n,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=AI),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new Zl(this.name_+".keys"),this.isPlainObject_=Fr(this.target_),Fg(this.defaultAnnotation_)||te("defaultAnnotation must be valid annotation"),this.appliedAnnotations_={}}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof Rs)return i.set(o),!0;if(ar(this)){var s=lr(this,{type:Ir,object:this.proxy_||this.target_,name:r,newValue:o});if(!s)return null;o=s.newValue}if(o=i.prepareNewValue_(o),o!==$.UNCHANGED){var a=Lr(this),l=Jt(),c=a||l?{type:Ir,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;l&&Dn(c),i.setNewValue_(o),a&&Er(this,c),l&&jn()}return!0},t.get_=function(r){return $.trackingDerivation&&!Ur(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,i){return i===void 0&&(i=!1),Ur(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!$.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Ms(r in this.target_,Z9,this.name_+"."+D7(r)+"?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(Dg(this,o,r),!(r in this.target_)){var i;if((i=this.target_[h1])==null?void 0:i[r])return;te(1,o.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==A9;){var a=B9(s,r);if(a){var l=o.make_(this,r,a,s);if(l===0)return;if(l===1)break}s=Object.getPrototypeOf(s)}Ag(this,o,r)}},t.extend_=function(r,o,i,s){if(s===void 0&&(s=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,s);Dg(this,i,r);var a=i.extend_(this,r,o,s);return a&&Ag(this,i,r),a},t.defineProperty_=function(r,o,i){i===void 0&&(i=!1);try{ir();var s=this.delete_(r);if(!s)return s;if(ar(this)){var a=lr(this,{object:this.proxy_||this.target_,name:r,type:lo,newValue:o.value});if(!a)return null;var l=a.newValue;o.value!==l&&(o=qo({},o,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else p1(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{sr()}return!0},t.defineObservableProperty_=function(r,o,i,s){s===void 0&&(s=!1);try{ir();var a=this.delete_(r);if(!a)return a;if(ar(this)){var l=lr(this,{object:this.proxy_||this.target_,name:r,type:lo,newValue:o});if(!l)return null;o=l.newValue}var c=Bg(r),u={configurable:$.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else p1(this.target_,r,u);var d=new Ms(o,i,this.name_+"."+r.toString(),!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{sr()}return!0},t.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1);try{ir();var s=this.delete_(r);if(!s)return s;if(ar(this)){var a=lr(this,{object:this.proxy_||this.target_,name:r,type:lo,newValue:void 0});if(!a)return null}o.name||(o.name=this.name_+"."+r.toString()),o.context=this.proxy_||this.target_;var l=Bg(r),c={configurable:$.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else p1(this.target_,r,c);this.values_.set(r,new Rs(o)),this.notifyPropertyAddition_(r,void 0)}finally{sr()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),!Ur(this.target_,r))return!0;if(ar(this)){var i=lr(this,{object:this.proxy_||this.target_,name:r,type:Vg});if(!i)return null}try{var s,a;ir();var l=Lr(this),c=Jt(),u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=B9(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(delete this.appliedAnnotations_[r],u&&(this.values_.delete(r),u instanceof Ms&&(d=u.value_),dg(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(a=s.get(r))==null||a.set(r in this.target_),l||c){var p={type:Vg,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};c&&Dn(p),l&&Er(this,p),c&&jn()}}finally{sr()}return!0},t.observe_=function(r,o){return o===!0&&te("`observe` doesn't support the fire immediately property for observable objects."),Xl(this,r)},t.intercept_=function(r){return Wl(this,r)},t.notifyPropertyAddition_=function(r,o){var i,s,a=Lr(this),l=Jt();if(a||l){var c=a||l?{type:lo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;l&&Dn(c),a&&Er(this,c),l&&jn()}(i=this.pendingKeys_)==null||(s=i.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),A7(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ed(e,t){var n;if(t&&Ts(e)&&te("Options can't be provided for already observable objects."),Ur(e,be))return rd(e)instanceof J7||te("Cannot convert '"+r5(e)+`' into observable object:
The target is already observable of different type.
Extending builtins is not supported.`),e;Object.isExtensible(e)||te("Cannot make the designated object observable; it is not extensible");var r=(n=t==null?void 0:t.name)!=null?n:(Fr(e)?"ObservableObject":e.constructor.name)+"@"+Sr(),o=new J7(e,new Map,String(r),WI(t));return B7(e,be,o),e}var $M=Go("ObservableObjectAdministration",J7);function Bg(e){return Tg[e]||(Tg[e]={get:function(){return this[be].getObservablePropValue_(e)},set:function(n){return this[be].setObservablePropValue_(e,n)}})}function Ts(e){return j9(e)?$M(e[be]):!1}function Ag(e,t,n){var r;e.appliedAnnotations_[n]=t,(r=e.target_[h1])==null||delete r[n]}function Dg(e,t,n){if(Fg(t)||te("Cannot annotate '"+e.name_+"."+n.toString()+"': Invalid annotation."),!$9(t)&&Ur(e.appliedAnnotations_,n)){var r=e.name_+"."+n.toString(),o=e.appliedAnnotations_[n].annotationType_,i=t.annotationType_;te("Cannot apply '"+i+"' to '"+r+"':"+(`
The field is already annotated with '`+o+"'.")+`
Re-annotating fields is not allowed.
Use 'override' annotation for methods overriden by subclass.`)}}var td=0,jg=function(){};function FM(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}FM(jg,Array.prototype);var nd=function(e){Zv(t,e);function t(r,o,i,s){var a;i===void 0&&(i="ObservableArray@"+Sr()),s===void 0&&(s=!1),a=e.call(this)||this;var l=new Q7(i,o,s,!0);if(l.proxy_=N7(a),Av(N7(a),be,l),r&&r.length){var c=X9(!0);a.spliceWithArray(0,0,r),Y9(c)}return a}var n=t.prototype;return n.concat=function(){this[be].atom_.reportObserved();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return Yl(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return Gl({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},j7(t,[{key:"length",get:function(){return this[be].getArrayLength_()},set:function(o){this[be].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(jg);Object.entries(t5).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&B7(nd.prototype,t,n)});function UM(e){return{enumerable:!1,configurable:!0,get:function(){return this[be].get_(e)},set:function(n){this[be].set_(e,n)}}}function zM(e){p1(nd.prototype,""+e,UM(e))}function Ng(e){if(e>td){for(var t=td;t<e+100;t++)zM(t);td=e}}Ng(1e3);function KM(e,t,n){return new nd(e,t,n)}function co(e,t){if(typeof e=="object"&&e!==null){if(Yl(e))return t!==void 0&&te(23),e[be].atom_;if(Hs(e))return e[be];if(m1(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||te(25,t,r5(e)),n}if(Ts(e)){if(!t)return te(26);var r=e[be].values_.get(t);return r||te(27,t,r5(e)),r}if(Z7(e)||G9(e)||J9(e))return e}else if(St(e)&&J9(e[be]))return e[be];te(28)}function rd(e,t){if(e||te(29),t!==void 0)return rd(co(e,t));if(Z7(e)||G9(e)||J9(e)||m1(e)||Hs(e))return e;if(e[be])return e[be];te(24,e)}function r5(e,t){var n;if(t!==void 0)n=co(e,t);else{if(e5(e))return e.name;Ts(e)||m1(e)||Hs(e)?n=rd(e):n=co(e)}return n.name_}var Zg=A9.toString;function od(e,t,n){return n===void 0&&(n=-1),id(e,t,n)}function id(e,t,n,r,o){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(!St(i)&&i!=="object"&&typeof t!="object")return!1;var s=Zg.call(e);if(s!==Zg.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=$g(e),t=$g(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(St(l)&&l instanceof l&&St(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var u=r.length;u--;)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!id(e[u],t[u],n-1,r,o))return!1}else{var d=Object.keys(e),f;if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(f=d[u],!(Ur(t,f)&&id(e[f],t[f],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function $g(e){return Yl(e)?e.slice():Ss(e)||m1(e)||jl(e)||Hs(e)?Array.from(e.entries()):e}function Gl(e){return e[Symbol.iterator]=WM,e}function WM(){return this}function Fg(e){return e instanceof Object&&typeof e.annotationType_=="string"&&St(e.make_)&&St(e.extend_)}["Symbol","Map","Set"].forEach(function(e){var t=Hv();typeof t[e]=="undefined"&&te("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:hM,extras:{getDebugName:r5},$mobx:be});function XM(e,t,n){let r=(0,ql.useRef)(),o=(0,ql.useRef)();(0,ql.useLayoutEffect)(()=>G7(()=>{let{zoom:i,point:s}=n.camera,a=i!==r.current,l=s!==o.current;if(r.current=i,o.current=s,a||l){let c=e.current;if(t&&"current"in t){let u=t.current;a&&u&&u.style.setProperty("--tl-zoom",i.toString()),c&&c.style.setProperty("transform",`scale(${i}) translateX(${s[0]}px) translateY(${s[1]}px)`)}}}),[n])}function zg(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function sd(e,t){return e[t.type]}function YM(e,t,n){let{rSelectionBounds:r}=qt(),{selectedIds:o}=t,i=(0,Ug.useRef)(),s,a=0,l=!1,c=!1;if(o.length===1){let d=o[0],f=e.shapes[d];a=f.rotation||0,l=f.isLocked||!1;let p=sd(n,f);s=p.hideBounds?void 0:p.getBounds(f)}else if(o.length>1){let d=o.map(f=>e.shapes[f]);a=0,l=d.every(f=>f.isLocked),s=d.reduce((f,p,h)=>h===0?sd(n,p).getRotatedBounds(p):An.getExpandedBounds(f,sd(n,p).getRotatedBounds(p)),{})}if(s){let[d,f]=zg([s.minX,s.minY],t.camera),[p,h]=zg([s.maxX,s.maxY],t.camera);c=!!Object.values(e.bindings).find(m=>o.includes(m.toId)||o.includes(m.fromId)),r.current={minX:d,minY:f,maxX:p,maxY:h,width:p-d,height:h-f}}else r.current=null;let u=i.current;return!u||!s?i.current=s:s&&u.minX===s.minX&&u.minY===s.minY&&u.maxX===s.maxX&&u.maxY===s.maxY&&(s=i.current),{bounds:s,rotation:a,isLocked:l,isLinked:c}}function GM(e){let{inputs:t,callbacks:n}=qt(),r=(0,Vs.useCallback)(l=>{var c,u,d;if(l.button!==0||!t.pointerIsValid(l))return;l.stopPropagation(),(c=l.currentTarget)==null||c.setPointerCapture(l.pointerId);let f=t.pointerDown(l,e);(u=n.onPointHandle)==null||u.call(n,f,l),(d=n.onPointerDown)==null||d.call(n,f,l)},[t,n,e]),o=(0,Vs.useCallback)(l=>{var c,u,d,f;if(l.button!==0||!t.pointerIsValid(l))return;l.stopPropagation();let p=t.isDoubleClick(),h=t.pointerUp(l,e);l.currentTarget.hasPointerCapture(l.pointerId)&&((c=l.currentTarget)==null||c.releasePointerCapture(l.pointerId),p&&!(h.altKey||h.metaKey)&&((u=n.onDoubleClickHandle)==null||u.call(n,h,l)),(d=n.onReleaseHandle)==null||d.call(n,h,l)),(f=n.onPointerUp)==null||f.call(n,h,l)},[t,n]),i=(0,Vs.useCallback)(l=>{var c,u;if(!t.pointerIsValid(l))return;l.stopPropagation();let d=t.pointerMove(l,e);l.currentTarget.hasPointerCapture(l.pointerId)&&((c=n.onDragHandle)==null||c.call(n,d,l)),(u=n.onPointerMove)==null||u.call(n,d,l)},[t,n,e]),s=(0,Vs.useCallback)(l=>{var c;if(!t.pointerIsValid(l))return;let u=t.pointerEnter(l,e);(c=n.onHoverHandle)==null||c.call(n,u,l)},[t,n,e]),a=(0,Vs.useCallback)(l=>{var c;if(!t.pointerIsValid(l))return;let u=t.pointerEnter(l,e);(c=n.onUnhoverHandle)==null||c.call(n,u,l)},[t,n,e]);return{onPointerDown:r,onPointerUp:o,onPointerEnter:s,onPointerMove:i,onPointerLeave:a}}function qM(e){let{bounds:t}=qt();(0,Kg.useEffect)(()=>{let n=i=>{i.preventDefault()},r=i=>{let s=i.touches[0].pageX,a=i.touches[0].radiusX||0;(s-a<10||s+a>t.width-10)&&i.preventDefault()},o=e.current;return o?(o.addEventListener("touchstart",n),o.addEventListener("gestureend",n),o.addEventListener("gesturechange",n),o.addEventListener("gesturestart",n),o.addEventListener("touchstart",r),()=>{o&&(o.removeEventListener("touchstart",n),o.removeEventListener("gestureend",n),o.removeEventListener("gesturechange",n),o.removeEventListener("gesturestart",n),o.removeEventListener("touchstart",r))}):()=>{}},[e,t.width])}function QM(){let{callbacks:e,inputs:t}=qt(),n=(0,Bs.useCallback)(a=>{var l,c,u,d;if(!t.pointerIsValid(a))return;if(a.button===2){(l=e.onRightPointBounds)==null||l.call(e,t.pointerDown(a,"bounds"),a);return}if(a.button!==0)return;a.stopPropagation(),(c=a.currentTarget)==null||c.setPointerCapture(a.pointerId);let f=t.pointerDown(a,"bounds");(u=e.onPointBounds)==null||u.call(e,f,a),(d=e.onPointerDown)==null||d.call(e,f,a)},[e,t]),r=(0,Bs.useCallback)(a=>{var l,c,u,d;if(a.button!==0||(t.activePointer=void 0,!t.pointerIsValid(a)))return;a.stopPropagation();let f=t.isDoubleClick(),p=t.pointerUp(a,"bounds");a.currentTarget.hasPointerCapture(a.pointerId)&&((l=a.currentTarget)==null||l.releasePointerCapture(a.pointerId)),f&&!(p.altKey||p.metaKey)&&((c=e.onDoubleClickBounds)==null||c.call(e,p,a)),(u=e.onReleaseBounds)==null||u.call(e,p,a),(d=e.onPointerUp)==null||d.call(e,p,a)},[e,t]),o=(0,Bs.useCallback)(a=>{var l,c;if(!t.pointerIsValid(a))return;a.currentTarget.hasPointerCapture(a.pointerId)&&((l=e.onDragBounds)==null||l.call(e,t.pointerMove(a,"bounds"),a));let u=t.pointerMove(a,"bounds");(c=e.onPointerMove)==null||c.call(e,u,a)},[e,t]),i=(0,Bs.useCallback)(a=>{var l;!t.pointerIsValid(a)||(l=e.onHoverBounds)==null||l.call(e,t.pointerEnter(a,"bounds"),a)},[e,t]),s=(0,Bs.useCallback)(a=>{var l;!t.pointerIsValid(a)||(l=e.onUnhoverBounds)==null||l.call(e,t.pointerEnter(a,"bounds"),a)},[e,t]);return{onPointerDown:n,onPointerUp:r,onPointerEnter:i,onPointerMove:o,onPointerLeave:s}}function Wg(e,t=0){let n=(0,o5.useRef)(null);return(0,o5.useLayoutEffect)(()=>G7(()=>{let r=n.current,o=`
    translate(
      calc(${e.minX}px - var(--tl-padding)),
      calc(${e.minY}px - var(--tl-padding))
    )
    rotate(${t+(e.rotation||0)}rad)`;r.style.setProperty("transform",o),r.style.setProperty("width",`calc(${Math.floor(e.width)}px + (var(--tl-padding) * 2))`),r.style.setProperty("height",`calc(${Math.floor(e.height)}px + (var(--tl-padding) * 2))`)}),[e,t]),n}function JM(){let{inputs:e,callbacks:t}=qt();(0,Xg.useEffect)(()=>{let n=o=>{var i;(i=t.onKeyDown)==null||i.call(t,o.key,e.keydown(o),o)},r=o=>{var i;e.keyup(o),(i=t.onKeyUp)==null||i.call(t,o.key,e.keyup(o),o)};return window.addEventListener("keydown",n),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)}},[e,t])}var eR=(0,i5.memo)(function({error:t,resetErrorBoundary:n}){let{callbacks:r}=qt();return(0,i5.useEffect)(()=>{var o;(o=r.onError)==null||o.call(r,t)},[t,n,r]),null}),tR=(e=[],t=[])=>e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r])),Yg={error:null},nR=class extends As.Component{constructor(){super(...arguments);Ke(this,"state",Yg),Ke(this,"updatedWithError",!1),Ke(this,"resetErrorBoundary",(...e)=>{var t,n;(n=(t=this.props).onReset)==null||n.call(t,...e),this.reset()})}static getDerivedStateFromError(e){return{error:e}}reset(){this.updatedWithError=!1,this.setState(Yg)}componentDidCatch(e,t){var n,r;(r=(n=this.props).onError)==null||r.call(n,e,t)}componentDidMount(){let{error:e}=this.state;e!==null&&(this.updatedWithError=!0)}componentDidUpdate(e){var t,n;let{error:r}=this.state,{resetKeys:o}=this.props;if(r!==null&&!this.updatedWithError){this.updatedWithError=!0;return}r!==null&&tR(e.resetKeys,o)&&((n=(t=this.props).onResetKeysChange)==null||n.call(t,e.resetKeys,o),this.reset())}render(){let{error:e}=this.state,{fallbackRender:t,FallbackComponent:n,fallback:r}=this.props;if(e!==null){let o={error:e,resetErrorBoundary:this.resetErrorBoundary};if((0,As.isValidElement)(r))return r;if(typeof t=="function")return t(o);if(n)return(0,As.createElement)(n,Pe({},o));throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children}},Ql=ye(function(t){var n=t,{id:r,bounds:o,rotation:i=0,isGhost:s=!1,children:a}=n,l=ws(n,["id","bounds","rotation","isGhost","children"]);let c=Wg(o,i);return(0,Gg.createElement)("div",Pe({id:r,ref:c,className:s?"tl-positioned tl-ghost":"tl-positioned","aria-label":"container","data-testid":"container"},l),a)}),rR=ye(function({brush:t}){return(0,s5.createElement)(Ql,{bounds:t,rotation:0},(0,s5.createElement)(Ft,null,(0,s5.createElement)("rect",{className:"tl-brush",opacity:1,x:0,y:0,width:t.width,height:t.height,"aria-label":"brush"})))}),oR=ye(function({bounds:t,isLocked:n,isHidden:r}){return(0,qg.createElement)("rect",{className:n?"tl-bounds-center tl-dashed":"tl-bounds-center",x:-1,y:-1,width:t.width+2,height:t.height+2,opacity:r?0:1,pointerEvents:"none","aria-label":"center handle"})}),iR=ye(function({bounds:t,targetSize:n,size:r,isHidden:o}){let i=xs("rotate");return(0,a5.createElement)("g",{cursor:"grab",opacity:o?0:1},(0,a5.createElement)("circle",Pe({className:"tl-transparent","aria-label":"rotate handle transparent",cx:t.width/2,cy:r*-2,r:n,pointerEvents:o?"none":"all"},i)),(0,a5.createElement)("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:t.width/2,cy:r*-2,r:r/2,pointerEvents:"none"}))}),sR={[ne.TopLeft]:"tl-cursor-nwse",[ne.TopRight]:"tl-cursor-nesw",[ne.BottomRight]:"tl-cursor-nwse",[ne.BottomLeft]:"tl-cursor-nesw"},c5=ye(function({size:t,targetSize:n,isHidden:r,corner:o,bounds:i}){let s=xs(o),a=o===ne.TopLeft||o===ne.TopRight,l=o===ne.TopLeft||o===ne.BottomLeft;return(0,l5.createElement)("g",{opacity:r?0:1},(0,l5.createElement)("rect",Pe({className:"tl-transparent "+(r?"":sR[o]),"aria-label":"corner transparent",x:(l?-1:i.width+1)-n,y:(a?-1:i.height+1)-n,width:n*2,height:n*2,pointerEvents:r?"none":"all"},s)),(0,l5.createElement)("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(l?-1:i.width+1)-t/2,y:(a?-1:i.height+1)-t/2,width:t,height:t,pointerEvents:"none"}))});function aR({size:e,bounds:t,isHidden:n}){let r=xs("left"),o=xs("center"),i=xs("right");return(0,Wr.createElement)("g",{cursor:"grab",transform:`translate(${t.width/2-e*4}, ${t.height+e*2})`,"aria-label":"link handle"},(0,Wr.createElement)("g",{className:"tl-transparent",pointerEvents:n?"none":"all"},(0,Wr.createElement)("rect",Pe({x:0,y:0,width:e*2,height:e*2},r)),(0,Wr.createElement)("rect",Pe({x:e*3,y:0,width:e*2,height:e*2},o)),(0,Wr.createElement)("rect",Pe({x:e*6,y:0,width:e*2,height:e*2},i))),(0,Wr.createElement)("g",{className:"tl-rotate-handle",transform:`translate(${e/2}, ${e/2})`,"aria-label":"link rotate handle"},(0,Wr.createElement)("path",{d:`M 0,${e/2} L ${e},${e} ${e},0 Z`,pointerEvents:"none",opacity:n?0:1}),(0,Wr.createElement)("path",{transform:`translate(${e*3}, 0)`,d:`M 0,0 L ${e},0 ${e/2},${e} Z`,pointerEvents:"none",opacity:n?0:1}),(0,Wr.createElement)("path",{transform:`translate(${e*6}, 0)`,d:`M ${e},${e/2} L 0,0 0,${e} Z`,pointerEvents:"none",opacity:n?0:1})))}var lR={[qe.Top]:"tl-cursor-ns",[qe.Right]:"tl-cursor-ew",[qe.Bottom]:"tl-cursor-ns",[qe.Left]:"tl-cursor-ew"},u5=ye(function({size:t,isHidden:n,bounds:r,edge:o}){let i=xs(o),s=o===qe.Top||o===qe.Bottom,a=o===qe.Right||o===qe.Bottom,{height:l,width:c}=r;return(0,Qg.createElement)("rect",Pe({pointerEvents:n?"none":"all",className:"tl-transparent tl-edge-handle "+(n?"":lR[o]),"aria-label":`${o} handle`,opacity:n?0:1,x:s?t/2:(a?c+1:-1)-t/2,y:s?(a?l+1:-1)-t/2:t/2,width:s?Math.max(0,c+1-t):t,height:s?t:Math.max(0,l+1-t)},i))}),cR={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315},fo=ye(function({bounds:t,side:n,targetSize:r,size:o}){let i={left:-44,topLeft:-44,bottomLeft:-44,right:t.width+44,topRight:t.width+44,bottomRight:t.width+44,top:t.width/2,bottom:t.width/2}[n],s={left:t.height/2,right:t.height/2,top:-44,topLeft:-44,topRight:-44,bottom:t.height+44,bottomLeft:t.height+44,bottomRight:t.height+44}[n],{callbacks:a,inputs:l}=qt(),c=(0,uo.useCallback)(u=>{var d;u.stopPropagation();let f=l.pointerDown(u,n);(d=a.onShapeClone)==null||d.call(a,f,u)},[a.onShapeClone]);return(0,uo.createElement)("g",{className:"tl-clone-target",transform:`translate(${i}, ${s})`,"aria-label":"clone button"},(0,uo.createElement)("rect",{className:"tl-transparent",width:r*4,height:r*4,x:-r*2,y:-r*2}),(0,uo.createElement)("g",{className:"tl-clone-button-target",onPointerDown:c,transform:`rotate(${cR[n]})`},(0,uo.createElement)("circle",{className:"tl-transparent ",r}),(0,uo.createElement)("path",{className:"tl-clone-button",d:`M -${o/2},-${o/2} L ${o/2},0 -${o/2},${o/2} Z`,strokeLinejoin:"round"})))});function uR({targetSize:e,size:t,bounds:n}){return(0,cr.createElement)(cr.Fragment,null,(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"top"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"right"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"bottom"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"left"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"topLeft"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"topRight"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"bottomLeft"}),(0,cr.createElement)(fo,{targetSize:e,size:t,bounds:n,side:"bottomRight"}))}var Ft=(0,Ds.forwardRef)(function(t,n){var r=t,{id:o,className:i="",children:s}=r,a=ws(r,["id","className","children"]);return(0,Ds.createElement)(fs,null,()=>(0,Ds.createElement)("svg",Pe({ref:n,className:`tl-positioned-svg ${i}`},a),(0,Ds.createElement)("g",{id:o,className:"tl-centered-g"},s)))}),dR=ye(function({zoom:t,bounds:n,viewportWidth:r,rotation:o,isHidden:i,isLocked:s,hideCloneHandles:a,hideResizeHandles:l,hideRotateHandle:c,hideBindingHandles:u}){let d=(r<768?16:8)/t,f=8/t,p=Math.min(n.width,n.height)*t,h=!c&&!i&&!s&&p>32,m=!i&&!s&&p>24,v=!i&&!s&&p>20,C=!a&&p>24;return(0,$t.createElement)(Ql,{bounds:n,rotation:o},(0,$t.createElement)(Ft,null,(0,$t.createElement)(oR,{bounds:n,isLocked:s,isHidden:i}),!l&&!s&&(0,$t.createElement)($t.Fragment,null,(0,$t.createElement)(u5,{targetSize:d,size:f,bounds:n,edge:qe.Top,isHidden:!m}),(0,$t.createElement)(u5,{targetSize:d,size:f,bounds:n,edge:qe.Right,isHidden:!m}),(0,$t.createElement)(u5,{targetSize:d,size:f,bounds:n,edge:qe.Bottom,isHidden:!m}),(0,$t.createElement)(u5,{targetSize:d,size:f,bounds:n,edge:qe.Left,isHidden:!m}),(0,$t.createElement)(c5,{targetSize:d,size:f,bounds:n,isHidden:i||!v,corner:ne.TopLeft}),(0,$t.createElement)(c5,{targetSize:d,size:f,bounds:n,isHidden:i||!v,corner:ne.TopRight}),(0,$t.createElement)(c5,{targetSize:d,size:f,bounds:n,isHidden:i||!v,corner:ne.BottomRight}),(0,$t.createElement)(c5,{targetSize:d,size:f,bounds:n,isHidden:i||!v,corner:ne.BottomLeft})),h&&(0,$t.createElement)(iR,{targetSize:d,size:f,bounds:n,isHidden:!m}),C&&(0,$t.createElement)(uR,{bounds:n,targetSize:d,size:f}),!u&&(0,$t.createElement)(aR,{targetSize:d,size:f,bounds:n,isHidden:!m})))}),fR=ye(function({bounds:t,rotation:n,isHidden:r}){let o=QM();return(0,d5.createElement)(Ql,{bounds:t,rotation:n},(0,d5.createElement)(Ft,null,(0,d5.createElement)("rect",Pe({className:"tl-bounds-bg","aria-label":"bounds bg",width:t.width,height:t.height,opacity:r?0:1},o))))}),pR=ye(function({id:t,point:n}){let r=GM(t);return(0,js.createElement)(Ql,{bounds:An.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},n)},(0,js.createElement)(Ft,null,(0,js.createElement)("g",Pe({className:"tl-handle","aria-label":"handle"},r),(0,js.createElement)("circle",{className:"tl-handle-bg",pointerEvents:"all"}),(0,js.createElement)("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))}),hR=ye(function({shape:t,zoom:n}){if(t.handles===void 0)return null;let r=null,o=Object.values(t.handles).reduce((i,s)=>{let a=w.add(s.point,t.point);return(!r||w.dist(a,r)*n>=32)&&(i.push(s),r=a),i},[]);return o.length===1?null:(0,Jl.createElement)(Jl.Fragment,null,o.map(i=>(0,Jl.createElement)(pR,{key:t.id+"_"+i.id,id:i.id,point:w.add(i.point,t.point)})))}),vR=ye(function(t){let n=t.utils.getRef(t.shape);return(0,f5.createElement)(t.utils.Component,Pe({ref:n},t))}),gR=(0,f5.memo)(vR,(e,t)=>e.isHovered!==t.isHovered||e.isSelected!==t.isSelected||e.isEditing!==t.isEditing||e.isBinding!==t.isBinding||e.isGhost!==t.isGhost||e.meta!==t.meta?!1:t.shape!==e.shape?!t.utils.shouldRender(t.shape,e.shape):!0),mR=ye(function(t){var n=t,{shape:r,utils:o,meta:i}=n,s=ws(n,["shape","utils","meta"]);let{callbacks:a}=qt(),l=o.getBounds(r),c=qE(r.id);return(0,ad.createElement)(Ql,{id:r.id,bounds:l,rotation:r.rotation,"data-shape":r.type},(0,ad.createElement)(gR,Pe({shape:r,utils:o,meta:i,events:c,onShapeChange:a.onShapeChange,onShapeBlur:a.onShapeBlur},s)))}),CR=ye(function e(t){var n=t,{shape:r,utils:o,meta:i,children:s}=n,a=ws(n,["shape","utils","meta","children"]);return(0,Ns.createElement)(Ns.Fragment,null,(0,Ns.createElement)(mR,Pe({shape:r,utils:o[r.type],meta:i},a)),s&&s.map(l=>(0,Ns.createElement)(e,Pe({key:l.shape.id,utils:o},l))))}),ld=ye(function({isHovered:t=!1,isSelected:n=!1,shape:r,user:o,meta:i}){let{shapeUtils:s}=qt(),a=s[r.type],l=a.getBounds(r),c=Wg(l,r.rotation);return(0,e0.createElement)("div",{ref:c,className:"tl-indicator tl-absolute "+(o?"":n?"tl-selected":"tl-hovered")},(0,e0.createElement)("svg",{width:"100%",height:"100%"},(0,e0.createElement)("g",{className:"tl-centered-g",stroke:o==null?void 0:o.color},(0,e0.createElement)(a.Indicator,{shape:r,meta:i,user:o,isSelected:n,isHovered:t}))))}),wR=ye(function({page:t,pageState:n,hideBounds:r,hideHandles:o,hideIndicators:i,hideBindingHandles:s,hideCloneHandles:a,hideRotateHandle:l,hideResizeHandles:c,meta:u}){let{bounds:d,shapeUtils:f}=qt(),p=JE(t,n,u),{bounds:h,isLinked:m,isLocked:v,rotation:C}=YM(t,n,f),{selectedIds:g,hoveredId:b,camera:{zoom:y}}=n,x=!0,L,I=g.map(E=>t.shapes[E]);if(I.length===1){let E=I[0],O=f[E.type];x=a||!O.showCloneHandles,E.handles!==void 0&&(L=E)}return(0,Kr.createElement)(Kr.Fragment,null,h&&(0,Kr.createElement)(fR,{bounds:h,rotation:C,isHidden:r}),p.map(E=>(0,Kr.createElement)(CR,Pe({key:E.shape.id,utils:f},E))),!i&&I.map(E=>(0,Kr.createElement)(ld,{key:"selected_"+E.id,shape:E,meta:u,isSelected:!0})),!i&&b&&(0,Kr.createElement)(ld,{key:"hovered_"+b,shape:t.shapes[b],meta:u,isHovered:!0}),h&&(0,Kr.createElement)(dR,{zoom:y,bounds:h,viewportWidth:d.width,isLocked:v,rotation:C,isHidden:r,hideRotateHandle:l,hideResizeHandles:c,hideBindingHandles:s||!m,hideCloneHandles:x}),!o&&L&&(0,Kr.createElement)(hR,{shape:L,zoom:y}))});function yR({user:e}){let t=(0,p5.useRef)(null);return(0,p5.createElement)("div",{ref:t,className:"tl-absolute tl-user",style:{backgroundColor:e.color,transform:`translate(${e.point[0]}px, ${e.point[1]}px)`}})}function bR({userId:e,users:t}){return(0,t0.createElement)(t0.Fragment,null,Object.values(t).filter(n=>n&&n.id!==e).map(n=>(0,t0.createElement)(yR,{key:n.id,user:n})))}function xR(e,t){let{inputs:n,callbacks:r}=qt(),o=(0,po.useRef)(!1),i=(0,po.useCallback)(()=>{var s,a;if(o.current){let l=(s=e.current)==null?void 0:s.getBoundingClientRect();if(l){let c={minX:l.left,maxX:l.left+l.width,minY:l.top,maxY:l.top+l.height,width:l.width,height:l.height};n.bounds=c,t(c),(a=r.onBoundsChange)==null||a.call(r,c)}}else o.current=!0},[e,n,r.onBoundsChange]);(0,po.useEffect)(()=>{let s=_.debounce(i,100);return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),(0,po.useEffect)(()=>{let s=new ResizeObserver(a=>{n.isPinching||a[0].contentRect&&i()});return e.current&&s.observe(e.current),()=>{s.disconnect()}},[e,n]),(0,po.useEffect)(()=>{i()},[e])}var _R=250,Lt=class{constructor(){Ke(this,"pointer"),Ke(this,"keyboard"),Ke(this,"keys",{}),Ke(this,"isPinching",!1),Ke(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),Ke(this,"zoom",1),Ke(this,"pointerUpTime",0),Ke(this,"activePointer"),Ke(this,"panStart",e=>{var t,n;let{shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=e,a={target:"wheel",pointerId:((t=this.pointer)==null?void 0:t.pointerId)||0,origin:((n=this.pointer)==null?void 0:n.origin)||[0,0],delta:[0,0],pressure:.5,point:Lt.getPoint(e,this.bounds),shiftKey:r,ctrlKey:o,metaKey:i,altKey:s,spaceKey:this.keys[" "]};return this.pointer=a,a}),Ke(this,"pan",(e,t)=>{if(!this.pointer||this.pointer.target!=="wheel")return this.panStart(t);let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=t,s=this.pointer,a=Lt.getPoint(t,this.bounds),l=_r(Pe({},s),{target:"wheel",delta:e,point:a,shiftKey:n,ctrlKey:r,metaKey:o,altKey:i,spaceKey:this.keys[" "]});return this.pointer=l,l}),Ke(this,"keydown",e=>{var t,n;let{shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=e;return this.keys[e.key]=!0,{point:((t=this.pointer)==null?void 0:t.point)||[0,0],origin:((n=this.pointer)==null?void 0:n.origin)||[0,0],key:e.key,keys:Object.keys(this.keys),shiftKey:r,ctrlKey:o,metaKey:_.isDarwin()?i:o,altKey:s}}),Ke(this,"keyup",e=>{var t,n;let{shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=e;return delete this.keys[e.key],{point:((t=this.pointer)==null?void 0:t.point)||[0,0],origin:((n=this.pointer)==null?void 0:n.origin)||[0,0],key:e.key,keys:Object.keys(this.keys),shiftKey:r,ctrlKey:o,metaKey:_.isDarwin()?i:o,altKey:s}})}pointerIsValid(e){if("pointerId"in e&&this.activePointer&&this.activePointer!==e.pointerId)return!1;if("touches"in e){let t=e.changedTouches[0];if(this.activePointer&&this.activePointer!==t.identifier)return!1}return!0}touchStart(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=e.changedTouches[0];this.activePointer=s.identifier;let a={target:t,pointerId:s.identifier,origin:Lt.getPoint(s,this.bounds),delta:[0,0],point:Lt.getPoint(s,this.bounds),pressure:Lt.getPressure(s),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]};return this.pointer=a,a}touchEnd(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=e.changedTouches[0],a={target:t,pointerId:s.identifier,origin:Lt.getPoint(s,this.bounds),delta:[0,0],point:Lt.getPoint(s,this.bounds),pressure:Lt.getPressure(s),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]};return this.pointer=a,this.activePointer=void 0,a}touchMove(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=e.changedTouches[0],a=this.pointer,l=Lt.getPoint(s,this.bounds),c=(a==null?void 0:a.point)?w.sub(l,a.point):[0,0],u=_r(Pe({origin:l},a),{target:t,pointerId:s.identifier,point:l,delta:c,pressure:Lt.getPressure(s),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]});return this.pointer=u,u}pointerDown(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=Lt.getPoint(e,this.bounds);console.log("pointerDown.point",s),console.dir({clientX:e.clientX.toFixed(2),clientY:e.clientY.toFixed(2),boundsMinX:this.bounds.minX,boundsMinY:this.bounds.minY,e}),this.activePointer=e.pointerId;let a={target:t,pointerId:e.pointerId,origin:s,point:s,delta:[0,0],pressure:Lt.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]};return this.pointer=a,a}pointerEnter(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=Lt.getPoint(e,this.bounds),a={target:t,pointerId:e.pointerId,origin:s,delta:[0,0],point:s,pressure:Lt.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]};return this.pointer=a,a}pointerMove(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=this.pointer,a=Lt.getPoint(e,this.bounds),l=(s==null?void 0:s.point)?w.sub(a,s.point):[0,0],c=_r(Pe({origin:a},s),{target:t,pointerId:e.pointerId,point:a,delta:l,pressure:Lt.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]});return this.pointer=c,c}pointerUp(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=e,s=this.pointer,a=Lt.getPoint(e,this.bounds);console.log("pointerUp.point",a),console.table({clientX:e.clientX.toFixed(2),clientY:e.clientY.toFixed(2),boundsMinX:this.bounds.minX,boundsMinY:this.bounds.minY});let l=(s==null?void 0:s.point)?w.sub(a,s.point):[0,0];this.activePointer=void 0;let c=_r(Pe({origin:a},s),{target:t,pointerId:e.pointerId,point:a,delta:l,pressure:Lt.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]});return this.pointer=c,this.pointerUpTime=Date.now(),c}isDoubleClick(){if(!this.pointer)return!1;let{origin:e,point:t}=this.pointer,n=Date.now()-this.pointerUpTime<_R&&w.dist(e,t)<4;return n&&(this.activePointer=void 0),n}clear(){this.pointer=void 0}resetDoubleClick(){this.pointerUpTime=0}pinch(e,t){let{shiftKey:n,ctrlKey:r,metaKey:o,altKey:i}=this.keys,s=w.sub(t,e),a={pointerId:0,target:"pinch",origin:t,delta:s,point:w.sub(w.toFixed(e),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:n,ctrlKey:r,metaKey:_.isDarwin()?o:r,altKey:i,spaceKey:this.keys[" "]};return this.pointer=a,a}reset(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}static getPoint(e,t){return[+e.clientX.toFixed(2)+window.scrollX,+e.clientY.toFixed(2)+window.scrollY]}static getPressure(e){return"pressure"in e&&+e.pressure.toFixed(2)||.5}static commandKey(){return _.isDarwin()?"\u2318":"Ctrl"}},SR=new Lt;function LR({userId:e,users:t,meta:n,page:r}){let{shapeUtils:o}=qt();return(0,ho.createElement)(ho.Fragment,null,Object.values(t).filter(Boolean).filter(i=>i.id!==e&&i.selectedIds.length>0).map(i=>{let s=i.selectedIds.map(l=>r.shapes[l]).filter(Boolean);if(s.length===0)return null;let a=An.getCommonBounds(s.map(l=>o[l.type].getBounds(l)));return(0,ho.createElement)(ho.Fragment,{key:i.id+"_shapes"},(0,ho.createElement)("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:i.color+"0d",borderColor:i.color+"78",transform:`translate(${a.minX}px, ${a.minY}px)`,width:a.width,height:a.height,pointerEvents:"none"}}),s.map(l=>(0,ho.createElement)(ld,{key:`${i.id}_${l.id}_indicator`,shape:l,user:i,meta:n,isHovered:!0})))}))}var ER=ye(function({snapLines:t}){return(0,C1.createElement)(C1.Fragment,null,t.map((n,r)=>(0,C1.createElement)(IR,{key:r,snapLine:n})))}),IR=ye(function({snapLine:t}){let n=An.getBoundsFromPoints(t);return(0,C1.createElement)(C1.Fragment,null,(0,C1.createElement)("line",{className:"tl-snap-line",x1:n.minX,y1:n.minY,x2:n.maxX,y2:n.maxY}),t.map(([r,o],i)=>(0,C1.createElement)("use",{key:i,href:"#tl-snap-point",x:r,y:o})))}),Jg=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function MR({grid:e,camera:t}){return(0,Zs.createElement)("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},(0,Zs.createElement)("defs",null,Jg.map(([n,r,o],i)=>{let s=o*e*t.zoom,a=t.point[0]*t.zoom,l=t.point[1]*t.zoom,c=a>0?a%s:s+a%s,u=l>0?l%s:s+l%s,d=t.zoom<r?An.modulate(t.zoom,[n,r],[0,1]):1;return(0,Zs.createElement)("pattern",{key:`grid-pattern-${i}`,id:`grid-${i}`,width:s,height:s,patternUnits:"userSpaceOnUse"},(0,Zs.createElement)("circle",{className:"tl-grid-dot",cx:c,cy:u,r:1,opacity:d}))})),Jg.map((n,r)=>(0,Zs.createElement)("rect",{key:`grid-rect-${r}`,width:"100%",height:"100%",fill:`url(#grid-${r})`})))}var RR=ye(function({camera:{zoom:t,point:n},children:r}){let o=2.5/t;return(0,$s.createElement)("svg",{className:"tl-overlay"},(0,$s.createElement)("defs",null,(0,$s.createElement)("g",{id:"tl-snap-point"},(0,$s.createElement)("path",{className:"tl-snap-point",d:`M ${-o},${-o} L ${o},${o} M ${-o},${o} L ${o},${-o}`}))),(0,$s.createElement)("g",{transform:`scale(${t}) translate(${n})`},r))});function OR(){}var PR=ye(function({id:t,page:n,pageState:r,snapLines:o,grid:i,users:s,userId:a,meta:l,externalContainerRef:c,hideHandles:u,hideBounds:d,hideIndicators:f,hideBindingHandles:p,hideCloneHandles:h,hideResizeHandles:m,hideRotateHandle:v,hideGrid:C,onBoundsChange:g}){let b=(0,cn.useRef)(null),y=(0,cn.useRef)(null),x=(0,cn.useRef)(null);SR.zoom=r.camera.zoom,xR(b,g),XE(r.camera.zoom,c||b),YE(),qM(b),XM(x,y,r),JM();let L=GE();return(0,cn.createElement)("div",{id:t,className:"tl-container",ref:y},(0,cn.createElement)("div",Pe({id:"canvas",className:"tl-absolute tl-canvas",ref:b},L),(0,cn.createElement)(nR,{FallbackComponent:eR,onReset:OR},!C&&i&&(0,cn.createElement)(MR,{grid:i,camera:r.camera}),(0,cn.createElement)("div",{ref:x,className:"tl-absolute tl-layer","data-testid":"layer"},(0,cn.createElement)(wR,{page:n,pageState:r,hideBounds:d,hideIndicators:f,hideHandles:u,hideBindingHandles:p,hideCloneHandles:h,hideResizeHandles:m,hideRotateHandle:v,meta:l}),s&&a&&(0,cn.createElement)(LR,{userId:a,users:s,page:n,meta:l}),r.brush&&(0,cn.createElement)(rR,{brush:r.brush}),s&&(0,cn.createElement)(bR,{userId:a,users:s}))),(0,cn.createElement)(RR,{camera:r.camera},o&&(0,cn.createElement)(ER,{snapLines:o}))))}),em=ye(function(t){var n=t,{id:r="tl",shapeUtils:o,page:i,pageState:s,users:a,userId:l,theme:c,meta:u,snapLines:d,grid:f,containerRef:p,hideHandles:h=!1,hideIndicators:m=!1,hideCloneHandles:v=!1,hideBindingHandles:C=!1,hideResizeHandles:g=!1,hideRotateHandles:b=!1,hideBounds:y=!1,hideGrid:x=!0}=n,L=ws(n,["id","shapeUtils","page","pageState","users","userId","theme","meta","snapLines","grid","containerRef","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid"]);sI(c,"#"+r);let I=(0,rr.useRef)(null),E=(0,rr.useRef)(s);(0,rr.useEffect)(()=>{E.current=s},[s]);let[O,P]=(0,rr.useState)(()=>({callbacks:L,shapeUtils:o,rSelectionBounds:I,rPageState:E,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new Lt})),z=(0,rr.useCallback)(B=>{P(q=>_r(Pe({},q),{bounds:B}))},[]);return(0,rr.createElement)(H7.Provider,{value:O},(0,rr.createElement)(PR,{id:r,page:i,pageState:s,snapLines:d,grid:f,users:a,userId:l,externalContainerRef:p,hideBounds:y,hideIndicators:m,hideHandles:h,hideCloneHandles:v,hideBindingHandles:C,hideRotateHandle:b,hideResizeHandles:g,hideGrid:x,onBoundsChange:z,meta:u}))}),h5=(0,n0.forwardRef)(function(t,n){var r=t,{children:o,className:i=""}=r,s=ws(r,["children","className"]);return(0,n0.createElement)(fs,null,()=>(0,n0.createElement)("div",Pe({ref:n,className:`tl-positioned-div ${i}`},s),o))}),g5=class{constructor(){Ke(this,"refMap",new Map),Ke(this,"boundsCache",new WeakMap),Ke(this,"showCloneHandles",!1),Ke(this,"hideBounds",!1),Ke(this,"isStateful",!1),Ke(this,"shouldRender",(e,t)=>!0),Ke(this,"getRef",e=>(this.refMap.has(e.id)||this.refMap.set(e.id,(0,v5.createRef)()),this.refMap.get(e.id))),Ke(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e);if(!e.rotation)return An.boundsContain(t,n)||An.boundsContain(n,t)||An.boundsCollide(n,t);let r=An.getRotatedCorners(n,e.rotation);return r.every(o=>An.pointInBounds(o,t))||P7(r,t).length>0}),Ke(this,"getRotatedBounds",e=>An.getBoundsFromPoints(An.getRotatedCorners(this.getBounds(e),e.rotation)))}};Ke(g5,"Component",e=>(0,v5.forwardRef)(e));Ke(g5,"Indicator",e=>e);var ni=M(R()),Xe="colors",mn="sizes",ee="space",cd={gap:ee,gridGap:ee,columnGap:ee,gridColumnGap:ee,rowGap:ee,gridRowGap:ee,inset:ee,insetBlock:ee,insetBlockEnd:ee,insetBlockStart:ee,insetInline:ee,insetInlineEnd:ee,insetInlineStart:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockEnd:ee,marginBlockStart:ee,marginInline:ee,marginInlineEnd:ee,marginInlineStart:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockEnd:ee,paddingBlockStart:ee,paddingInline:ee,paddingInlineEnd:ee,paddingInlineStart:ee,top:ee,right:ee,bottom:ee,left:ee,scrollMargin:ee,scrollMarginTop:ee,scrollMarginRight:ee,scrollMarginBottom:ee,scrollMarginLeft:ee,scrollMarginX:ee,scrollMarginY:ee,scrollMarginBlock:ee,scrollMarginBlockEnd:ee,scrollMarginBlockStart:ee,scrollMarginInline:ee,scrollMarginInlineEnd:ee,scrollMarginInlineStart:ee,scrollPadding:ee,scrollPaddingTop:ee,scrollPaddingRight:ee,scrollPaddingBottom:ee,scrollPaddingLeft:ee,scrollPaddingX:ee,scrollPaddingY:ee,scrollPaddingBlock:ee,scrollPaddingBlockEnd:ee,scrollPaddingBlockStart:ee,scrollPaddingInline:ee,scrollPaddingInlineEnd:ee,scrollPaddingInlineStart:ee,fontSize:"fontSizes",background:Xe,backgroundColor:Xe,backgroundImage:Xe,borderImage:Xe,border:Xe,borderBlock:Xe,borderBlockEnd:Xe,borderBlockStart:Xe,borderBottom:Xe,borderBottomColor:Xe,borderColor:Xe,borderInline:Xe,borderInlineEnd:Xe,borderInlineStart:Xe,borderLeft:Xe,borderLeftColor:Xe,borderRight:Xe,borderRightColor:Xe,borderTop:Xe,borderTopColor:Xe,caretColor:Xe,color:Xe,columnRuleColor:Xe,fill:Xe,outline:Xe,outlineColor:Xe,stroke:Xe,textDecorationColor:Xe,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:mn,minBlockSize:mn,maxBlockSize:mn,inlineSize:mn,minInlineSize:mn,maxInlineSize:mn,width:mn,minWidth:mn,maxWidth:mn,height:mn,minHeight:mn,maxHeight:mn,flexBasis:mn,gridTemplateColumns:mn,gridTemplateRows:mn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},kR=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,Fs=()=>{let e=Object.create(null);return(t,n,...r)=>{let o=(i=>JSON.stringify(i,kR))(t);return o in e?e[o]:e[o]=n(t,...r)}},ei=Symbol.for("sxs.internal"),ud=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),tm=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:HR}=Object.prototype,dd=e=>e.includes("-")?e:e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),TR=/\s+(?![^()]*\))/,Us=e=>t=>e(...typeof t=="string"?String(t).split(TR):[t]),nm={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Us((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Us((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Us((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Us((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Us((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Us((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},fd=/([\d.]+)([^]*)/,VR=(e,t)=>e.length?e.reduce((n,r)=>(n.push(...t.map(o=>o.includes("&")?o.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(o)?`:is(${r})`:r):r+" "+o)),n),[]):t,BR=(e,t)=>e in AR&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,o,i)=>r+(o==="stretch"?`-moz-available${i};${dd(e)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${dd(e)}:${r}fit-content`)+i):String(t),AR={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},w1=e=>e?e+"-":"",rm=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,o,i,s,a)=>s=="$"==!!i?r:(o||s=="--"?"calc(":"")+"var(--"+(s==="$"?w1(t)+(a.includes("$")?"":w1(n))+a.replace(/\$/g,"-"):a)+")"+(o||s=="--"?"*"+(o||"")+(i||"1")+")":"")),DR=/\s*,\s*(?![^()]*\))/,jR=Object.prototype.toString,zs=(e,t,n,r,o)=>{let i,s,a,l=(c,u,d)=>{let f,p,h=m=>{for(f in m){let g=f.charCodeAt(0)===64,b=g&&Array.isArray(m[f])?m[f]:[m[f]];for(p of b){let y=/[A-Z]/.test(C=f)?C:C.replace(/-[^]/g,L=>L[1].toUpperCase()),x=typeof p=="object"&&p&&p.toString===jR&&(!r.utils[y]||!u.length);if(y in r.utils&&!x){let L=r.utils[y];if(L!==s){s=L,h(L(p)),s=null;continue}}else if(y in nm){let L=nm[y];if(L!==a){a=L,h(L(p)),a=null;continue}}if(g&&(v=f.slice(1)in r.media?"@media "+r.media[f.slice(1)]:f,f=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(L,I,E,O,P,z)=>{let B=fd.test(I),q=.0625*(B?-1:1),[Q,re]=B?[O,I]:[I,O];return"("+(E[0]==="="?"":E[0]===">"===B?"max-":"min-")+Q+":"+(E[0]!=="="&&E.length===1?re.replace(fd,(W,U,ve)=>Number(U)+q*(E===">"?1:-1)+ve):re)+(P?") and ("+(P[0]===">"?"min-":"max-")+Q+":"+(P.length===1?z.replace(fd,(W,U,ve)=>Number(U)+q*(P===">"?-1:1)+ve):z):"")+")"})),x){let L=g?d.concat(f):[...d],I=g?[...u]:VR(u,f.split(DR));i!==void 0&&o(om(...i)),i=void 0,l(p,I,L)}else i===void 0&&(i=[[],u,d]),f=g||f.charCodeAt(0)!==36?f:`--${w1(r.prefix)}${f.slice(1).replace(/\$/g,"-")}`,p=x?p:typeof p=="number"?p&&y in NR?String(p)+"px":String(p):rm(BR(y,p??""),r.prefix,r.themeMap[y]),i[0].push(`${g?`${f} `:`${dd(f)}:`}${p}`)}}var v,C};h(c),i!==void 0&&o(om(...i)),i=void 0};l(e,t,n)},om=(e,t,n)=>`${n.map(r=>`${r}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,NR={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},im=e=>String.fromCharCode(e+(e>25?39:97)),ti=e=>(t=>{let n,r="";for(n=Math.abs(t);n>52;n=n/52|0)r=im(n%52)+r;return im(n%52)+r})(((t,n)=>{let r=n.length;for(;r;)t=33*t^n.charCodeAt(--r);return t})(5381,JSON.stringify(e))>>>0),r0=["themed","global","styled","onevar","resonevar","allvar","inline"],ZR=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return e.cssRules,!0}catch{return!1}},$R=e=>{let t,n=()=>{if(t){let{rules:s,sheet:a}=t;if(!a.deleteRule){for(;Object(Object(a.cssRules)[0]).type===3;)a.cssRules.splice(0,1);a.cssRules=[]}for(let l in s)delete s[l]}let r=Object(e).styleSheets||[];for(let s of r)if(ZR(s)){for(let a=0,l=s.cssRules;l[a];++a){let c=Object(l[a]);if(c.type!==1)continue;let u=Object(l[a+1]);if(u.type!==4)continue;++a;let{cssText:d}=c;if(!d.startsWith("--sxs"))continue;let f=d.slice(14,-3).trim().split(/\s+/),p=r0[f[0]];p&&(t||(t={sheet:s,reset:n,rules:{}}),t.rules[p]={group:u,index:a,cache:new Set(f)})}if(t)break}if(!t){let s=(a,l)=>({type:l,cssRules:[],insertRule(c,u){this.cssRules.splice(u,0,s(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return a==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:a}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:s("","text/css"),rules:{},reset:n,toString(){let{cssRules:a}=t.sheet;return[].map.call(a,(l,c)=>{let{cssText:u}=l,d="";if(u.startsWith("--sxs"))return"";if(a[c-1]&&(d=a[c-1].cssText).startsWith("--sxs")){if(!l.cssRules.length)return"";for(let f in t.rules)if(t.rules[f].group===l)return`--sxs{--sxs:${[...t.rules[f].cache].join(" ")}}${u}`;return l.cssRules.length?`${d}${u}`:""}return u}).join("")}}}let{sheet:o,rules:i}=t;for(let s=r0.length-1;s>=0;--s){let a=r0[s];if(!i[a]){let l=r0[s+1],c=i[l]?i[l].index:o.cssRules.length;o.insertRule("@media{}",c),o.insertRule(`--sxs{--sxs:${s}}`,c),i[a]={group:o.cssRules[c+1],index:c,cache:new Set([s])}}FR(i[a])}};return n(),t},FR=e=>{let t=e.group,n=t.cssRules.length;e.apply=r=>{try{t.insertRule(r,n),++n}catch{}}},o0=Symbol(),UR=Fs(),sm=(e,t)=>UR(e,()=>(...n)=>{let r={type:null,composers:new Set};for(let o of n)if(o!=null)if(o[ei]){r.type==null&&(r.type=o[ei].type);for(let i of o[ei].composers)r.composers.add(i)}else o.constructor!==Object||o.$$typeof?r.type==null&&(r.type=o):r.composers.add(zR(o,e));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),KR(e,r,t)}),zR=(i,o)=>{var s=i,{variants:e,compoundVariants:t,defaultVariants:n}=s,r=K(s,["variants","compoundVariants","defaultVariants"]);let a=`${w1(o.prefix)}c-${ti(r)}`,l=[],c=[],u=Object.create(null),d=[];for(let m in n)u[m]=String(n[m]);if(typeof e=="object"&&e)for(let m in e){f=u,p=m,HR.call(f,p)||(u[m]="undefined");let v=e[m];for(let C in v){let g={[m]:String(C)};String(C)==="undefined"&&d.push(m);let b=v[C],y=[g,b,!tm(b)];l.push(y)}}var f,p;if(typeof t=="object"&&t)for(let m of t){let h=m,{css:v}=h,C=K(h,["css"]);v=typeof v=="object"&&v||{};for(let b in C)C[b]=String(C[b]);let g=[C,v,!tm(v)];c.push(g)}return[a,r,l,c,u,d]},KR=(e,t,n)=>{let[r,o,i,s]=WR(t.composers),a=typeof t.type=="function"||t.type.$$typeof?(d=>{function f(){for(let p=0;p<f[o0].length;p++){let[h,m]=f[o0][p];d.rules[h].apply(m)}return f[o0]=[],null}return f[o0]=[],f.rules={},r0.forEach(p=>f.rules[p]={apply:h=>f[o0].push([p,h])}),f})(n):null,l=(a||n).rules,c=`.${r}${o.length>1?`:where(.${o.slice(1).join(".")})`:""}`,u=d=>{d=typeof d=="object"&&d||XR;let C=d,{css:f}=C,p=K(C,["css"]),h={};for(let g in i)if(delete p[g],g in d){let b=d[g];typeof b=="object"&&b?h[g]=le({"@initial":i[g]},b):(b=String(b),h[g]=b!=="undefined"||s.has(g)?b:i[g])}else h[g]=i[g];let m=new Set([...o]);for(let[g,b,y,x]of t.composers){n.rules.styled.cache.has(g)||(n.rules.styled.cache.add(g),zs(b,[`.${g}`],[],e,E=>{l.styled.apply(E)}));let L=am(y,h,e.media),I=am(x,h,e.media,!0);for(let E of L)if(E!==void 0)for(let[O,P,z]of E){let B=`${g}-${ti(P)}-${O}`;m.add(B);let q=(z?n.rules.resonevar:n.rules.onevar).cache,Q=z?l.resonevar:l.onevar;q.has(B)||(q.add(B),zs(P,[`.${B}`],[],e,re=>{Q.apply(re)}))}for(let E of I)if(E!==void 0)for(let[O,P]of E){let z=`${g}-${ti(P)}-${O}`;m.add(z),n.rules.allvar.cache.has(z)||(n.rules.allvar.cache.add(z),zs(P,[`.${z}`],[],e,B=>{l.allvar.apply(B)}))}}if(typeof f=="object"&&f){let g=`${r}-i${ti(f)}-css`;m.add(g),n.rules.inline.cache.has(g)||(n.rules.inline.cache.add(g),zs(f,[`.${g}`],[],e,b=>{l.inline.apply(b)}))}for(let g of String(d.className||"").trim().split(/\s+/))g&&m.add(g);let v=p.className=[...m].join(" ");return{type:t.type,className:v,selector:c,props:p,toString:()=>v,deferredInjector:a}};return ud(u,{className:r,selector:c,[ei]:t,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},WR=e=>{let t="",n=[],r={},o=[];for(let[i,,,,s,a]of e){t===""&&(t=i),n.push(i),o.push(...a);for(let l in s){let c=s[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[t,n,r,new Set(o)]},am=(e,t,n,r)=>{let o=[];e:for(let[i,s,a]of e){if(a)continue;let l,c=0,u=!1;for(l in i){let d=i[l],f=t[l];if(f!==d){if(typeof f!="object"||!f)continue e;{let p,h,m=0;for(let v in f){if(d===String(f[v])){if(v!=="@initial"){let C=v.slice(1);(h=h||[]).push(C in n?n[C]:v.replace(/^@media ?/,"")),u=!0}c+=m,p=!0}++m}if(h&&h.length&&(s={["@media "+h.join(", ")]:s}),!p)continue e}}}(o[c]=o[c]||[]).push([r?"cv":`${l}-${i[l]}`,s,u])}return o},XR={},YR=Fs(),GR=(e,t)=>YR(e,()=>(...n)=>{let r=()=>{for(let o of n){o=typeof o=="object"&&o||{};let i=ti(o);if(!t.rules.global.cache.has(i)){if(t.rules.global.cache.add(i),"@import"in o){let s=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let a of[].concat(o["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,t.sheet.insertRule(`@import ${a};`,s++);delete o["@import"]}zs(o,[],[],e,s=>{t.rules.global.apply(s)})}}return""};return ud(r,{toString:r})}),qR=Fs(),QR=(e,t)=>qR(e,()=>n=>{let r=`${w1(e.prefix)}k-${ti(n)}`,o=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);let i=[];zs(n,[],[],e,a=>i.push(a));let s=`@keyframes ${r}{${i.join("")}}`;t.rules.global.apply(s)}return r};return ud(o,{get name(){return o()},toString:o})}),JR=class{constructor(e,t,n,r){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+w1(this.prefix)+w1(this.scale)+this.token}toString(){return this.computedValue}},eO=Fs(),tO=(e,t)=>eO(e,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);let o=`.${n=(n=typeof n=="string"?n:"")||`${w1(e.prefix)}t-${ti(r)}`}`,i={},s=[];for(let l in r){i[l]={};for(let c in r[l]){let u=`--${w1(e.prefix)}${l}-${c}`,d=rm(String(r[l][c]),e.prefix,l);i[l][c]=new JR(c,d,l,e.prefix),s.push(`${u}:${d}`)}}let a=()=>{if(s.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);let l=`${r===e.theme?":root,":""}.${n}{${s.join(";")}}`;t.rules.themed.apply(l)}return n};return $e(le({},i),{get className(){return a()},selector:o,toString:a})}),nO=Fs();var rO=Fs(),lm=e=>{let t=(n=>{let r=!1,o=nO(n,i=>{r=!0;let s="prefix"in(i=typeof i=="object"&&i||{})?String(i.prefix):"",a=typeof i.media=="object"&&i.media||{},l=typeof i.root=="object"?i.root||null:globalThis.document||null,c=typeof i.theme=="object"&&i.theme||{},u={prefix:s,media:a,theme:c,themeMap:typeof i.themeMap=="object"&&i.themeMap||le({},cd),utils:typeof i.utils=="object"&&i.utils||{}},d=$R(l),f={css:sm(u,d),globalCss:GR(u,d),keyframes:QR(u,d),createTheme:tO(u,d),reset(){d.reset(),f.theme.toString()},theme:{},sheet:d,config:u,prefix:s,getCssText:d.toString,toString:d.toString};return String(f.theme=f.createTheme(c)),f});return r||o.reset(),o})(e);return t.styled=(({config:n,sheet:r})=>rO(n,()=>{let o=sm(n,r);return(...i)=>{let s=o(...i),a=s[ei].type,l=ni.default.forwardRef((c,u)=>{let d=c&&c.as||a,{props:f,deferredInjector:p}=s(c);return delete f.as,f.ref=u,p?ni.default.createElement(ni.default.Fragment,null,ni.default.createElement(d,f),ni.default.createElement(p,null)):ni.default.createElement(d,f)});return l.className=s.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=s.selector,l.toString=()=>s.selector,l[ei]=s[ei],l}}))(t),t};function oO(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}var cm=oO;function pd(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function iO(e,t){let n=cm().then(()=>{let r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),pd(r)});return(r,o)=>n.then(i=>o(i.transaction(t,r).objectStore(t)))}var hd;function um(){return hd||(hd=iO("keyval-store","keyval")),hd}function i0(e,t=um()){return t("readonly",n=>pd(n.get(e)))}function Ks(e,t,n=um()){return n("readwrite",r=>(r.put(t,e),pd(r.transaction)))}var fr=M(R());function dm(e,t,n,r=o=>o){return e*r(.5-t*(.5-n))}function sO(e){return[-e[0],-e[1]]}function Mr(e,t){return[e[0]+t[0],e[1]+t[1]]}function ur(e,t){return[e[0]-t[0],e[1]-t[1]]}function Rr(e,t){return[e[0]*t,e[1]*t]}function aO(e,t){return[e[0]/t,e[1]/t]}function s0(e){return[e[1],-e[0]]}function lO(e,t){return e[0]*t[0]+e[1]*t[1]}function cO(e,t){return e[0]===t[0]&&e[1]===t[1]}function uO(e){return Math.hypot(e[0],e[1])}function dO(e){return e[0]*e[0]+e[1]*e[1]}function fm(e,t){return dO(ur(e,t))}function pm(e){return aO(e,uO(e))}function fO(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function a0(e,t,n){let r=Math.sin(n),o=Math.cos(n),i=e[0]-t[0],s=e[1]-t[1],a=i*o-s*r,l=i*r+s*o;return[a+t[0],l+t[1]]}function vd(e,t,n){return Mr(e,Rr(ur(t,e),n))}function hm(e,t,n){return Mr(e,Rr(t,n))}var{min:Ws,PI:pO}=Math,vm=.275,l0=pO+1e-4;function c0(e,t={}){let{size:n=16,smoothing:r=.5,thinning:o=.5,simulatePressure:i=!0,easing:s=W=>W,start:a={},end:l={},last:c=!1}=t,{cap:u=!0,taper:d=0,easing:f=W=>W*(2-W)}=a,{cap:p=!0,taper:h=0,easing:m=W=>--W*W*W+1}=l;if(e.length===0||n<=0)return[];let v=e[e.length-1].runningLength,C=Math.pow(n*r,2),g=[],b=[],y=e.slice(0,10).reduce((W,U)=>{let ve=U.pressure;if(i){let Me=Ws(1,U.distance/n),O1=Ws(1,1-Me);ve=Ws(1,W+(O1-W)*(Me*vm))}return(W+ve)/2},e[0].pressure),x=dm(n,o,e[e.length-1].pressure,s),L,I=e[0].vector,E=e[0].point,O=E,P=E,z=O;for(let W=0;W<e.length;W++){let{pressure:U}=e[W],{point:ve,vector:Me,distance:O1,runningLength:pe}=e[W];if(W<e.length-1&&v-pe<3)continue;if(o){if(i){let Je=Ws(1,O1/n),Un=Ws(1,1-Je);U=Ws(1,y+(Un-y)*(Je*vm))}x=dm(n,o,U,s)}else x=n/2;L===void 0&&(L=x);let ze=pe<d?f(pe/d):1,pn=v-pe<h?m((v-pe)/h):1;if(x=Math.max(.01,x*Math.min(ze,pn)),W===e.length-1){let Je=Rr(s0(Me),x);g.push(ur(ve,Je)),b.push(Mr(ve,Je));continue}let xn=e[W+1].vector,Pn=lO(Me,xn);if(Pn<0){let Je=Rr(s0(I),x);for(let Un=1/13,oe=0;oe<=1;oe+=Un)P=a0(ur(ve,Je),ve,l0*oe),g.push(P),z=a0(Mr(ve,Je),ve,l0*-oe),b.push(z);E=P,O=z;continue}let mr=Rr(s0(vd(xn,Me,Pn)),x);P=ur(ve,mr),(W<=1||fm(E,P)>C)&&(g.push(P),E=P),z=Mr(ve,mr),(W<=1||fm(O,z)>C)&&(b.push(z),O=z),y=U,I=Me}let B=e[0].point.slice(0,2),q=e.length>1?e[e.length-1].point.slice(0,2):Mr(e[0].point,[1,1]),Q=[],re=[];if(e.length===1){if(!(d||h)||c){let W=hm(B,pm(s0(ur(B,q))),-(L||x)),U=[];for(let ve=1/13,Me=ve;Me<=1;Me+=ve)U.push(a0(W,B,l0*2*Me));return U}}else{if(!(d||h&&e.length===1))if(u)for(let U=1/13,ve=U;ve<=1;ve+=U){let Me=a0(b[0],B,l0*ve);Q.push(Me)}else{let U=ur(g[0],b[0]),ve=Rr(U,.5),Me=Rr(U,.51);Q.push(ur(B,ve),ur(B,Me),Mr(B,Me),Mr(B,ve))}let W=s0(sO(e[e.length-1].vector));if(h||d&&e.length===1)re.push(q);else if(p){let U=hm(q,W,x);for(let ve=1/29,Me=ve;Me<1;Me+=ve)re.push(a0(U,q,l0*3*Me))}else re.push(Mr(q,Rr(W,x)),Mr(q,Rr(W,x*.99)),ur(q,Rr(W,x*.99)),ur(q,Rr(W,x)))}return g.concat(re,b.reverse(),Q)}function vo(e,t={}){var n;let{streamline:r=.5,size:o=16,last:i=!1}=t;if(e.length===0)return[];let s=.15+(1-r)*.85,a=Array.isArray(e[0])?e:e.map(({x:p,y:h,pressure:m=.5})=>[p,h,m]);if(a.length===2){let p=a[1];a=a.slice(0,-1);for(let h=1;h<5;h++)a.push(vd(a[0],p,h/4))}a.length===1&&(a=[...a,[...Mr(a[0],[1,1]),...a[0].slice(2)]]);let l=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,u=0,d=l[0],f=a.length-1;for(let p=1;p<a.length;p++){let h=i&&p===f?a[p].slice(0,2):vd(d.point,a[p],s);if(cO(d.point,h))continue;let m=fO(h,d.point);if(u+=m,p<f&&!c){if(u<o)continue;c=!0}d={point:h,pressure:a[p][2]>=0?a[p][2]:.5,vector:pm(ur(d.point,h)),distance:m,runningLength:u},l.push(d)}return l[0].vector=((n=l[1])==null?void 0:n.vector)||[0,0],l}function gd(e,t={}){return c0(vo(e,t),t)}var md=gd;var Ly=M(R());var L1=M(R());var yn=M(R());var E1=M(R());var Mt=M(R());var Kt=M(R());var tn=M(R());function gm(e){let t,n=new Set,r=(c,u)=>{let d=typeof c=="function"?c(t):c;if(d!==t){let f=t;t=u?d:Object.assign({},t,d),n.forEach(p=>p(t,f))}},o=()=>t,i=(c,u=o,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(t);function p(){let h=u(t);if(!d(f,h)){let m=f;c(f=h,m)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:o,subscribe:(c,u,d)=>u||d?i(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return t=e(r,o,l),l}var Cn=M(R());function hO(e){let t,n=new Set,r=(c,u)=>{let d=typeof c=="function"?c(t):c;if(d!==t){let f=t;t=u?d:Object.assign({},t,d),n.forEach(p=>p(t,f))}},o=()=>t,i=(c,u=o,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(t);function p(){let h=u(t);if(!d(f,h)){let m=f;c(f=h,m)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:o,subscribe:(c,u,d)=>u||d?i(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return t=e(r,o,l),l}var vO=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),mm=vO?Cn.useEffect:Cn.useLayoutEffect;function Cm(e){let t=typeof e=="function"?hO(e):e,n=(r=t.getState,o=Object.is)=>{let[,i]=(0,Cn.useReducer)(v=>v+1,0),s=t.getState(),a=(0,Cn.useRef)(s),l=(0,Cn.useRef)(r),c=(0,Cn.useRef)(o),u=(0,Cn.useRef)(!1),d=(0,Cn.useRef)();d.current===void 0&&(d.current=r(s));let f,p=!1;(a.current!==s||l.current!==r||c.current!==o||u.current)&&(f=r(s),p=!o(d.current,f)),mm(()=>{p&&(d.current=f),a.current=s,l.current=r,c.current=o,u.current=!1});let h=(0,Cn.useRef)(s);mm(()=>{let v=()=>{try{let g=t.getState(),b=l.current(g);c.current(d.current,b)||(a.current=g,d.current=b,i())}catch{u.current=!0,i()}},C=t.subscribe(v);return t.getState()!==h.current&&v(),C},[]);let m=p?f:d.current;return(0,Cn.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let r=[n,t];return{next(){let o=r.length<=0;return{value:r.shift(),done:o}}}},n}var cb=M(R());var Cd=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function wd(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function wm(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function ym(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function gO(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,o=!0,i=0;i<n.length;i++)r.indexOf(n[i])===-1&&(o=!1);return o}var bm={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":Cd?173:189,"=":Cd?61:187,";":Cd?59:186,"'":222,"[":219,"]":221,"\\":220},ri={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},xm={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},en={16:!1,18:!1,17:!1,91:!1},Ut={};for(u0=1;u0<20;u0++)bm["f".concat(u0)]=111+u0;var u0,ct=[],_m="all",Sm=[],m5=function(t){return bm[t.toLowerCase()]||ri[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function Lm(e){_m=e||"all"}function d0(){return _m||"all"}function mO(){return ct.slice(0)}function CO(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function wO(e){return typeof e=="string"&&(e=m5(e)),ct.indexOf(e)!==-1}function yO(e,t){var n,r;e||(e=d0());for(var o in Ut)if(Object.prototype.hasOwnProperty.call(Ut,o))for(n=Ut[o],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;d0()===e&&Lm(t||"all")}function bO(e){var t=e.keyCode||e.which||e.charCode,n=ct.indexOf(t);if(n>=0&&ct.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&ct.splice(0,ct.length),(t===93||t===224)&&(t=91),t in en){en[t]=!1;for(var r in ri)ri[r]===t&&(y1[r]=!1)}}function xO(e){if(!e)Object.keys(Ut).forEach(function(s){return delete Ut[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&yd(s)});else if(typeof e=="object")e.key&&yd(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],i=n[1];typeof o=="function"&&(i=o,o=""),yd({key:e,scope:o,method:i,splitKey:"+"})}}var yd=function(t){var n=t.key,r=t.scope,o=t.method,i=t.splitKey,s=i===void 0?"+":i,a=ym(n);a.forEach(function(l){var c=l.split(s),u=c.length,d=c[u-1],f=d==="*"?"*":m5(d);if(!!Ut[f]){r||(r=d0());var p=u>1?wm(ri,c):[];Ut[f]=Ut[f].map(function(h){var m=o?h.method===o:!0;return m&&h.scope===r&&gO(h.mods,p)?{}:h})}})};function Em(e,t,n){var r;if(t.scope===n||t.scope==="all"){r=t.mods.length>0;for(var o in en)Object.prototype.hasOwnProperty.call(en,o)&&(!en[o]&&t.mods.indexOf(+o)>-1||en[o]&&t.mods.indexOf(+o)===-1)&&(r=!1);(t.mods.length===0&&!en[16]&&!en[18]&&!en[17]&&!en[91]||r||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Im(e){var t=Ut["*"],n=e.keyCode||e.which||e.charCode;if(!!y1.filter.call(this,e)){if((n===93||n===224)&&(n=91),ct.indexOf(n)===-1&&n!==229&&ct.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(p){var h=xm[p];e[p]&&ct.indexOf(h)===-1?ct.push(h):!e[p]&&ct.indexOf(h)>-1?ct.splice(ct.indexOf(h),1):p==="metaKey"&&e[p]&&ct.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(ct=ct.slice(ct.indexOf(h))))}),n in en){en[n]=!0;for(var r in ri)ri[r]===n&&(y1[r]=!0);if(!t)return}for(var o in en)Object.prototype.hasOwnProperty.call(en,o)&&(en[o]=e[xm[o]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(ct.indexOf(17)===-1&&ct.push(17),ct.indexOf(18)===-1&&ct.push(18),en[17]=!0,en[18]=!0);var i=d0();if(t)for(var s=0;s<t.length;s++)t[s].scope===i&&(e.type==="keydown"&&t[s].keydown||e.type==="keyup"&&t[s].keyup)&&Em(e,t[s],i);if(n in Ut){for(var a=0;a<Ut[n].length;a++)if((e.type==="keydown"&&Ut[n][a].keydown||e.type==="keyup"&&Ut[n][a].keyup)&&Ut[n][a].key){for(var l=Ut[n][a],c=l.splitKey,u=l.key.split(c),d=[],f=0;f<u.length;f++)d.push(m5(u[f]));d.sort().join("")===ct.sort().join("")&&Em(e,l,i)}}}}function _O(e){return Sm.indexOf(e)>-1}function y1(e,t,n){ct=[];var r=ym(e),o=[],i="all",s=document,a=0,l=!1,c=!0,u="+";for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(i=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(i=t);a<r.length;a++)e=r[a].split(u),o=[],e.length>1&&(o=wm(ri,e)),e=e[e.length-1],e=e==="*"?"*":m5(e),e in Ut||(Ut[e]=[]),Ut[e].push({keyup:l,keydown:c,scope:i,mods:o,shortcut:r[a],method:n,key:r[a],splitKey:u});typeof s!="undefined"&&!_O(s)&&window&&(Sm.push(s),wd(s,"keydown",function(d){Im(d)}),wd(window,"focus",function(){ct=[]}),wd(s,"keyup",function(d){Im(d),bO(d)}))}var bd={setScope:Lm,getScope:d0,deleteScope:yO,getPressedKeyCodes:mO,isPressed:wO,filter:CO,unbind:xO};for(C5 in bd)Object.prototype.hasOwnProperty.call(bd,C5)&&(y1[C5]=bd[C5]);var C5;typeof window!="undefined"&&(Mm=window.hotkeys,y1.noConflict=function(e){return e&&window.hotkeys===y1&&(window.hotkeys=Mm),y1},window.hotkeys=y1);var Mm,Xs=y1;var Ys=M(R());Xs.filter=function(){return!0};var Rm=function(t,n){var r=t.target,o=r&&r.tagName;return Boolean(o&&n&&n.includes(o))},SO=function(t){return Rm(t,["INPUT","TEXTAREA","SELECT"])};function ce(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var o=n||{},i=o.enableOnTags,s=o.filter,a=o.keyup,l=o.keydown,c=o.filterPreventDefault,u=c===void 0?!0:c,d=o.enabled,f=d===void 0?!0:d,p=o.enableOnContentEditable,h=p===void 0?!1:p,m=(0,Ys.useRef)(null),v=(0,Ys.useCallback)(function(C,g){var b;return s&&!s(C)?!u:SO(C)&&!Rm(C,i)||(b=C.target)!=null&&b.isContentEditable&&!h?!0:m.current===null||document.activeElement===m.current?(t(C,g),!0):!1},r?[m,i,s].concat(r):[m,i,s]);return(0,Ys.useEffect)(function(){if(!f){Xs.unbind(e,v);return}return a&&l!==!0&&(n.keydown=!1),Xs(e,n||{},v),function(){return Xs.unbind(e,v)}},[v,e,f]),m}var HD=Xs.isPressed;var yc=M(R()),db=M(R()),M0=M(R()),yT=M(R()),hr=M(R());var O4=M(R()),R0=M(R());var Om=M(R()),xd=0;function w5(){Om.useEffect(()=>{var e,t;let n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Pm()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Pm()),xd++,()=>{xd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),xd--}},[])}function Pm(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Gs=M(R());function At(e){let t=Gs.useRef(e);return Gs.useEffect(()=>{t.current=e}),Gs.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}var go=M(R());function km(e,t){let[n,r]=go.useState("ltr"),[o,i]=go.useState(),s=go.useRef(0);return go.useEffect(()=>{if(t===void 0&&e!=null&&e.parentElement){let a=getComputedStyle(e.parentElement);i(a)}},[e,t]),go.useEffect(()=>(t===void 0&&function a(){s.current=requestAnimationFrame(()=>{let l=o==null?void 0:o.direction;l&&r(l),a()})}(),()=>cancelAnimationFrame(s.current)),[o,t,r]),t||n}var mo=M(R());function Co({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,o]=function({defaultProp:l,onChange:c}){let u=mo.useState(l),[d]=u,f=mo.useRef(d),p=At(c);return mo.useEffect(()=>{f.current!==d&&(p(d),f.current=d)},[d,f,p]),u}({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=At(n);return[s,mo.useCallback(l=>{if(i){let c=l,u=typeof l=="function"?c(e):l;u!==e&&a(u)}else o(l)},[i,e,o,a])]}var Hm=M(R());function oi(...e){return t=>e.forEach(n=>function(r,o){typeof r=="function"?r(o):r!=null&&(r.current=o)}(n,t))}function Ye(...e){return Hm.useCallback(oi(...e),e)}var Et=M(R());var qs=Et.forwardRef((e,t)=>{let i=e,{children:n}=i,r=K(i,["children"]),o=Et.Children.toArray(n);return o.some(Tm)?Et.createElement(Et.Fragment,null,o.map(s=>Tm(s)?Et.createElement(_d,A({},r,{ref:t}),s.props.children):s)):Et.createElement(_d,A({},r,{ref:t}),n)});qs.displayName="Slot";var _d=Et.forwardRef((e,t)=>{let o=e,{children:n}=o,r=K(o,["children"]);return Et.isValidElement(n)?Et.cloneElement(n,$e(le({},LO(r,n.props)),{ref:oi(t,n.ref)})):Et.Children.count(n)>1?Et.Children.only(null):null});_d.displayName="SlotClone";var f0=({children:e})=>Et.createElement(Et.Fragment,null,e);function Tm(e){return Et.isValidElement(e)&&e.type===f0}function LO(e,t){let n=le({},t);for(let r in t){let o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...s)=>{i==null||i(...s),o==null||o(...s)}:r==="style"?n[r]=le(le({},o),i):r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return le(le({},e),n)}var Qs=M(R());var je=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((e,t)=>$e(le({},e),{[t]:Qs.forwardRef((n,r)=>{let a=n,{asChild:o}=a,i=K(a,["asChild"]),s=o?qs:t;return Qs.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.as&&console.error(EO),Qs.createElement(s,A({},i,{ref:r}))})}),{}),EO="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element";var Or=M(R());function y5(e){let t=e+"CollectionProvider",[n,r]=Zt(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=f=>{let{scope:p,children:h}=f,m=Or.default.useRef(null),v=Or.default.useRef(new Map).current;return Or.default.createElement(o,{scope:p,itemMap:v,collectionRef:m},h)},a=e+"CollectionSlot",l=Or.default.forwardRef((f,p)=>{let{scope:h,children:m}=f,v=i(a,h),C=Ye(p,v.collectionRef);return Or.default.createElement(qs,{ref:C},m)}),c=e+"CollectionItemSlot",u="data-radix-collection-item";return[{Provider:s,Slot:l,ItemSlot:Or.default.forwardRef((f,p)=>{let y=f,{scope:h,children:m}=y,v=K(y,["scope","children"]),C=Or.default.useRef(null),g=Ye(p,C),b=i(c,h);return Or.default.useEffect(()=>(b.itemMap.set(C,le({ref:C},v)),()=>{b.itemMap.delete(C)})),Or.default.createElement(qs,{[u]:"",ref:g},m)})},function(f){let p=i(e+"CollectionConsumer",f);return Or.default.useCallback(()=>{let h=p.collectionRef.current;if(!h)return[];let m=Array.from(h.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((v,C)=>m.indexOf(v.ref.current)-m.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])},r]}function ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}var vt=M(R());var IO={bubbles:!1,cancelable:!0},[Sd,Vm,MO]=y5("RovingFocusGroup"),[RO,Ld]=Zt("RovingFocusGroup",[MO]);var[OO,PO]=RO("RovingFocusGroup"),kO=vt.forwardRef((e,t)=>vt.createElement(Sd.Provider,{scope:e.__scopeRovingFocusGroup},vt.createElement(Sd.Slot,{scope:e.__scopeRovingFocusGroup},vt.createElement(HO,A({},e,{ref:t}))))),HO=vt.forwardRef((e,t)=>{let y=e,{__scopeRovingFocusGroup:n,orientation:r,dir:o="ltr",loop:i=!1,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c}=y,u=K(y,["__scopeRovingFocusGroup","orientation","dir","loop","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"]),d=vt.useRef(null),f=Ye(t,d),[p=null,h]=Co({prop:s,defaultProp:a,onChange:l}),[m,v]=vt.useState(!1),C=At(c),g=Vm(n),b=vt.useRef(!1);return vt.useEffect(()=>{let x=d.current;if(x)return x.addEventListener("rovingFocusGroup.onEntryFocus",C),()=>x.removeEventListener("rovingFocusGroup.onEntryFocus",C)},[C]),vt.createElement(OO,{scope:n,orientation:r,dir:o,loop:i,currentTabStopId:p,onItemFocus:vt.useCallback(x=>h(x),[h]),onItemShiftTab:vt.useCallback(()=>v(!0),[])},vt.createElement(je.div,A({tabIndex:m?-1:0,"aria-orientation":r,"data-orientation":r},u,{ref:f,style:le({outline:"none"},e.style),onMouseDown:ue(e.onMouseDown,()=>{b.current=!0}),onFocus:ue(e.onFocus,x=>{let L=!b.current;if(x.target===x.currentTarget&&L&&!m){let I=new Event("rovingFocusGroup.onEntryFocus",IO);if(x.currentTarget.dispatchEvent(I),!I.defaultPrevented){let E=g().filter(O=>O.focusable);Bm([E.find(O=>O.active),E.find(O=>O.id===p),...E].filter(Boolean).map(O=>O.ref.current))}}b.current=!1}),onBlur:ue(e.onBlur,()=>v(!1))})))}),TO=vt.forwardRef((e,t)=>{let u=e,{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1}=u,i=K(u,["__scopeRovingFocusGroup","focusable","active"]),s=In(),a=PO("RovingFocusGroupItem",n),l=a.currentTabStopId===s,c=Vm(n);return vt.createElement(Sd.ItemSlot,{scope:n,id:s,focusable:r,active:o},vt.createElement(je.span,A({tabIndex:l?0:-1,"data-orientation":a.orientation},i,{ref:t,onMouseDown:ue(e.onMouseDown,d=>{r?a.onItemFocus(s):d.preventDefault()}),onFocus:ue(e.onFocus,()=>a.onItemFocus(s)),onKeyDown:ue(e.onKeyDown,d=>{if(d.key==="Tab"&&d.shiftKey)return void a.onItemShiftTab();if(d.target!==d.currentTarget)return;let f=function(m,v,C){let g=function(b,y){return y!=="rtl"?b:b==="ArrowLeft"?"ArrowRight":b==="ArrowRight"?"ArrowLeft":b}(m.key,C);return v==="vertical"&&["ArrowLeft","ArrowRight"].includes(g)||v==="horizontal"&&["ArrowUp","ArrowDown"].includes(g)?void 0:VO[g]}(d,a.orientation,a.dir);if(f!==void 0){d.preventDefault();let m=c().filter(v=>v.focusable).map(v=>v.ref.current);if(f==="last")m.reverse();else if(f==="prev"||f==="next"){f==="prev"&&m.reverse();let v=m.indexOf(d.currentTarget);m=a.loop?(h=v+1,(p=m).map((C,g)=>p[(h+g)%p.length])):m.slice(v+1)}setTimeout(()=>Bm(m))}var p,h})})))}),VO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bm(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}var Am=kO,Dm=TO;var jm=M(R()),b1=Boolean(globalThis==null?void 0:globalThis.document)?jm.useLayoutEffect:()=>{};var Nm=M(G2()),Js=M(R());var wo=Js.forwardRef((e,t)=>{var n,r;let c=e,{containerRef:o,style:i}=c,s=K(c,["containerRef","style"]),a=(n=o==null?void 0:o.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=Js.useState({});return b1(()=>{l({})},[]),a?Nm.default.createPortal(Js.createElement(je.div,A({"data-radix-portal":""},s,{ref:t,style:a===document.body?le({position:"absolute",top:0,left:0,zIndex:2147483647},i):void 0})),a):null});var p0=M(R());var BO=p0.forwardRef((e,t)=>{let s=e,{children:n,width:r=10,height:o=5}=s,i=K(s,["children","width","height"]);return p0.createElement(je.svg,A({},i,{ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:p0.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Zm=BO;var b5=M(R());function Ed(e){let[t,n]=b5.useState(void 0);return b5.useEffect(()=>{if(e){let r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;let i=o[0],s,a;if("borderBoxSize"in i){let l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else{let l=e.getBoundingClientRect();s=l.width,a=l.height}n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>{n(void 0),r.unobserve(e)}}},[e]),t}function $m(e,t){let n=ii.get(e);return n===void 0?(ii.set(e,{rect:{},callbacks:[t]}),ii.size===1&&(Id=requestAnimationFrame(Fm))):(n.callbacks.push(t),t(e.getBoundingClientRect())),()=>{let r=ii.get(e);if(r===void 0)return;let o=r.callbacks.indexOf(t);o>-1&&r.callbacks.splice(o,1),r.callbacks.length===0&&(ii.delete(e),ii.size===0&&cancelAnimationFrame(Id))}}var Id,ii=new Map;function Fm(){let e=[];ii.forEach((t,n)=>{let r=n.getBoundingClientRect();var o,i;o=t.rect,i=r,(o.width!==i.width||o.height!==i.height||o.top!==i.top||o.right!==i.right||o.bottom!==i.bottom||o.left!==i.left)&&(t.rect=r,e.push(t))}),e.forEach(t=>{t.callbacks.forEach(n=>n(t.rect))}),Id=requestAnimationFrame(Fm)}var x5=M(R());function _5(e){let[t,n]=x5.useState();return x5.useEffect(()=>{if(e){let r=$m(e,n);return()=>{n(void 0),r()}}},[e]),t}function Um({anchorRect:e,popperSize:t,arrowSize:n,arrowOffset:r=0,side:o,sideOffset:i=0,align:s,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:c,collisionTolerance:u=0}){if(!e||!t||!c)return{popperStyles:AO,arrowStyles:Md};let d=function(I,E,O=0,P=0,z){let B=z?z.height:0,q=zm(E,I,"x"),Q=zm(E,I,"y"),re=Q.before-O-B,W=Q.after+O+B,U=q.before-O-B,ve=q.after+O+B;return{top:{start:{x:q.start+P,y:re},center:{x:q.center,y:re},end:{x:q.end-P,y:re}},right:{start:{x:ve,y:Q.start+P},center:{x:ve,y:Q.center},end:{x:ve,y:Q.end-P}},bottom:{start:{x:q.start+P,y:W},center:{x:q.center,y:W},end:{x:q.end-P,y:W}},left:{start:{x:U,y:Q.start+P},center:{x:U,y:Q.center},end:{x:U,y:Q.end-P}}}}(t,e,i,a,n),f=d[o][s];if(l===!1){let I=Km(f),E=Md;return n&&(E=Xm({popperSize:t,arrowSize:n,arrowOffset:r,side:o,align:s})),{popperStyles:$e(le({},I),{"--radix-popper-transform-origin":Wm(t,o,s,r,n)}),arrowStyles:E,placedSide:o,placedAlign:s}}let p=DOMRect.fromRect(le(le({},t),f)),h=(m=c,v=u,DOMRect.fromRect({width:m.width-2*v,height:m.height-2*v,x:m.left+v,y:m.top+v}));var m,v;let C=Gm(p,h),g=d[Ym(o)][s],b=function(I,E,O){let P=Ym(I);return E[I]&&!O[P]?P:I}(o,C,Gm(DOMRect.fromRect(le(le({},t),g)),h)),y=function(I,E,O,P,z){let B=O==="top"||O==="bottom",q=B?"left":"top",Q=B?"right":"bottom",re=B?"width":"height",W=E[re]>I[re];return(P==="start"||P==="center")&&(z[q]&&W||z[Q]&&!W)?"end":(P==="end"||P==="center")&&(z[Q]&&W||z[q]&&!W)?"start":P}(t,e,o,s,C),x=Km(d[b][y]),L=Md;return n&&(L=Xm({popperSize:t,arrowSize:n,arrowOffset:r,side:b,align:y})),{popperStyles:$e(le({},x),{"--radix-popper-transform-origin":Wm(t,b,y,r,n)}),arrowStyles:L,placedSide:b,placedAlign:y}}function zm(e,t,n){let r=e[n==="x"?"left":"top"],o=n==="x"?"width":"height",i=e[o],s=t[o];return{before:r-s,start:r,center:r+(i-s)/2,end:r+i-s,after:r+i}}function Km(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(e.x+window.scrollX)}px, ${Math.round(e.y+window.scrollY)}px, 0)`}}function Wm(e,t,n,r,o){let i=t==="top"||t==="bottom",s=o?o.width:0,a=o?o.height:0,l=s/2+r,c="",u="";return i?(c={start:`${l}px`,center:"center",end:e.width-l+"px"}[n],u=t==="top"?`${e.height+a}px`:-a+"px"):(c=t==="left"?`${e.width+a}px`:-a+"px",u={start:`${l}px`,center:"center",end:e.height-l+"px"}[n]),`${c} ${u}`}var AO={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},Md={position:"absolute",opacity:0};function Xm({popperSize:e,arrowSize:t,arrowOffset:n,side:r,align:o}){let i=(e.width-t.width)/2,s=(e.height-t.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(t.width,t.height),c={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:DO(r,o)};return r!=="top"&&r!=="bottom"||(o==="start"&&(c.left=`${n}px`),o==="center"&&(c.left=`${i}px`),o==="end"&&(c.right=`${n}px`)),r!=="left"&&r!=="right"||(o==="start"&&(c.top=`${n}px`),o==="center"&&(c.top=`${s}px`),o==="end"&&(c.bottom=`${n}px`)),c}function DO(e,t){return(e!=="top"&&e!=="right"||t!=="end")&&(e!=="bottom"&&e!=="left"||t==="end")?"ltr":"rtl"}function Ym(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function Gm(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}var ot=M(R());var[qm,ea]=Zt("Popper");var[jO,Qm]=qm("Popper"),NO=e=>{let{__scopePopper:t,children:n}=e,[r,o]=ot.useState(null);return ot.createElement(jO,{scope:t,anchor:r,onAnchorChange:o},n)},ZO=ot.forwardRef((e,t)=>{let l=e,{__scopePopper:n,virtualRef:r}=l,o=K(l,["__scopePopper","virtualRef"]),i=Qm("PopperAnchor",n),s=ot.useRef(null),a=Ye(t,s);return ot.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:ot.createElement(je.div,A({},o,{ref:a}))}),[$O,FO]=qm("PopperContent"),UO=ot.forwardRef((e,t)=>{let B=e,{__scopePopper:n,side:r="bottom",sideOffset:o,align:i="center",alignOffset:s,collisionTolerance:a,avoidCollisions:l=!0}=B,c=K(B,["__scopePopper","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"]),u=Qm("PopperContent",n),[d,f]=ot.useState(),p=_5(u.anchor),[h,m]=ot.useState(null),v=Ed(h),[C,g]=ot.useState(null),b=Ed(C),y=Ye(t,q=>m(q)),x=function(){let[q,Q]=ot.useState(void 0);return ot.useEffect(()=>{let re;function W(){Q({width:window.innerWidth,height:window.innerHeight})}function U(){window.clearTimeout(re),re=window.setTimeout(W,100)}return W(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),q}(),L=x?DOMRect.fromRect($e(le({},x),{x:0,y:0})):void 0,{popperStyles:I,arrowStyles:E,placedSide:O,placedAlign:P}=Um({anchorRect:p,popperSize:v,arrowSize:b,arrowOffset:d,side:r,sideOffset:o,align:i,alignOffset:s,shouldAvoidCollisions:l,collisionBoundariesRect:L,collisionTolerance:a}),z=O!==void 0;return ot.createElement("div",{style:I,"data-radix-popper-content-wrapper":""},ot.createElement($O,{scope:n,arrowStyles:E,onArrowChange:g,onArrowOffsetChange:f},ot.createElement(je.div,A({"data-side":O,"data-align":P},c,{style:$e(le({},c.style),{animation:z?void 0:"none"}),ref:y}))))}),zO=ot.forwardRef(function(e,t){let a=e,{__scopePopper:n,offset:r}=a,o=K(a,["__scopePopper","offset"]),i=FO("PopperArrow",n),{onArrowOffsetChange:s}=i;return ot.useEffect(()=>s(r),[s,r]),ot.createElement("span",{style:$e(le({},i.arrowStyles),{pointerEvents:"none"})},ot.createElement("span",{ref:i.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},ot.createElement(Zm,A({},o,{ref:t,style:$e(le({},o.style),{display:"block"})}))))}),h0=NO,S5=ZO,L5=UO,E5=zO;var un=M(R()),x1=e=>{let{present:t,children:n}=e,r=function(s){let[a,l]=un.useState(),c=un.useRef({}),u=un.useRef(s),d=un.useRef("none"),f=s?"mounted":"unmounted",[p,h]=function(m,v){return un.useReducer((C,g)=>{let b=v[C][g];return b??C},m)}(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return un.useEffect(()=>{let m=I5(c.current);d.current=p==="mounted"?m:"none"},[p]),b1(()=>{let m=c.current,v=u.current;if(v!==s){let C=d.current,g=I5(m);s?h("MOUNT"):g==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(v&&C!==g?"ANIMATION_OUT":"UNMOUNT"),u.current=s}},[s,h]),b1(()=>{if(a){let m=C=>{let g=I5(c.current).includes(C.animationName);C.target===a&&g&&h("ANIMATION_END")},v=C=>{C.target===a&&(d.current=I5(c.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",m),a.addEventListener("animationend",m),()=>{a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",m),a.removeEventListener("animationend",m)}}},[a,h]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:un.useCallback(m=>{m&&(c.current=getComputedStyle(m)),l(m)},[])}}(t),o=typeof n=="function"?n({present:r.isPresent}):un.Children.only(n),i=Ye(r.ref,o.ref);return typeof n=="function"||r.isPresent?un.cloneElement(o,{ref:i}):null};function I5(e){return(e==null?void 0:e.animationName)||"none"}x1.displayName="Presence";var Mn=M(R());var Jm={bubbles:!1,cancelable:!0},M5=Mn.forwardRef((e,t)=>{let m=e,{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i}=m,s=K(m,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,l]=Mn.useState(null),c=At(o),u=At(i),d=Mn.useRef(null),f=Ye(t,v=>l(v)),p=Mn.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Mn.useEffect(()=>{if(r){let v=function(g){if(p.paused||!a)return;let b=g.target;a.contains(b)?d.current=b:si(d.current,{select:!0})},C=function(g){!p.paused&&a&&(a.contains(g.relatedTarget)||si(d.current,{select:!0}))};return document.addEventListener("focusin",v),document.addEventListener("focusout",C),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",C)}}},[r,a,p.paused]),Mn.useEffect(()=>{if(a){nC.add(p);let v=document.activeElement;if(!a.contains(v)){let C=new Event("focusScope.autoFocusOnMount",Jm);a.addEventListener("focusScope.autoFocusOnMount",c),a.dispatchEvent(C),C.defaultPrevented||(function(g,{select:b=!1}={}){let y=document.activeElement;for(let x of g)if(si(x,{select:b}),document.activeElement!==y)return}(eC(a),{select:!0}),document.activeElement===v&&si(a))}return()=>{a.removeEventListener("focusScope.autoFocusOnMount",c),setTimeout(()=>{let C=new Event("focusScope.autoFocusOnUnmount",Jm);a.addEventListener("focusScope.autoFocusOnUnmount",u),a.dispatchEvent(C),C.defaultPrevented||si(v??document.body,{select:!0}),a.removeEventListener("focusScope.autoFocusOnUnmount",u),nC.remove(p)},0)}}},[a,c,u,p]);let h=Mn.useCallback(v=>{if(!n&&!r||p.paused)return;let C=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(C&&g){let b=v.currentTarget,[y,x]=function(L){let I=eC(L),E=tC(I,L),O=tC(I.reverse(),L);return[E,O]}(b);y&&x?v.shiftKey||g!==x?v.shiftKey&&g===y&&(v.preventDefault(),n&&si(x,{select:!0})):(v.preventDefault(),n&&si(y,{select:!0})):g===b&&v.preventDefault()}},[n,r,p.paused]);return Mn.createElement(je.div,A({tabIndex:-1},s,{ref:f,onKeyDown:h}))});function eC(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{let o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tC(e,t){for(let n of e)if(!KO(n,{upTo:t}))return n}function KO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function si(e,{select:t=!1}={}){if(e&&e.focus){let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(r){return r instanceof HTMLInputElement&&"select"in r}(e)&&t&&e.select()}}var nC=function(){let e=[];return{add(t){let n=e[0];t!==n&&(n==null||n.pause()),e=rC(e,t),e.unshift(t)},remove(t){var n;e=rC(e,t),(n=e[0])===null||n===void 0||n.resume()}}}();function rC(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}var oC=M(R());function R5(e){let t=At(e);oC.useEffect(()=>{let n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}var v0=M(R()),iC,O5=0;function sC({disabled:e}){let t=v0.useRef(!1),n=v0.useRef(!1);v0.useEffect(()=>{let r=i=>{let s=i.pointerType==="mouse";t.current=!s,n.current=s&&i.button===0},o=()=>{t.current=!1,n.current=!1};return document.addEventListener("pointerdown",r),document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointerdown",r),document.removeEventListener("pointerup",o)}},[]),b1(()=>{if(e){let r=function(){O5--,O5===0&&(document.body.style.pointerEvents=iC)};return O5===0&&(iC=document.body.style.pointerEvents),document.body.style.pointerEvents="none",O5++,()=>{t.current?document.addEventListener("click",r,{once:!0}):n.current?document.addEventListener("pointerup",r,{once:!0}):r()}}},[e])}var it=M(R());var[WO,XO]=lC(),[YO,aC]=cC(),[GO,qO]=lC("TotalLayerCountWithDisabledOutsidePointerEventsProvider"),[QO,JO]=cC("RunningLayerCountWithDisabledOutsidePointerEventsProvider"),P5=it.forwardRef((e,t)=>{let n=aC()===0,r=it.createElement(eP,A({},e,{ref:t}));return n?it.createElement(WO,null,it.createElement(GO,null,r)):r}),eP=it.forwardRef((e,t)=>{let b=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a}=b,l=K(b,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),c=XO(),u=aC()+1,d=u===c,f=qO(n),p=JO()+(n?1:0),h=p<f;sC({disabled:n}),R5(y=>{d&&(r==null||r(y),y.defaultPrevented||a==null||a())});let{onPointerDownCapture:m}=function(y){let x=At(y),L=it.useRef(!1);return it.useEffect(()=>{let I=O=>{let P=O.target;if(P&&!L.current){let z=new CustomEvent("dismissableLayer.pointerDownOutside",{bubbles:!1,cancelable:!0,detail:{originalEvent:O}});P.addEventListener("dismissableLayer.pointerDownOutside",x,{once:!0}),P.dispatchEvent(z)}L.current=!1},E=window.setTimeout(()=>{document.addEventListener("pointerdown",I)},0);return()=>{window.clearTimeout(E),document.removeEventListener("pointerdown",I)}},[x]),{onPointerDownCapture:()=>L.current=!0}}(y=>{h||(o==null||o(y),s==null||s(y),y.defaultPrevented||a==null||a())}),{onBlurCapture:v,onFocusCapture:C}=function(y){let x=At(y),L=it.useRef(!1);return it.useEffect(()=>{let I=E=>{let O=E.target;if(O&&!L.current){let P=new CustomEvent("dismissableLayer.focusOutside",{bubbles:!1,cancelable:!0,detail:{originalEvent:E}});O.addEventListener("dismissableLayer.focusOutside",x,{once:!0}),O.dispatchEvent(P)}};return document.addEventListener("focusin",I),()=>document.removeEventListener("focusin",I)},[x]),{onFocusCapture:()=>L.current=!0,onBlurCapture:()=>L.current=!1}}(y=>{i==null||i(y),s==null||s(y),y.defaultPrevented||a==null||a()}),g=f>0&&!h;return it.createElement(YO,{runningCount:u},it.createElement(QO,{runningCount:p},it.createElement(je.div,A({},l,{ref:t,style:le({pointerEvents:g?"auto":void 0},l.style),onPointerDownCapture:ue(e.onPointerDownCapture,m),onBlurCapture:ue(e.onBlurCapture,v),onFocusCapture:ue(e.onFocusCapture,C)}))))});function lC(e){let[t,n]=Zo("TotalLayerCount",{total:0,onTotalIncrease:()=>{},onTotalDecrease:()=>{}});return[({children:o})=>{let[i,s]=it.useState(0);return it.createElement(t,{total:i,onTotalIncrease:it.useCallback(()=>s(a=>a+1),[]),onTotalDecrease:it.useCallback(()=>s(a=>a-1),[])},o)},function(o=!0){let{total:i,onTotalIncrease:s,onTotalDecrease:a}=n("TotalLayerCountConsumer");return it.useLayoutEffect(()=>{if(o)return s(),()=>a()},[o,s,a]),i}]}function cC(e){let[t,n]=Zo("RunningLayerCount",{count:0});return[o=>{let{children:i,runningCount:s}=o;return it.createElement(t,{count:s},i)},function(){return n("RunningLayerCountConsumer").count||0}]}var tP=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ta=new WeakMap,k5=new WeakMap,H5={},Rd=0,T5=function(e,t,n){t===void 0&&(t=tP(e)),n===void 0&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];H5[n]||(H5[n]=new WeakMap);var o=H5[n],i=[],s=new Set,a=function(c){!c||s.has(c)||(s.add(c),a(c.parentNode))};r.forEach(a);var l=function(c){!c||r.indexOf(c)>=0||Array.prototype.forEach.call(c.children,function(u){if(s.has(u))l(u);else{var d=u.getAttribute("aria-hidden"),f=d!==null&&d!=="false",p=(ta.get(u)||0)+1,h=(o.get(u)||0)+1;ta.set(u,p),o.set(u,h),i.push(u),p===1&&f&&k5.set(u,!0),h===1&&u.setAttribute(n,"true"),f||u.setAttribute("aria-hidden","true")}})};return l(t),s.clear(),Rd++,function(){i.forEach(function(c){var u=ta.get(c)-1,d=o.get(c)-1;ta.set(c,u),o.set(c,d),u||(k5.has(c)||c.removeAttribute("aria-hidden"),k5.delete(c)),d||c.removeAttribute(n)}),Rd--,Rd||(ta=new WeakMap,ta=new WeakMap,k5=new WeakMap,H5={})}};var PC=M(OC()),{__extends:Qj,__assign:Xr,__rest:A5,__decorate:Jj,__param:eN,__metadata:tN,__awaiter:nN,__generator:rN,__exportStar:oN,__createBinding:iN,__values:sN,__read:aN,__spread:lN,__spreadArrays:cN,__await:uN,__asyncGenerator:dN,__asyncDelegator:fN,__asyncValues:pN,__makeTemplateObject:hN,__importStar:vN,__importDefault:gN,__classPrivateFieldGet:mN,__classPrivateFieldSet:CN}=PC.default;var Z5=M(R());var dn=M(R());var ai="right-scroll-bar-position",li="width-before-scroll-bar",Pd="with-scroll-bars-hidden",kd="--removed-body-scroll-bar-size";function nP(e){return e}function rP(e,t){t===void 0&&(t=nP);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function Hd(e){e===void 0&&(e={});var t=rP(null);return t.options=Xr({async:!0,ssr:!1},e),t}var kC=M(R()),HC=function(e){var t=e.sideCar,n=A5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return kC.createElement(r,Xr({},n))};HC.isSideCarExport=!0;function Td(e,t){return e.useMedium(t),HC}var D5=Hd();function TC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}var VC=M(R());function BC(e,t){var n=(0,VC.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function Vd(e,t){return BC(t,function(n){return e.forEach(function(r){return TC(r,n)})})}var Bd=function(){},g0=dn.forwardRef(function(e,t){var n=dn.useRef(null),r=dn.useState({onScrollCapture:Bd,onWheelCapture:Bd,onTouchMoveCapture:Bd}),o=r[0],i=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noIsolation,h=e.inert,m=e.allowPinchZoom,v=e.as,C=v===void 0?"div":v,g=A5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,y=Vd([n,t]),x=Xr({},g,o);return dn.createElement(dn.Fragment,null,u&&dn.createElement(b,{sideCar:D5,removeScrollBar:c,shards:d,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:n}),s?dn.cloneElement(dn.Children.only(a),Xr({},x,{ref:y})):dn.createElement(C,Xr({},x,{className:l,ref:y}),a))});g0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g0.classNames={fullWidth:li,zeroRight:ai};var st=M(R());var ra=M(R());var jC=M(R());var AC;var DC=function(){if(AC)return AC;if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function oP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DC();return t&&e.setAttribute("nonce",t),e}function iP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ad=function(){var e=0,t=null;return{add:function(n){e==0&&(t=oP())&&(iP(t,n),sP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}};var Dd=function(){var e=Ad();return function(t){jC.useEffect(function(){return e.add(t),function(){e.remove()}},[])}};var m0=function(){var e=Dd(),t=function(n){var r=n.styles;return e(r),null};return t};var aP={left:0,top:0,right:0,gap:0},jd=function(e){return parseInt(e||"",10)||0},lP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[jd(n),jd(r),jd(o)]},j5=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return aP;var t=lP(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}};var cP=m0(),uP=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`+Pd+` {
   overflow: hidden `+r+`;
   padding-right: `+a+"px "+r+`;
  }
  body {
    overflow: hidden `+r+`;
    `+[t&&"position: relative "+r+";",n==="margin"&&`
    padding-left: `+o+`px;
    padding-top: `+i+`px;
    padding-right: `+s+`px;
    margin-left:0;
    margin-top:0;
    margin-right: `+a+"px "+r+`;
    `,n==="padding"&&"padding-right: "+a+"px "+r+";"].filter(Boolean).join("")+`
  }
  
  .`+ai+` {
    right: `+a+"px "+r+`;
  }
  
  .`+li+` {
    margin-right: `+a+"px "+r+`;
  }
  
  .`+ai+" ."+ai+` {
    right: 0 `+r+`;
  }
  
  .`+li+" ."+li+` {
    margin-right: 0 `+r+`;
  }
  
  body {
    `+kd+": "+a+`px;
  }
`},Nd=function(e){var t=ra.useState(j5(e.gapMode)),n=t[0],r=t[1];ra.useEffect(function(){r(j5(e.gapMode))},[e.gapMode]);var o=e.noRelative,i=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;return ra.createElement(cP,{styles:uP(n,!o,a,i?"":"!important")})};var dP=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},fP=function(e){var t=window.getComputedStyle(e);return e.type==="range"?!0:t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Zd=function(e,t){var n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var r=NC(e,n);if(r){var o=ZC(e,n),i=o[1],s=o[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},pP=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},hP=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},NC=function(e,t){return e==="v"?dP(t):fP(t)},ZC=function(e,t){return e==="v"?pP(t):hP(t)},$C=function(e,t,n,r,o){var i=r,s=n.target,a=t.contains(s),l=!1,c=i>0,u=0,d=0;do{var f=ZC(e,s),p=f[0],h=f[1],m=f[2],v=h-m-p;(p||v)&&NC(e,s)&&(u+=v,d+=p),s=s.parentNode}while(!a&&s!==document.body||a&&(t.contains(s)||t===s));return(c&&(o&&u===0||!o&&i>u)||!c&&(o&&d===0||!o&&-i>d))&&(l=!0),l};var $d=!1;if(typeof window!="undefined")try{C0=Object.defineProperty({},"passive",{get:function(){return $d=!0,!0}}),window.addEventListener("test",C0,C0),window.removeEventListener("test",C0,C0)}catch{$d=!1}var C0,ci=$d?{passive:!1}:!1;var N5=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FC=function(e){return[e.deltaX,e.deltaY]},UC=function(e){return e&&"current"in e?e.current:e},vP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gP=function(e){return`
  .block-interactivity-`+e+` {pointer-events: none;}
  .allow-interactivity-`+e+` {pointer-events: all;}
`},mP=0,oa=[];function zC(e){var t=st.useRef([]),n=st.useRef([0,0]),r=st.useRef(),o=st.useState(mP++)[0],i=st.useState(function(){return m0()})[0],s=st.useRef(e);st.useEffect(function(){s.current=e},[e]),st.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-"+o);var m=[e.lockRef.current].concat((e.shards||[]).map(UC)).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-"+o)}),function(){document.body.classList.remove("block-interactivity-"+o),m.forEach(function(v){return v.classList.remove("allow-interactivity-"+o)})}}},[e.inert,e.lockRef.current,e.shards]);var a=st.useCallback(function(m,v){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var C=N5(m),g=n.current,b="deltaX"in m?m.deltaX:g[0]-C[0],y="deltaY"in m?m.deltaY:g[1]-C[1],x,L=m.target,I=Math.abs(b)>Math.abs(y)?"h":"v",E=Zd(I,L);if(!E)return!0;if(E?x=I:(x=I==="v"?"h":"v",E=Zd(I,L)),!E)return!1;if(!r.current&&"changedTouches"in m&&(b||y)&&(r.current=x),!x)return!0;var O=r.current||x;return $C(O,v,m,O==="h"?b:y,!0)},[]),l=st.useCallback(function(m){var v=m;if(!(!oa.length||oa[oa.length-1]!==i)){var C="deltaY"in v?FC(v):N5(v),g=t.current.filter(function(x){return x.name===v.type&&x.target===v.target&&vP(x.delta,C)})[0];if(g&&g.should){v.preventDefault();return}if(!g){var b=(s.current.shards||[]).map(UC).filter(Boolean).filter(function(x){return x.contains(v.target)}),y=b.length>0?a(v,b[0]):!s.current.noIsolation;y&&v.preventDefault()}}},[]),c=st.useCallback(function(m,v,C,g){var b={name:m,delta:v,target:C,should:g};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(y){return y!==b})},1)},[]),u=st.useCallback(function(m){n.current=N5(m),r.current=void 0},[]),d=st.useCallback(function(m){c(m.type,FC(m),m.target,a(m,e.lockRef.current))},[]),f=st.useCallback(function(m){c(m.type,N5(m),m.target,a(m,e.lockRef.current))},[]);st.useEffect(function(){return oa.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ci),document.addEventListener("touchmove",l,ci),document.addEventListener("touchstart",u,ci),function(){oa=oa.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,ci),document.removeEventListener("touchmove",l,ci),document.removeEventListener("touchstart",u,ci)}},[]);var p=e.removeScrollBar,h=e.inert;return st.createElement(st.Fragment,null,h?st.createElement(i,{styles:gP(o)}):null,p?st.createElement(Nd,{gapMode:"margin"}):null)}var KC=Td(D5,zC);var WC=Z5.forwardRef(function(e,t){return Z5.createElement(g0,Xr({},e,{ref:t,sideCar:KC}))});WC.classNames=g0.classNames;var w0=WC;var D=M(R());var Fd=["Enter"," "],XC=["ArrowUp","PageDown","End"],CP=["ArrowDown","PageUp","Home",...XC],wP={ltr:[...Fd,"ArrowRight"],rtl:[...Fd,"ArrowLeft"]},yP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},[Ud,bP,xP]=y5("Menu"),[$5,ia]=Zt("Menu",[xP,ea,Ld]);var y0=ea(),YC=Ld(),[GC,_1]=$5("Menu"),_P=e=>{let{__scopeMenu:t,open:n=!1,children:r,onOpenChange:o,modal:i=!0}=e,s=y0(t),[a,l]=D.useState(null),c=D.useRef(!1),u=At(o),d=km(a,e.dir);return D.useEffect(()=>{let f=()=>c.current=!0,p=()=>c.current=!1;return document.addEventListener("keydown",f,{capture:!0}),document.addEventListener("pointerdown",p,{capture:!0}),document.addEventListener("pointermove",p,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),D.createElement(h0,s,D.createElement(GC,{scope:t,isSubmenu:!1,isUsingKeyboardRef:c,dir:d,open:n,onOpenChange:u,content:a,onContentChange:l,onRootClose:D.useCallback(()=>u(!1),[u]),modal:i},r))},SP=e=>{let{__scopeMenu:t,children:n,open:r=!1,onOpenChange:o}=e,i=_1("MenuSub",t),s=y0(t),[a,l]=D.useState(null),[c,u]=D.useState(null),d=At(o);return D.useEffect(()=>(i.open===!1&&d(!1),()=>d(!1)),[i.open,d]),D.createElement(h0,s,D.createElement(GC,{scope:t,isSubmenu:!0,isUsingKeyboardRef:i.isUsingKeyboardRef,dir:i.dir,open:r,onOpenChange:d,content:c,onContentChange:u,onRootClose:i.onRootClose,contentId:In(),trigger:a,onTriggerChange:l,triggerId:In(),modal:!1},n))},qC=D.forwardRef((e,t)=>{let i=e,{__scopeMenu:n}=i,r=K(i,["__scopeMenu"]),o=y0(n);return D.createElement(S5,A({},o,r,{ref:t}))}),[LP,zd]=$5("MenuContent"),EP=D.forwardRef((e,t)=>{let i=e,{forceMount:n}=i,r=K(i,["forceMount"]),o=_1("MenuContent",e.__scopeMenu);return D.createElement(Ud.Provider,{scope:e.__scopeMenu},D.createElement(x1,{present:n||o.open},D.createElement(Ud.Slot,{scope:e.__scopeMenu},o.isSubmenu?D.createElement(OP,A({},r,{ref:t})):D.createElement(IP,A({},r,{ref:t})))))}),IP=D.forwardRef((e,t)=>_1("MenuContent",e.__scopeMenu).modal?D.createElement(MP,A({},e,{ref:t})):D.createElement(RP,A({},e,{ref:t}))),MP=D.forwardRef((e,t)=>{let n=_1("MenuContent",e.__scopeMenu),r=D.useRef(null),o=Ye(t,r);return D.useEffect(()=>{let i=r.current;if(i)return T5(i)},[]),D.createElement(Kd,A({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),RP=D.forwardRef((e,t)=>{let n=_1("MenuContent",e.__scopeMenu);return D.createElement(Kd,A({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),OP=D.forwardRef((e,t)=>{let n=_1("MenuContent",e.__scopeMenu),r=D.useRef(null),o=Ye(t,r);return n.isSubmenu?D.createElement(Kd,A({id:n.contentId,"aria-labelledby":n.triggerId},e,{ref:o,align:"start",side:n.dir==="rtl"?"left":"right",portalled:!0,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:i=>{var s;n.isUsingKeyboardRef.current&&((s=r.current)===null||s===void 0||s.focus()),i.preventDefault()},onCloseAutoFocus:i=>i.preventDefault(),onFocusOutside:ue(e.onFocusOutside,i=>{i.target!==n.trigger&&n.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,n.onRootClose),onKeyDown:ue(e.onKeyDown,i=>{let s=i.currentTarget.contains(i.target),a=yP[n.dir].includes(i.key);var l;s&&a&&(n.onOpenChange(!1),(l=n.trigger)===null||l===void 0||l.focus(),i.preventDefault())})})):null}),Kd=D.forwardRef((e,t)=>{let O1=e,{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,onDismiss:f,disableOutsideScroll:p,allowPinchZoom:h,portalled:m}=O1,v=K(O1,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","allowPinchZoom","portalled"]),C=_1("MenuContent",n),g=y0(n),b=YC(n),y=bP(n),[x,L]=D.useState(null),I=D.useRef(null),E=Ye(t,I,C.onContentChange),O=D.useRef(0),P=D.useRef(""),z=D.useRef(0),B=D.useRef(null),q=D.useRef("right"),Q=D.useRef(0),re=m?wo:D.Fragment,W=p?w0:D.Fragment,U=p?{allowPinchZoom:h}:void 0,ve=pe=>{var ze,pn;let xn=P.current+pe,Pn=y().filter(X=>!X.disabled),mr=document.activeElement,Je=(ze=Pn.find(X=>X.ref.current===mr))===null||ze===void 0?void 0:ze.textValue,Un=function(X,fe,_e){let he=fe.length>1&&Array.from(fe).every(zn=>zn===fe[0])?fe[0]:fe,et=_e?X.indexOf(_e):-1,Ne=(Re=X,Ze=Math.max(et,0),Re.map((zn,bb)=>Re[(Ze+bb)%Re.length]));var Re,Ze;he.length===1&&(Ne=Ne.filter(zn=>zn!==_e));let nn=Ne.find(zn=>zn.toLowerCase().startsWith(he.toLowerCase()));return nn!==_e?nn:void 0}(Pn.map(X=>X.textValue),xn,Je),oe=(pn=Pn.find(X=>X.textValue===Un))===null||pn===void 0?void 0:pn.ref.current;(function X(fe){P.current=fe,window.clearTimeout(O.current),fe!==""&&(O.current=window.setTimeout(()=>X(""),1e3))})(xn),oe&&setTimeout(()=>oe.focus())};D.useEffect(()=>()=>window.clearTimeout(O.current),[]),w5();let Me=D.useCallback(pe=>{var ze,pn;return q.current===((ze=B.current)===null||ze===void 0?void 0:ze.side)&&function(xn,Pn){return Pn?function(mr,Je){let{x:Un,y:oe}=mr,X=!1;for(let fe=0,_e=Je.length-1;fe<Je.length;_e=fe++){let he=Je[fe].x,et=Je[fe].y,Ne=Je[_e].x,Re=Je[_e].y;et>oe!=Re>oe&&Un<(Ne-he)*(oe-et)/(Re-et)+he&&(X=!X)}return X}({x:xn.clientX,y:xn.clientY},Pn):!1}(pe,(pn=B.current)===null||pn===void 0?void 0:pn.area)},[]);return D.createElement(re,null,D.createElement(W,U,D.createElement(LP,{scope:n,searchRef:P,onItemEnter:D.useCallback(pe=>{Me(pe)&&pe.preventDefault()},[Me]),onItemLeave:D.useCallback(pe=>{var ze;Me(pe)||((ze=I.current)===null||ze===void 0||ze.focus(),L(null))},[Me]),onTriggerLeave:D.useCallback(pe=>{Me(pe)&&pe.preventDefault()},[Me]),pointerGraceTimerRef:z,onPointerGraceIntentChange:D.useCallback(pe=>{B.current=pe},[])},D.createElement(M5,{asChild:!0,trapped:o,onMountAutoFocus:ue(i,pe=>{var ze;pe.preventDefault(),(ze=I.current)===null||ze===void 0||ze.focus()}),onUnmountAutoFocus:s},D.createElement(P5,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,onDismiss:f},D.createElement(Am,A({asChild:!0},b,{dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:x,onCurrentTabStopIdChange:L,onEntryFocus:pe=>{C.isUsingKeyboardRef.current||pe.preventDefault()}}),D.createElement(L5,A({role:"menu",dir:C.dir,"data-state":ew(C.open)},g,v,{ref:E,style:le({outline:"none"},v.style),onKeyDown:ue(v.onKeyDown,pe=>{let ze=pe.target,pn=pe.currentTarget.contains(ze),xn=pe.ctrlKey||pe.altKey||pe.metaKey;pn&&!xn&&pe.key.length===1&&ve(pe.key),pe.key==="Tab"&&pe.preventDefault();let Pn=I.current;if(pe.target!==Pn||!CP.includes(pe.key))return;pe.preventDefault();let mr=y().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);XC.includes(pe.key)&&mr.reverse(),function(Je){let Un=document.activeElement;for(let oe of Je)if(oe===Un||(oe.focus(),document.activeElement!==Un))return}(mr)}),onBlur:ue(e.onBlur,pe=>{pe.currentTarget.contains(pe.target)||(window.clearTimeout(O.current),P.current="")}),onPointerMove:ue(e.onPointerMove,b0(pe=>{let ze=pe.target,pn=Q.current!==pe.clientX;if(pe.currentTarget.contains(ze)&&pn){let xn=pe.clientX>Q.current?"right":"left";q.current=xn,Q.current=pe.clientX}}))}))))))))}),PP=D.forwardRef((e,t)=>{let o=e,{__scopeMenu:n}=o,r=K(o,["__scopeMenu"]);return D.createElement(je.div,A({role:"group"},r,{ref:t}))});var Wd=D.forwardRef((e,t)=>{let u=e,{disabled:n=!1,onSelect:r}=u,o=K(u,["disabled","onSelect"]),i=D.useRef(null),s=_1("MenuItem",e.__scopeMenu),a=zd("MenuItem",e.__scopeMenu),l=Ye(t,i),c=D.useRef(!1);return D.createElement(QC,A({},o,{ref:l,disabled:n,onClick:ue(e.onClick,()=>{let d=i.current;if(!n&&d){let f=new Event("menu.itemSelect",{bubbles:!0,cancelable:!0});d.addEventListener("menu.itemSelect",p=>r==null?void 0:r(p),{once:!0}),d.dispatchEvent(f),f.defaultPrevented?c.current=!1:s.onRootClose()}}),onPointerDown:d=>{var f;(f=e.onPointerDown)===null||f===void 0||f.call(e,d),c.current=!0},onPointerUp:ue(e.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)===null||f===void 0||f.click()}),onKeyDown:ue(e.onKeyDown,d=>{let f=a.searchRef.current!=="";n||f&&d.key===" "||Fd.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),kP=D.forwardRef((e,t)=>{let n=_1("MenuSubTrigger",e.__scopeMenu),r=zd("MenuSubTrigger",e.__scopeMenu),o=D.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:s}=r,a=D.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return D.useEffect(()=>a,[a]),D.useEffect(()=>{let l=i.current;return()=>{window.clearTimeout(l),s(null)}},[i,s]),n.isSubmenu?D.createElement(qC,A({asChild:!0},e),D.createElement(QC,A({id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ew(n.open)},e,{ref:oi(t,n.onTriggerChange),onClick:l=>{var c;(c=e.onClick)===null||c===void 0||c.call(e,l),e.disabled||l.defaultPrevented||(l.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,b0(l=>{r.onItemEnter(l),l.defaultPrevented||e.disabled||n.open||o.current||(r.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),a()},100))})),onPointerLeave:ue(e.onPointerLeave,b0(l=>{var c;a();let u=(c=n.content)===null||c===void 0?void 0:c.getBoundingClientRect();if(u){var d;let f=(d=n.content)===null||d===void 0?void 0:d.dataset.side,p=f==="right",h=p?-5:5,m=u[p?"left":"right"],v=u[p?"right":"left"];r.onPointerGraceIntentChange({area:[{x:l.clientX+h,y:l.clientY},{x:m,y:u.top},{x:v,y:u.top},{x:v,y:u.bottom},{x:m,y:u.bottom}],side:f}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(l),l.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,l=>{let c=r.searchRef.current!=="";var u;e.disabled||c&&l.key===" "||wP[n.dir].includes(l.key)&&(n.onOpenChange(!0),(u=n.content)===null||u===void 0||u.focus(),l.preventDefault())})}))):null}),QC=D.forwardRef((e,t)=>{let f=e,{__scopeMenu:n,disabled:r=!1,textValue:o}=f,i=K(f,["__scopeMenu","disabled","textValue"]),s=zd("MenuItem",n),a=YC(n),l=D.useRef(null),c=Ye(t,l),[u,d]=D.useState("");return D.useEffect(()=>{let p=l.current;var h;p&&d(((h=p.textContent)!==null&&h!==void 0?h:"").trim())},[i.children]),D.createElement(Ud.ItemSlot,{scope:n,disabled:r,textValue:o??u},D.createElement(Dm,A({asChild:!0},a,{focusable:!r}),D.createElement(je.div,A({role:"menuitem","aria-disabled":r||void 0,"data-disabled":r?"":void 0},i,{ref:c,onPointerMove:ue(e.onPointerMove,b0(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),!p.defaultPrevented&&p.currentTarget.focus())})),onPointerLeave:ue(e.onPointerLeave,b0(p=>s.onItemLeave(p)))}))))}),HP=D.forwardRef((e,t)=>{let i=e,{checked:n=!1,onCheckedChange:r}=i,o=K(i,["checked","onCheckedChange"]);return D.createElement(JC,{scope:e.__scopeMenu,checked:n},D.createElement(Wd,A({role:"menuitemcheckbox","aria-checked":n},o,{ref:t,"data-state":Xd(n),onSelect:ue(o.onSelect,()=>r==null?void 0:r(!n),{checkForDefaultPrevented:!1})})))}),[TP,VP]=$5("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),BP=D.forwardRef((e,t)=>{let s=e,{value:n,onValueChange:r}=s,o=K(s,["value","onValueChange"]),i=At(r);return D.createElement(TP,{scope:e.__scopeMenu,value:n,onValueChange:i},D.createElement(PP,A({},o,{ref:t})))}),AP=D.forwardRef((e,t)=>{let s=e,{value:n}=s,r=K(s,["value"]),o=VP("MenuRadioItem",e.__scopeMenu),i=n===o.value;return D.createElement(JC,{scope:e.__scopeMenu,checked:i},D.createElement(Wd,A({role:"menuitemradio","aria-checked":i},r,{ref:t,"data-state":Xd(i),onSelect:ue(r.onSelect,()=>{var a;return(a=o.onValueChange)===null||a===void 0?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})))}),[JC,DP]=$5("MenuItemIndicator",{checked:!1}),jP=D.forwardRef((e,t)=>{let s=e,{__scopeMenu:n,forceMount:r}=s,o=K(s,["__scopeMenu","forceMount"]),i=DP("MenuItemIndicator",n);return D.createElement(x1,{present:r||i.checked},D.createElement(je.span,A({},o,{ref:t,"data-state":Xd(i.checked)})))}),NP=D.forwardRef((e,t)=>{let o=e,{__scopeMenu:n}=o,r=K(o,["__scopeMenu"]);return D.createElement(je.div,A({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),ZP=D.forwardRef((e,t)=>{let i=e,{__scopeMenu:n}=i,r=K(i,["__scopeMenu"]),o=y0(n);return D.createElement(E5,A({},o,r,{ref:t}))});function ew(e){return e?"open":"closed"}function Xd(e){return e?"checked":"unchecked"}function b0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var F5=_P,U5=SP,z5=qC,K5=kP,sa=EP;var W5=Wd,Yd=HP,Gd=BP,qd=AP,Qd=jP,Jd=NP,X5=ZP;var Le=M(R());var[tw,n$]=Zt("DropdownMenu",[ia]);var Nn=ia(),[nw,e4]=tw("DropdownMenu"),UP=e=>{let{__scopeDropdownMenu:t,children:n,open:r,defaultOpen:o,onOpenChange:i}=e,s=XP("DropdownMenu",t),a=Nn(t),[l=!1,c]=Co({prop:r,defaultProp:o,onChange:i}),u=Le.useCallback(()=>c(d=>!d),[c]);return s.isInsideContent?Le.createElement(nw,{scope:t,isRootMenu:!1,open:l,onOpenChange:c,onOpenToggle:u},Le.createElement(U5,A({},a,{open:l,onOpenChange:c}),n)):Le.createElement(zP,A({},e,{open:l,onOpenChange:c,onOpenToggle:u}),n)},zP=e=>{let{__scopeDropdownMenu:t,children:n,dir:r,open:o,onOpenChange:i,onOpenToggle:s,modal:a=!0}=e,l=Nn(t),c=Le.useRef(null);return Le.createElement(nw,{scope:t,isRootMenu:!0,triggerId:In(),triggerRef:c,contentId:In(),open:o,onOpenChange:i,onOpenToggle:s,modal:a},Le.createElement(F5,A({},l,{open:o,onOpenChange:i,dir:r,modal:a}),n))},KP=Le.forwardRef((e,t)=>{let s=e,{__scopeDropdownMenu:n}=s,r=K(s,["__scopeDropdownMenu"]),o=e4("DropdownMenuTrigger",n),i=Nn(n);return o.isRootMenu?Le.createElement(z5,A({asChild:!0},i),Le.createElement(je.button,A({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":!!o.open||void 0,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed"},r,{ref:oi(t,o.triggerRef),onPointerDown:ue(e.onPointerDown,a=>{a.button===0&&a.ctrlKey===!1&&(o.open||a.preventDefault(),o.onOpenToggle())}),onKeyDown:ue(e.onKeyDown,a=>{[" ","Enter","ArrowDown"].includes(a.key)&&(a.preventDefault(),o.onOpenChange(!0))})}))):null}),[WP,XP]=tw("DropdownMenuContent",{isInsideContent:!1}),YP=Le.forwardRef((e,t)=>{let a=e,{__scopeDropdownMenu:n}=a,r=K(a,["__scopeDropdownMenu"]),o=e4("DropdownMenuContent",n),i=Nn(n),s=$e(le({},r),{style:$e(le({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return Le.createElement(WP,{scope:n,isInsideContent:!0},o.isRootMenu?Le.createElement(GP,A({__scopeDropdownMenu:n},s,{ref:t})):Le.createElement(sa,A({},i,s,{ref:t})))}),GP=Le.forwardRef((e,t)=>{let l=e,{__scopeDropdownMenu:n,portalled:r=!0}=l,o=K(l,["__scopeDropdownMenu","portalled"]),i=e4("DropdownMenuContent",n),s=Nn(n),a=Le.useRef(!1);return i.isRootMenu?Le.createElement(sa,A({id:i.contentId,"aria-labelledby":i.triggerId},s,o,{ref:t,portalled:r,onCloseAutoFocus:c=>{var u,d;(u=e.onCloseAutoFocus)===null||u===void 0||u.call(e,c),c.defaultPrevented||(a.current||(d=i.triggerRef.current)===null||d===void 0||d.focus(),c.preventDefault()),a.current=!1},onInteractOutside:c=>{var u,d;if((u=e.onInteractOutside)===null||u===void 0||u.call(e,c),!c.defaultPrevented){let p=c.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,m=p.button===2||h;i.modal&&!m||(a.current=!0)}let f=c.target;((d=i.triggerRef.current)===null||d===void 0?void 0:d.contains(f))&&c.preventDefault()}})):null});var qP=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(W5,A({},o,r,{ref:t}))}),QP=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(K5,A({},o,r,{ref:t}))}),JP=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(Yd,A({},o,r,{ref:t}))}),t4=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(Gd,A({},o,r,{ref:t}))}),ek=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(qd,A({},o,r,{ref:t}))}),tk=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(Qd,A({},o,r,{ref:t}))}),nk=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(Jd,A({},o,r,{ref:t}))}),rk=Le.forwardRef((e,t)=>{let i=e,{__scopeDropdownMenu:n}=i,r=K(i,["__scopeDropdownMenu"]),o=Nn(n);return Le.createElement(X5,A({},o,r,{ref:t}))}),Rn=UP,dr=KP,aa=YP;var yo=qP,rw=QP,ow=JP,iw=t4,Y5=ek,G5=tk,sw=nk,q5=rk;var H=M(R());function we(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Q5=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M9 3C9 2.44772 8.55229 2 8 2H7C6.44772 2 6 2.44772 6 3L6 14H1.5C1.22386 14 1 14.2239 1 14.5C1 14.7761 1.22386 15 1.5 15L6 15H9H13.5C13.7761 15 14 14.7761 14 14.5C14 14.2239 13.7761 14 13.5 14H9V3Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),J5=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1.99988 6C1.44759 6 0.999877 6.44772 0.999877 7L0.999877 8C0.999877 8.55228 1.44759 9 1.99988 9L6.99988 9L6.99988 13.5C6.99988 13.7761 7.22374 14 7.49988 14C7.77602 14 7.99988 13.7761 7.99988 13.5L7.99988 9L12.9999 9C13.5522 9 13.9999 8.55228 13.9999 8L13.9999 7C13.9999 6.44772 13.5522 6 12.9999 6L7.99988 6L7.99988 1.5C7.99988 1.22386 7.77602 1 7.49988 1C7.22373 1 6.99988 1.22386 6.99988 1.5L6.99988 6L1.99988 6Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ec=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M6.99988 1C6.44759 1 5.99988 1.44772 5.99988 2V7H1.49988C1.22374 7 0.999878 7.22386 0.999878 7.5C0.999878 7.77614 1.22374 8 1.49988 8H5.99988V13C5.99988 13.5523 6.44759 14 6.99988 14H7.99988C8.55216 14 8.99988 13.5523 8.99988 13V8H13.4999C13.776 8 13.9999 7.77614 13.9999 7.5C13.9999 7.22386 13.776 7 13.4999 7H8.99988V2C8.99988 1.44772 8.55216 1 7.99988 1L6.99988 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),tc=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M0.499995 0.999995C0.223855 0.999995 -5.58458e-07 1.22385 -5.46388e-07 1.49999L-2.18554e-08 13.4999C-9.78492e-09 13.776 0.223855 13.9999 0.499995 13.9999C0.776136 13.9999 0.999991 13.776 0.999991 13.4999L0.999991 8.99993L12 8.99993C12.5523 8.99993 13 8.55222 13 7.99993L13 6.99994C13 6.44766 12.5523 5.99995 12 5.99995L0.999991 5.99995L0.999991 1.49999C0.999991 1.22385 0.776135 0.999995 0.499995 0.999995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),nc=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M14.4999 1C14.2237 1 13.9999 1.22386 13.9999 1.5L13.9999 6L2.99988 6C2.44759 6 1.99988 6.44772 1.99988 7L1.99988 8C1.99988 8.55228 2.44759 9 2.99988 9L13.9999 9L13.9999 13.5C13.9999 13.7761 14.2237 14 14.4999 14C14.776 14 14.9999 13.7761 14.9999 13.5L14.9999 9L14.9999 6L14.9999 1.5C14.9999 1.22386 14.776 1 14.4999 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rc=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1.5 0C1.22386 0 1 0.223858 1 0.5C1 0.776142 1.22386 1 1.5 1H6V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V1H13.5C13.7761 1 14 0.776142 14 0.5C14 0.223858 13.7761 0 13.5 0H9H6H1.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var aw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var lw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var cw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var fw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var oc=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var pw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var hw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var vw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var gw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M3.29227 0.048984C3.47033 -0.032338 3.67946 -0.00228214 3.8274 0.125891L12.8587 7.95026C13.0134 8.08432 13.0708 8.29916 13.0035 8.49251C12.9362 8.68586 12.7578 8.81866 12.5533 8.82768L9.21887 8.97474L11.1504 13.2187C11.2648 13.47 11.1538 13.7664 10.9026 13.8808L8.75024 14.8613C8.499 14.9758 8.20255 14.8649 8.08802 14.6137L6.15339 10.3703L3.86279 12.7855C3.72196 12.934 3.50487 12.9817 3.31479 12.9059C3.1247 12.8301 3 12.6461 3 12.4414V0.503792C3 0.308048 3.11422 0.130306 3.29227 0.048984ZM4 1.59852V11.1877L5.93799 9.14425C6.05238 9.02363 6.21924 8.96776 6.38319 8.99516C6.54715 9.02256 6.68677 9.12965 6.75573 9.2809L8.79056 13.7441L10.0332 13.178L8.00195 8.71497C7.93313 8.56376 7.94391 8.38824 8.03072 8.24659C8.11753 8.10494 8.26903 8.01566 8.435 8.00834L11.2549 7.88397L4 1.59852Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var mw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))}),Cw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var ww=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var yw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M7.49936 0.850006C3.82767 0.850006 0.849976 3.8273 0.849976 7.50023C0.849976 10.4379 2.75523 12.9306 5.39775 13.8104C5.73047 13.8712 5.85171 13.6658 5.85171 13.4895C5.85171 13.3315 5.846 12.9135 5.84273 12.3587C3.99301 12.7604 3.60273 11.4671 3.60273 11.4671C3.30022 10.6988 2.86423 10.4942 2.86423 10.4942C2.26044 10.0819 2.90995 10.0901 2.90995 10.0901C3.57742 10.137 3.9285 10.7755 3.9285 10.7755C4.52167 11.7916 5.48512 11.4981 5.86396 11.3279C5.92438 10.8984 6.09625 10.6053 6.28608 10.4391C4.80948 10.2709 3.25695 9.70063 3.25695 7.15241C3.25695 6.42615 3.51618 5.83298 3.94157 5.368C3.87299 5.1998 3.64478 4.52375 4.00689 3.60807C4.00689 3.60807 4.56494 3.42926 5.83538 4.28941C6.36568 4.14204 6.93477 4.06856 7.50018 4.0657C8.06518 4.06856 8.63386 4.14204 9.16498 4.28941C10.4346 3.42926 10.9918 3.60807 10.9918 3.60807C11.3548 4.52375 11.1266 5.1998 11.0584 5.368C11.4846 5.83298 11.7418 6.42615 11.7418 7.15241C11.7418 9.70716 10.1868 10.2693 8.70571 10.4338C8.94412 10.6392 9.15681 11.045 9.15681 11.6655C9.15681 12.5542 9.14865 13.2715 9.14865 13.4895C9.14865 13.6675 9.26867 13.8745 9.60588 13.8095C12.2464 12.9282 14.15 10.4375 14.15 7.50023C14.15 3.8273 11.1723 0.850006 7.49936 0.850006Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var bw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var xw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var _w=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Sw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M7.4986 0C6.3257 0 5.36107 0.38943 4.73753 1.19361C4.23745 1.83856 4 2.68242 4 3.63325H5C5 2.84313 5.19691 2.23312 5.5278 1.80636C5.91615 1.30552 6.55152 1 7.4986 1C8.35683 1 8.96336 1.26502 9.35846 1.68623C9.75793 2.11211 10 2.76044 10 3.63601V6H3C2.44772 6 2 6.44772 2 7V13C2 13.5523 2.44772 14 3 14H12C12.5523 14 13 13.5523 13 13V7C13 6.44771 12.5523 6 12 6H11V3.63601C11 2.58135 10.7065 1.66167 10.0878 1.0021C9.46477 0.337871 8.57061 0 7.4986 0ZM3 7H12V13H3V7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Lw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M5 1.5C5 1.22386 4.77614 1 4.5 1C4.22386 1 4 1.22386 4 1.5L4 7C4 7.01671 4.00082 7.03323 4.00242 7.04952C2.86009 7.28022 2 8.28967 2 9.5C2 10.7103 2.86009 11.7198 4.00242 11.9505C4.00082 11.9668 4 11.9833 4 12V13.5C4 13.7761 4.22386 14 4.5 14C4.77614 14 5 13.7761 5 13.5V12C5 11.9833 4.99918 11.9668 4.99758 11.9505C6.1399 11.7198 7 10.7103 7 9.5C7 8.28967 6.1399 7.28022 4.99758 7.04952C4.99918 7.03323 5 7.01671 5 7L5 1.5ZM11 1.5C11 1.22386 10.7761 1 10.5 1C10.2239 1 10 1.22386 10 1.5V3C10 3.01671 10.0008 3.03323 10.0024 3.04952C8.8601 3.28022 8 4.28967 8 5.5C8 6.71033 8.8601 7.71978 10.0024 7.95048C10.0008 7.96677 10 7.98329 10 8V13.5C10 13.7761 10.2239 14 10.5 14C10.7761 14 11 13.7761 11 13.5V8C11 7.98329 10.9992 7.96677 10.9976 7.95048C12.1399 7.71978 13 6.71033 13 5.5C13 4.28967 12.1399 3.28022 10.9976 3.04952C10.9992 3.03323 11 3.01671 11 3V1.5ZM4.5 8C3.67157 8 3 8.67157 3 9.5C3 10.3284 3.67157 11 4.5 11C5.32843 11 6 10.3284 6 9.5C6 8.67157 5.32843 8 4.5 8ZM9 5.5C9 4.67157 9.67157 4 10.5 4C11.3284 4 12 4.67157 12 5.5C12 6.32843 11.3284 7 10.5 7C9.67157 7 9 6.32843 9 5.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Ew=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Iw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Mw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Rw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Ow=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Pw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M7.59664 2.93628C7.76085 3.06401 8.00012 2.94698 8.00012 2.73895V1.99998C9.98143 2 11.1848 2.3637 11.9105 3.08945C12.6363 3.81522 13 5.0186 13 6.99998C13 7.27613 13.2239 7.49998 13.5 7.49998C13.7761 7.49998 14 7.27613 14 6.99998C14 4.9438 13.6325 3.39719 12.6176 2.38234C11.6028 1.36752 10.0562 0.999999 8.00012 0.999984V0.261266C8.00012 0.0532293 7.76085 -0.0637944 7.59664 0.063928L6.00384 1.30277C5.87516 1.40286 5.87516 1.59735 6.00384 1.69744L7.59664 2.93628ZM9.5 5H2.5C2.22386 5 2 5.22386 2 5.5V12.5C2 12.7761 2.22386 13 2.5 13H9.5C9.77614 13 10 12.7761 10 12.5V5.5C10 5.22386 9.77614 5 9.5 5ZM2.5 4C1.67157 4 1 4.67157 1 5.5V12.5C1 13.3284 1.67157 14 2.5 14H9.5C10.3284 14 11 13.3284 11 12.5V5.5C11 4.67157 10.3284 4 9.5 4H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var ic=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992ZM0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992ZM1.99998 6.99994C1.99998 6.44766 2.44769 5.99995 2.99998 5.99995L5.99995 5.99995C6.55223 5.99995 6.99994 6.44766 6.99994 6.99994L6.99994 7.99993C6.99994 8.55221 6.55223 8.99992 5.99995 8.99992L2.99998 8.99992C2.4477 8.99992 1.99998 8.55221 1.99998 7.99993L1.99998 6.99994ZM8.99993 5.99995C8.44765 5.99995 7.99993 6.44766 7.99993 6.99994L7.99993 7.99993C7.99993 8.55221 8.44765 8.99992 8.99993 8.99992L11.9999 8.99992C12.5522 8.99992 12.9999 8.55221 12.9999 7.99993L12.9999 6.99994C12.9999 6.44766 12.5522 5.99995 11.9999 5.99995L8.99993 5.99995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sc=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM7 2C6.44772 2 6 2.44772 6 3V6C6 6.55228 6.44772 7 7 7H8C8.55228 7 9 6.55228 9 6V3C9 2.44772 8.55228 2 8 2H7ZM7 8C6.44772 8 6 8.44771 6 9V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V9C9 8.44772 8.55228 8 8 8H7ZM1.49988 14C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H1.49988Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var kw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M1 1H1.5H13.5H14V1.5V13.5V14H13.5H1.5H1V13.5V1.5V1ZM2 2V13H13V2H2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var ac=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 5.99995L0.999992 5.99995L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 8.99992L13.9999 8.99992L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lc=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H6H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM9 14V1L6 1V14H1.49988C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H9Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Hw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Tw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Vw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Bw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Aw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var Dw=(0,H.forwardRef)(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,o=we(e,["color"]);return(0,H.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,H.createElement)("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});var kr=M(R()),P4=M(R());var ut=M(R());var t1=M(R());var cc=M(R());var ok=cc.forwardRef((e,t)=>cc.createElement(je.span,A({},e,{ref:t,style:$e(le({},e.style),{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"})}))),jw=ok;var uc=M(R());function n4(e){let t=uc.useRef(e);return uc.useEffect(()=>{t.current=e},[e]),t.current}var De=M(R());function dc(e){return{type:"machine.actions.assign",assign:e}}var Nw,Zw,$w=dc((e,t)=>{var n;return $e(le({},e),{id:(n=t.id)!==null&&n!==void 0?n:e.id})}),la=function(e,{debug:t=!1,warnOnUnknownTransitions:n=!1}={}){let r=e.initial,o=e.context,i=[],s=a=>{var l,c;let u=e.states[r],d=a.type,f=(l=e.on)===null||l===void 0?void 0:l[d],p=(c=u.on)===null||c===void 0?void 0:c[d],h=f??p;if(h===void 0)n&&console.warn(`From state: "${r}", event "${d}" has no transition to any state`);else{let{target:m,actions:v=[],cond:C=()=>!0}=h,g=m?e.states[m]:{};if(C(o,a)){let b=(u.exit||[]).concat(v,g.entry||[]);o=function(y,x,L){let I=L;return y==null||y.forEach(E=>{typeof E=="function"?E(I,x,s):E.type==="machine.actions.assign"&&(I=E.assign(I,x))}),I}(b,a,o),m&&(r=m,t&&(console.group("event:",a),console.log("state:",r),console.log("context:",o),console.groupEnd()),i.forEach(y=>y({state:r,context:o})))}}};return{subscribe:function(a){return i.push(a),()=>{i.splice(i.indexOf(a),1)}},send:s,getContext:function(){return o}}}({initial:"closed",context:{id:null,delayed:!1},on:{FOCUS:{target:"open"}},states:{closed:{entry:[dc(e=>$e(le({},e),{id:null}))],on:{OPEN:{target:"opening"}}},opening:{entry:[(e,t,n)=>{let r=t.delayDuration,o=()=>n({type:"DELAY_TIMER_END"});r===void 0?o():Nw=window.setTimeout(o,r)},$w,dc(e=>$e(le({},e),{delayed:!0}))],exit:[()=>clearTimeout(Nw)],on:{DELAY_TIMER_END:{target:"open"},CLOSE:{target:"closed"}}},open:{entry:[$w],exit:[dc(e=>$e(le({},e),{delayed:!1}))],on:{OPEN:{target:"open"},CLOSE:{target:"closing",cond:(e,t)=>e.id===t.id}}},closing:{entry:[(e,t,n)=>{var r;let o=(r=t.skipDelayDuration)!==null&&r!==void 0?r:300;Zw=window.setTimeout(()=>n({type:"SKIP_DELAY_TIMER_END"}),o)}],exit:[()=>clearTimeout(Zw)],on:{OPEN:{target:"open"},SKIP_DELAY_TIMER_END:{target:"closed"}}}}}),[ik,E$]=Zt("Tooltip",[ea]);var fc=ea(),[sk,pc]=ik("Tooltip"),ak=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,delayDuration:s=700,skipDelayDuration:a=300}=e,l=fc(t),[c,u]=De.useState(null),d=In(),[f=!1,p]=Co({prop:r,defaultProp:o,onChange:i}),[h,m]=De.useState(r?"instant-open":"closed");De.useEffect(()=>la.subscribe(({state:b,context:y})=>{b==="open"&&y.id===d?p(!0):p(!1)}),[d,p]),De.useEffect(()=>la.subscribe(({state:b,context:y})=>{y.id===d?m(b==="open"?y.delayed?"delayed-open":"instant-open":"closed"):m("closed")}),[d]);let v=De.useCallback(()=>la.send({type:"FOCUS",id:d}),[d]),C=De.useCallback(()=>la.send({type:"OPEN",id:d,delayDuration:s}),[d,s]),g=De.useCallback(()=>la.send({type:"CLOSE",id:d,skipDelayDuration:a}),[a,d]);return De.useEffect(()=>()=>g(),[g]),b1(()=>{r===!0&&la.send({type:"OPEN",id:d})},[d,r]),De.createElement(h0,l,De.createElement(sk,{scope:t,contentId:d,open:f,stateAttribute:h,trigger:c,onTriggerChange:u,onFocus:v,onOpen:C,onClose:g},n))},lk=De.forwardRef((e,t)=>{let a=e,{__scopeTooltip:n}=a,r=K(a,["__scopeTooltip"]),o=pc("TooltipTrigger",n),i=fc(n),s=Ye(t,o.onTriggerChange);return De.createElement(S5,A({asChild:!0},i),De.createElement(je.button,A({type:"button","aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute},r,{ref:s,onMouseEnter:ue(e.onMouseEnter,o.onOpen),onMouseLeave:ue(e.onMouseLeave,o.onClose),onMouseDown:ue(e.onMouseDown,o.onClose),onFocus:ue(e.onFocus,o.onFocus),onBlur:ue(e.onBlur,o.onClose),onKeyDown:ue(e.onKeyDown,l=>{l.key!=="Enter"&&l.key!==" "||o.onClose()})})))}),ck=De.forwardRef((e,t)=>{let i=e,{forceMount:n}=i,r=K(i,["forceMount"]),o=pc("TooltipContent",e.__scopeTooltip);return De.createElement(x1,{present:n||o.open},De.createElement(uk,A({ref:t},r)))}),uk=De.forwardRef((e,t)=>{let u=e,{__scopeTooltip:n,children:r,"aria-label":o,portalled:i=!0}=u,s=K(u,["__scopeTooltip","children","aria-label","portalled"]),a=pc("TooltipContent",n),l=fc(n),c=i?wo:De.Fragment;return R5(()=>a.onClose()),De.createElement(c,null,De.createElement(fk,{__scopeTooltip:n}),De.createElement(L5,A({"data-state":a.stateAttribute},l,s,{ref:t,style:$e(le({},s.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"})}),De.createElement(f0,null,r),De.createElement(jw,{id:a.contentId,role:"tooltip"},o||r)))}),dk=De.forwardRef((e,t)=>{let i=e,{__scopeTooltip:n}=i,r=K(i,["__scopeTooltip"]),o=fc(n);return De.createElement(E5,A({},o,r,{ref:t}))});function fk(e){let{__scopeTooltip:t}=e,n=pc("CheckTriggerMoved",t),r=_5(n.trigger),o=r==null?void 0:r.left,i=n4(o),s=r==null?void 0:r.top,a=n4(s),l=n.onClose;return De.useEffect(()=>{(i!==void 0&&i!==o||a!==void 0&&a!==s)&&l()},[l,i,a,o,s]),null}var Fw=ak,Uw=lk,zw=ck,Kw=dk;var gi=M(R()),xt=M(R());var sz=M(R()),k4=M(R()),H4=M(R()),T4=M(R()),V4=M(R()),B4=M(R()),lz=M(R()),A4=M(R()),O0=M(R()),D4=M(R()),j4=M(R()),N4=M(R()),Z4=M(R()),P0=M(R()),uz=M(R()),$4=M(R()),F4=M(R()),N=M(R());var z4=M(R());var K4=M(R());var W4=M(R());var mi=M(R());var Y4=M(R());var _z=M(R()),ma=M(R()),On=M(R()),G=M(R());var Ot=M(R()),G4=M(R()),Oe=M(R());var Qe=M(R());var Se=M(R());var[pk,r4]=Zt("Dialog");var[hk,bo]=pk("Dialog"),vk=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,a=Se.useRef(null),[l=!1,c]=Co({prop:r,defaultProp:o,onChange:i});return Se.createElement(hk,{scope:t,triggerRef:a,contentId:In(),titleId:In(),descriptionId:In(),open:l,onOpenChange:c,onOpenToggle:Se.useCallback(()=>c(u=>!u),[c]),modal:s},n)},gk=Se.forwardRef((e,t)=>{let s=e,{__scopeDialog:n}=s,r=K(s,["__scopeDialog"]),o=bo("DialogTrigger",n),i=Ye(t,o.triggerRef);return Se.createElement(je.button,A({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":o4(o.open)},r,{ref:i,onClick:ue(e.onClick,o.onOpenToggle)}))}),mk=Se.forwardRef((e,t)=>{let i=e,{forceMount:n}=i,r=K(i,["forceMount"]),o=bo("DialogOverlay",e.__scopeDialog);return o.modal?Se.createElement(x1,{present:n||o.open},Se.createElement(Ck,A({},r,{ref:t}))):null}),Ck=Se.forwardRef((e,t)=>{let i=e,{__scopeDialog:n}=i,r=K(i,["__scopeDialog"]),o=bo("DialogOverlay",n);return Se.createElement(wo,null,Se.createElement(je.div,A({"data-state":o4(o.open)},r,{ref:t})))}),wk=Se.forwardRef((e,t)=>{let i=e,{forceMount:n}=i,r=K(i,["forceMount"]),o=bo("DialogContent",e.__scopeDialog);return Se.createElement(x1,{present:n||o.open},o.modal?Se.createElement(yk,A({},r,{ref:t})):Se.createElement(bk,A({},r,{ref:t})))}),yk=Se.forwardRef((e,t)=>{let a=e,{allowPinchZoom:n}=a,r=K(a,["allowPinchZoom"]),o=bo("DialogContent",e.__scopeDialog),i=Se.useRef(null),s=Ye(t,i);return Se.useEffect(()=>{let l=i.current;if(l)return T5(l)},[]),Se.createElement(wo,null,Se.createElement(w0,{allowPinchZoom:n},Se.createElement(Ww,A({},r,{ref:s,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=o.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,l=>{let c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,l=>l.preventDefault())}))))}),bk=Se.forwardRef((e,t)=>{let n=bo("DialogContent",e.__scopeDialog),r=Se.useRef(!1);return Se.createElement(wo,null,Se.createElement(Ww,A({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,s;(i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),o.preventDefault()),r.current=!1},onInteractOutside:o=>{var i,s;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0);let a=o.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(a))&&o.preventDefault()}})))}),Ww=Se.forwardRef((e,t)=>{let p=e,{__scopeDialog:n,"aria-label":r,"aria-labelledby":o,"aria-describedby":i,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l}=p,c=K(p,["__scopeDialog","aria-label","aria-labelledby","aria-describedby","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=bo("DialogContent",n),d=Se.useRef(null),f=Ye(t,d);return w5(),Se.createElement(Se.Fragment,null,Se.createElement(M5,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l},Se.createElement(P5,A({role:"dialog",id:u.contentId,"aria-describedby":i||u.descriptionId,"aria-labelledby":r?void 0:o||u.titleId,"aria-label":r||void 0,"data-state":o4(u.open)},c,{ref:f,onDismiss:()=>u.onOpenChange(!1)}))),!1)});var xk=Se.forwardRef((e,t)=>{let i=e,{__scopeDialog:n}=i,r=K(i,["__scopeDialog"]),o=bo("DialogClose",n);return Se.createElement(je.button,A({type:"button"},r,{ref:t,onClick:ue(e.onClick,()=>o.onOpenChange(!1))}))});function o4(e){return e?"open":"closed"}var[Xw,$$]=Zo("DialogLabelWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"});var Yw=vk,Gw=gk,qw=mk,Qw=wk;var i4=xk;var Dt=M(R());var[_k,J$]=Zt("AlertDialog",[r4]);var ca=r4(),Sk=e=>{let o=e,{__scopeAlertDialog:t}=o,n=K(o,["__scopeAlertDialog"]),r=ca(t);return Dt.createElement(Yw,A({},r,n,{modal:!0}))},Lk=Dt.forwardRef((e,t)=>{let i=e,{__scopeAlertDialog:n}=i,r=K(i,["__scopeAlertDialog"]),o=ca(n);return Dt.createElement(Gw,A({},o,r,{ref:t}))}),Ek=Dt.forwardRef((e,t)=>{let i=e,{__scopeAlertDialog:n}=i,r=K(i,["__scopeAlertDialog"]),o=ca(n);return Dt.createElement(qw,A({},o,r,{ref:t}))}),[Ik,Mk]=_k("AlertDialogContent"),Rk=Dt.forwardRef((e,t)=>{let c=e,{__scopeAlertDialog:n,children:r}=c,o=K(c,["__scopeAlertDialog","children"]),i=ca(n),s=Dt.useRef(null),a=Ye(t,s),l=Dt.useRef(null);return Dt.createElement(Xw,{contentName:"AlertDialogContent",titleName:Ok,docsSlug:"alert-dialog"},Dt.createElement(Ik,{scope:n,cancelRef:l},Dt.createElement(Qw,A({role:"alertdialog"},i,o,{ref:a,onOpenAutoFocus:ue(o.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)===null||d===void 0||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault()}),Dt.createElement(f0,null,r),!1)))}),Ok="AlertDialogTitle";var Pk=Dt.forwardRef((e,t)=>{let i=e,{__scopeAlertDialog:n}=i,r=K(i,["__scopeAlertDialog"]),o=ca(n);return Dt.createElement(i4,A({},o,r,{ref:t}))}),kk=Dt.forwardRef((e,t)=>{let a=e,{__scopeAlertDialog:n}=a,r=K(a,["__scopeAlertDialog"]),{cancelRef:o}=Mk("AlertDialogCancel",n),i=ca(n),s=Ye(t,o);return Dt.createElement(i4,A({},i,r,{ref:s}))}),Jw=Sk,ey=Lk,ty=Ek,ny=Rk,ry=Pk,oy=kk;var gr=M(R());var ae=M(R());var V=M(R());var ke=M(R());var[iy,lF]=Zt("ContextMenu",[ia]);var ui=ia(),[sy,s4]=iy("ContextMenu"),Hk=e=>{let{__scopeContextMenu:t,children:n,onOpenChange:r,dir:o,modal:i=!0}=e,[s,a]=ke.useState(!1),l=Vk("ContextMenu",t),c=ui(t),u=At(r),d=ke.useCallback(f=>{a(f),u(f)},[u]);return l.isInsideContent?ke.createElement(sy,{scope:t,isRootMenu:!1,open:s,onOpenChange:d,modal:i},ke.createElement(U5,A({},c,{open:s,onOpenChange:d}),n)):ke.createElement(sy,{scope:t,isRootMenu:!0,open:s,onOpenChange:d,modal:i},ke.createElement(F5,A({},c,{dir:o,open:s,onOpenChange:d,modal:i}),n))},Tk=ke.forwardRef((e,t)=>{let d=e,{__scopeContextMenu:n}=d,r=K(d,["__scopeContextMenu"]),o=s4("ContextMenuTrigger",n),i=ui(n),s=ke.useRef({x:0,y:0}),a=ke.useRef({getBoundingClientRect:()=>DOMRect.fromRect(le({width:0,height:0},s.current))}),l=ke.useRef(0),c=ke.useCallback(()=>window.clearTimeout(l.current),[]),u=f=>{s.current={x:f.clientX,y:f.clientY},o.onOpenChange(!0)};return ke.useEffect(()=>c,[c]),ke.createElement(ay,{scope:n,isInsideContent:!1},ke.createElement(z5,A({},i,{virtualRef:a})),ke.createElement(je.span,A({},r,{ref:t,style:le({WebkitTouchCallout:"none"},e.style),onContextMenu:ue(e.onContextMenu,f=>{c(),f.preventDefault(),u(f)}),onPointerDown:ue(e.onPointerDown,hc(f=>{c(),l.current=window.setTimeout(()=>u(f),700)})),onPointerMove:ue(e.onPointerMove,hc(c)),onPointerCancel:ue(e.onPointerCancel,hc(c)),onPointerUp:ue(e.onPointerUp,hc(c))})))}),[ay,Vk]=iy("ContextMenuContent",{isInsideContent:!1}),Bk=ke.forwardRef((e,t)=>{let a=e,{__scopeContextMenu:n}=a,r=K(a,["__scopeContextMenu"]),o=s4("ContextMenuContent",n),i=ui(n),s=$e(le({},r),{style:$e(le({},e.style),{"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return ke.createElement(ay,{scope:n,isInsideContent:!0},o.isRootMenu?ke.createElement(Ak,A({__scopeContextMenu:n},s,{ref:t})):ke.createElement(sa,A({},i,s,{ref:t})))}),Ak=ke.forwardRef((e,t)=>{let a=e,{__scopeContextMenu:n}=a,r=K(a,["__scopeContextMenu"]),o=s4("ContextMenuContent",n),i=ui(n),s=ke.useRef(!1);return ke.createElement(sa,A({},i,r,{ref:t,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,l),!l.defaultPrevented&&s.current&&l.preventDefault(),s.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)===null||c===void 0||c.call(e,l),l.defaultPrevented||o.modal||(s.current=!0)}}))});var a4=ke.forwardRef((e,t)=>{let i=e,{__scopeContextMenu:n}=i,r=K(i,["__scopeContextMenu"]),o=ui(n);return ke.createElement(W5,A({},o,r,{ref:t}))}),ly=ke.forwardRef((e,t)=>{let i=e,{__scopeContextMenu:n}=i,r=K(i,["__scopeContextMenu"]),o=ui(n);return ke.createElement(K5,A({},o,r,{ref:t}))});var cy=ke.forwardRef((e,t)=>{let i=e,{__scopeContextMenu:n}=i,r=K(i,["__scopeContextMenu"]),o=ui(n);return ke.createElement(X5,A({},o,r,{ref:t}))});function hc(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var x0=Hk,uy=Tk,_0=Bk;var Ec=M(R()),Dk=Object.create,S0=Object.defineProperty,jk=Object.defineProperties,Nk=Object.getOwnPropertyDescriptor,Zk=Object.getOwnPropertyDescriptors,$k=Object.getOwnPropertyNames,vc=Object.getOwnPropertySymbols,Fk=Object.getPrototypeOf,l4=Object.prototype.hasOwnProperty,dy=Object.prototype.propertyIsEnumerable,fy=(e,t,n)=>t in e?S0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))l4.call(t,n)&&fy(e,n,t[n]);if(vc)for(var n of vc(t))dy.call(t,n)&&fy(e,n,t[n]);return e},k=(e,t)=>jk(e,Zk(t)),py=e=>S0(e,"__esModule",{value:!0}),Yr=(e,t)=>{var n={};for(var r in e)l4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vc)for(var r of vc(e))t.indexOf(r)<0&&dy.call(e,r)&&(n[r]=e[r]);return n},Uk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zk=(e,t)=>{py(e);for(var n in t)S0(e,n,{get:t[n],enumerable:!0})},hy=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of $k(t))!l4.call(e,r)&&r!=="default"&&S0(e,r,{get:()=>t[r],enumerable:!(n=Nk(t,r))||n.enumerable});return e},vy=e=>hy(py(S0(e!=null?Dk(Fk(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Pr=(e,t,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(c){o(c)}},s=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())}),gy=Uk(e=>{var t=Object.defineProperty,n=oe=>t(oe,"__esModule",{value:!0}),r=(oe,X)=>()=>oe&&(X=oe(oe=0)),o=(oe,X)=>{n(oe);for(var fe in X)t(oe,fe,{get:X[fe],enumerable:!0})},i=(oe,X,fe)=>new Promise((_e,he)=>{var et=Ze=>{try{Re(fe.next(Ze))}catch(nn){he(nn)}},Ne=Ze=>{try{Re(fe.throw(Ze))}catch(nn){he(nn)}},Re=Ze=>Ze.done?_e(Ze.value):Promise.resolve(Ze.value).then(et,Ne);Re((fe=fe.apply(oe,X)).next())}),s={};o(s,{default:()=>a});var a,l=r(()=>{a=(...oe)=>i(void 0,[...oe],function*(X={}){return new Promise((fe,_e)=>{let he=document.createElement("input");he.type="file";let et=[...X.mimeTypes?X.mimeTypes:[],X.extensions?X.extensions:[]].join();he.multiple=X.multiple||!1,he.accept=et||"";let Ne,Re=()=>Ne(_e);X.setupLegacyCleanupAndRejection?Ne=X.setupLegacyCleanupAndRejection(Re):(Ne=Ze=>{window.removeEventListener("pointermove",Re),window.removeEventListener("pointerdown",Re),window.removeEventListener("keydown",Re),Ze&&Ze(new DOMException("The user aborted a request.","AbortError"))},window.addEventListener("pointermove",Re),window.addEventListener("pointerdown",Re),window.addEventListener("keydown",Re)),he.addEventListener("change",()=>{Ne(),fe(he.multiple?Array.from(he.files):he.files[0])}),he.click()})})}),c={};o(c,{default:()=>d});var u,d,f=r(()=>{u=oe=>i(void 0,null,function*(){let X=yield oe.getFile();return X.handle=oe,X}),d=(...oe)=>i(void 0,[...oe],function*(X={}){let fe=yield window.chooseFileSystemEntries({accepts:[{description:X.description||"",mimeTypes:X.mimeTypes||["*/*"],extensions:X.extensions||[""]}],multiple:X.multiple||!1});return X.multiple?Promise.all(fe.map(u)):u(fe)})}),p={};o(p,{default:()=>m});var h,m,v=r(()=>{h=oe=>i(void 0,null,function*(){let X=yield oe.getFile();return X.handle=oe,X}),m=(...oe)=>i(void 0,[...oe],function*(X={}){let fe={};X.mimeTypes?X.mimeTypes.map(et=>{fe[et]=X.extensions||[]}):fe["*/*"]=X.extensions||[];let _e=yield window.showOpenFilePicker({types:[{description:X.description||"",accept:fe}],multiple:X.multiple||!1}),he=yield Promise.all(_e.map(h));return X.multiple?he:he[0]})}),C={};o(C,{default:()=>g});var g,b=r(()=>{g=(...oe)=>i(void 0,[...oe],function*(X={}){return X.recursive=X.recursive||!1,new Promise((fe,_e)=>{let he=document.createElement("input");he.type="file",he.webkitdirectory=!0;let et,Ne=()=>et(_e);X.setupLegacyCleanupAndRejection?et=X.setupLegacyCleanupAndRejection(Ne):(et=Re=>{window.removeEventListener("pointermove",Ne),window.removeEventListener("pointerdown",Ne),window.removeEventListener("keydown",Ne),Re&&Re(new DOMException("The user aborted a request.","AbortError"))},window.addEventListener("pointermove",Ne),window.addEventListener("pointerdown",Ne),window.addEventListener("keydown",Ne)),he.addEventListener("change",()=>{et();let Re=Array.from(he.files);X.recursive||(Re=Re.filter(Ze=>Ze.webkitRelativePath.split("/").length===2)),fe(Re)}),he.click()})})}),y={};o(y,{default:()=>L});var x,L,I=r(()=>{x=(oe,X,...fe)=>i(void 0,[oe,X,...fe],function*(_e,he,et=_e.name){let Ne=[],Re=[];for(let Ze of _e.getEntries()){let nn=`${et}/${Ze.name}`;Ze.isFile?Re.push(yield Ze.getFile().then(zn=>(zn.directoryHandle=_e,Object.defineProperty(zn,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>nn})))):Ze.isDirectory&&he&&Ne.push(yield x(Ze,he,nn))}return[...(yield Promise.all(Ne)).flat(),...yield Promise.all(Re)]}),L=(...oe)=>i(void 0,[...oe],function*(X={}){X.recursive=X.recursive||!1;let fe=yield window.chooseFileSystemEntries({type:"open-directory"});return x(fe,X.recursive)})}),E={};o(E,{default:()=>P});var O,P,z=r(()=>{O=(oe,X,...fe)=>i(void 0,[oe,X,...fe],function*(_e,he,et=_e.name){let Ne=[],Re=[];for(let Ze of _e.values()){let nn=`${et}/${Ze.name}`;Ze.kind==="file"?Re.push(yield Ze.getFile().then(zn=>(zn.directoryHandle=_e,Object.defineProperty(zn,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>nn})))):Ze.kind==="directory"&&he&&Ne.push(yield O(Ze,he,nn))}return[...(yield Promise.all(Ne)).flat(),...yield Promise.all(Re)]}),P=(...oe)=>i(void 0,[...oe],function*(X={}){X.recursive=X.recursive||!1;let fe=yield window.showDirectoryPicker();return O(fe,X.recursive)})}),B={};o(B,{default:()=>q});var q,Q=r(()=>{q=(oe,...X)=>i(void 0,[oe,...X],function*(fe,_e={}){let he=document.createElement("a");he.download=_e.fileName||"Untitled",he.href=URL.createObjectURL(fe),he.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(he.href),30*1e3)}),he.click()})}),re={};o(re,{default:()=>W});var W,U=r(()=>{W=(oe,...X)=>i(void 0,[oe,...X],function*(fe,_e={},he=null){_e.fileName=_e.fileName||"Untitled",he=he||(yield window.chooseFileSystemEntries({type:"save-file",accepts:[{description:_e.description||"",mimeTypes:[fe.type],extensions:_e.extensions||[""]}]}));let et=yield he.createWritable();return yield et.write(fe),yield et.close(),he})}),ve={};o(ve,{default:()=>Me});var Me,O1=r(()=>{Me=(oe,...X)=>i(void 0,[oe,...X],function*(fe,_e={},he=null,et=!1){_e.fileName=_e.fileName||"Untitled";let Ne={};if(_e.mimeTypes?(_e.mimeTypes.push(fe.type),_e.mimeTypes.map(nn=>{Ne[nn]=_e.extensions||[]})):Ne[fe.type]=_e.extensions||[],he)try{yield he.getFile()}catch(nn){if(he=null,et)throw nn}let Re=he||(yield window.showSaveFilePicker({suggestedName:_e.fileName,types:[{description:_e.description||"",accept:Ne}]})),Ze=yield Re.createWritable();return yield Ze.write(fe),yield Ze.close(),Re})});o(e,{directoryOpen:()=>mr,fileOpen:()=>xn,fileSave:()=>Un,supported:()=>ze});var pe=(()=>{if("top"in self&&self!==top)try{top.location+""}catch{return!1}else{if("chooseFileSystemEntries"in self)return"chooseFileSystemEntries";if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1})(),ze=pe,pn=ze?ze==="chooseFileSystemEntries"?Promise.resolve().then(()=>(f(),c)):Promise.resolve().then(()=>(v(),p)):Promise.resolve().then(()=>(l(),s));function xn(...oe){return i(this,null,function*(){return(yield pn).default(...oe)})}var Pn=ze?ze==="chooseFileSystemEntries"?Promise.resolve().then(()=>(I(),y)):Promise.resolve().then(()=>(z(),E)):Promise.resolve().then(()=>(b(),C));function mr(...oe){return i(this,null,function*(){return(yield Pn).default(...oe)})}var Je=ze?ze==="chooseFileSystemEntries"?Promise.resolve().then(()=>(U(),re)):Promise.resolve().then(()=>(O1(),ve)):Promise.resolve().then(()=>(Q(),B));function Un(...oe){return i(this,null,function*(){return(yield Je).default(...oe)})}}),{styled:de,createTheme:Kk}=lm({themeMap:S({},cd),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",sponsor:"#ec6cb9",sponsorContrast:"#ec6cb944",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>e=>Array.isArray(e)?{strokeWidth:`calc(${e[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${e}px / var(--camera-zoom))`}}}),Wk=Kk({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}}),Xk=class{},my;(function(e){e.Idle="idle",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected"})(my||(my={}));var xe;(function(e){e.Transform="transform",e.Translate="translate",e.TransformSingle="transformSingle",e.Brush="brush",e.Arrow="arrow",e.Draw="draw",e.Erase="erase",e.Rotate="rotate",e.Handle="handle",e.Grid="grid"})(xe||(xe={}));var yt;(function(e){e.Idle="idle",e.PointingHandle="pointingHandle",e.PointingBounds="pointingBounds",e.PointingBoundsHandle="pointingBoundsHandle",e.TranslatingHandle="translatingHandle",e.Translating="translating",e.Transforming="transforming",e.Rotating="rotating",e.Pinching="pinching",e.Brushing="brushing",e.Creating="creating",e.EditingText="editing-text"})(yt||(yt={}));var Gr;(function(e){e.Backward="backward",e.Forward="forward",e.ToFront="toFront",e.ToBack="toBack"})(Gr||(Gr={}));var It;(function(e){e.Top="top",e.CenterVertical="centerVertical",e.Bottom="bottom",e.Left="left",e.CenterHorizontal="centerHorizontal",e.Right="right"})(It||(It={}));var xo;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(xo||(xo={}));var _o;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(_o||(_o={}));var ua;(function(e){e.Horizontal="horizontal",e.Vertical="vertical"})(ua||(ua={}));var j;(function(e){e.Sticky="sticky",e.Ellipse="ellipse",e.Rectangle="rectangle",e.Draw="draw",e.Arrow="arrow",e.Line="line",e.Text="text",e.Group="group"})(j||(j={}));var di;(function(e){e.Arrow="arrow"})(di||(di={}));var Ue;(function(e){e.White="white",e.LightGray="lightGray",e.Gray="gray",e.Black="black",e.Green="green",e.Cyan="cyan",e.Blue="blue",e.Indigo="indigo",e.Violet="violet",e.Red="red",e.Orange="orange",e.Yellow="yellow"})(Ue||(Ue={}));var fn;(function(e){e.Small="small",e.Medium="medium",e.Large="large"})(fn||(fn={}));var gt;(function(e){e.Draw="draw",e.Solid="solid",e.Dashed="dashed",e.Dotted="dotted"})(gt||(gt={}));var Cy;(function(e){e.Small="small",e.Medium="medium",e.Large="large",e.ExtraLarge="extraLarge"})(Cy||(Cy={}));var We;(function(e){e.Start="start",e.Middle="middle",e.End="end",e.Justify="justify"})(We||(We={}));var jt;(function(e){e.Script="script",e.Sans="sans",e.Serif="erif",e.Mono="mono"})(jt||(jt={}));var wy={};zk(wy,{loadFileHandle:()=>xy,migrate:()=>So,openFromFileSystem:()=>_y,saveFileHandle:()=>c4,saveToFileSystem:()=>u4});function So(e,t){let{version:n=0}=e;return n===t||(n<14&&Object.values(e.pages).forEach(r=>{Object.values(r.shapes).filter(o=>o.type===j.Text).forEach(o=>o.style.font===jt.Script)}),n<=13&&Object.values(e.pages).forEach(r=>{Object.values(r.bindings).forEach(o=>{Object.assign(o,o.meta)}),Object.values(r.shapes).forEach(o=>{Object.entries(o.style).forEach(([i,s])=>{typeof s=="string"&&(o.style[i]=s.toLowerCase())}),o.type===j.Arrow&&o.decorations&&Object.entries(o.decorations).forEach(([i,s])=>{s==="Arrow"&&(o.decorations=k(S({},o.decorations),{[i]:di.Arrow}))})})}),n<=13.1&&(e.name="New Document"),Object.values(e.pageStates).forEach(r=>{r.selectedIds=r.selectedIds.filter(o=>e.pages[r.id].shapes[o]!==void 0),r.bindingId=void 0,r.editingId=void 0,r.hoveredId=void 0,r.pointedId=void 0}),e.version=t),e}var yy=vy(gy()),by={mode:"readwrite"},Yk=e=>Pr(void 0,null,function*(){return(yield e.queryPermission(by))==="granted"||(yield e.requestPermission(by))==="granted"});function xy(){return Pr(this,null,function*(){return(yield i0(`Tldraw_file_handle_${window.location.origin}`))||null})}function c4(e){return Pr(this,null,function*(){return Ks(`Tldraw_file_handle_${window.location.origin}`,e)})}function u4(e,t){return Pr(this,null,function*(){let n={name:e.name||"New Document",fileHandle:t??null,document:e,assets:{}},r=JSON.stringify(n,null,2),o=new Blob([r],{type:"application/vnd.Tldraw+json"});if(t&&!(yield Yk(t)))return null;let i=yield(0,yy.fileSave)(o,{fileName:`${n.name}.tldr`,description:"Tldraw File",extensions:[".tldr"]},t);return yield c4(i),i})}function _y(){return Pr(this,null,function*(){var e;let t=yield(0,yy.fileOpen)({description:"Tldraw File",extensions:[".tldr"],multiple:!1});if(!t)return null;let n=yield new Promise(i=>{let s=new FileReader;s.onloadend=()=>{s.readyState===FileReader.DONE&&i(s.result)},s.readAsText(t,"utf8")}),r=JSON.parse(n),o=(e=t.handle)!=null?e:null;return yield c4(o),{fileHandle:o,document:r.document}})}hy(wy,vy(gy()));var da=8,zt=24,pr=32,gc=128,d4=5,f4=10,S1=.3,fa=3,bF=Math.PI*2,mc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},Sy=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],bt=class extends g5{constructor(){super(...arguments);this.canBind=!1,this.canEdit=!1,this.canClone=!1,this.isAspectRatioLocked=!1,this.hideResizeHandles=!1,this.hitTestPoint=(e,t)=>_.pointInBounds(t,this.getRotatedBounds(e)),this.hitTestLineSegment=(e,t,n)=>{let r=_.getBoundsFromPoints([t,n]),o=this.getBounds(e);return _.boundsContain(o,r)||e.rotation?R7(t,n,_.getRotatedCorners(this.getBounds(e))).didIntersect:Cs(t,n,this.getBounds(e)).length>0},this.create=e=>(this.refMap.set(e.id,(0,Ly.createRef)()),this.getShape(e)),this.getCenter=e=>_.getBoundsCenter(this.getBounds(e)),this.getBindingPoint=(e,t,n,r,o,i,s)=>{let a,l,c=this.getBounds(e),u=_.expandBounds(c,i);if(_.pointInBounds(n,u)){if(s)w.dist(n,this.getCenter(e))<12?a=[.5,.5]:a=w.divV(w.sub(n,[u.minX,u.minY]),[u.width,u.height]),l=0;else{let d=Vl(r,o,u).filter(p=>p.didIntersect).map(p=>p.points[0]).sort((p,h)=>w.dist(h,r)-w.dist(p,r))[0],f=w.med(n,d);w.distanceToLineSegment(n,f,this.getCenter(e))<12?a=[.5,.5]:a=w.divV(w.sub(f,[u.minX,u.minY]),[u.width,u.height]),_.pointInBounds(n,c)?l=16:l=Math.max(16,_.getBoundsSides(c).map(p=>w.distanceToLineSegment(p[1][0],p[1][1],n)).sort((p,h)=>p-h)[0])}return{point:w.clampV(a,0,1),distance:l}}},this.mutate=(e,t)=>t,this.transform=(e,t,n)=>k(S({},e),{point:[t.minX,t.minY]}),this.transformSingle=(e,t,n)=>this.transform(e,t,n),this.getSvgElement=e=>{var t;return(t=document.getElementById(e.id+"_svg"))==null?void 0:t.cloneNode(!0)}}};function p4(e,t){let n=_.getFromCache(t,e,()=>{let[r,o]=e.size;return{minX:0,maxX:r,minY:0,maxY:o,width:r,height:o}});return _.translateBounds(n,e.point)}function Gk(e,t,{initialShape:n,transformOrigin:r,scaleX:o,scaleY:i}){if(e.rotation||n.isAspectRatioLocked){let s=Y.toFixed(Y.mul(n.size,Math.min(Math.abs(o),Math.abs(i)))),a=Y.toFixed([t.minX+(t.width-e.size[0])*(o<0?1-r[0]:r[0]),t.minY+(t.height-e.size[1])*(i<0?1-r[1]:r[1])]),l=o<0&&i>=0||i<0&&o>=0?n.rotation?-n.rotation:0:n.rotation;return{size:s,point:a,rotation:l}}else return{point:Y.toFixed([t.minX,t.minY]),size:Y.toFixed([t.width,t.height])}}function qk(e,t){return{size:Y.toFixed([t.width,t.height]),point:Y.toFixed([t.minX,t.minY])}}var Ey="  ",Zn=class{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){let n=e.ownerDocument,r=n.activeElement;r!==e&&e.focus(),n.execCommand("insertText",!1,t)||Zn.insertTextFirefox(e,t),r===n.body?e.blur():r instanceof HTMLElement&&r!==e&&r.focus()}static set(e,t){e.select(),Zn.insert(e,t)}static getSelection(e){let{selectionStart:t,selectionEnd:n}=e;return e.value.slice(t||void 0,n||void 0)}static wrapSelection(e,t,n){let{selectionStart:r,selectionEnd:o}=e,i=Zn.getSelection(e);Zn.insert(e,t+i+(n??t)),e.selectionStart=(r||0)+t.length,e.selectionEnd=(o||0)+t.length}static replace(e,t,n){let r=0;e.value.replace(t,(...o)=>{let i=r+o[o.length-2],s=o[0].length;e.selectionStart=i,e.selectionEnd=i+s;let a=typeof n=="string"?n:n(...o);return Zn.insert(e,a),e.selectionStart=i,r+=a.length-s,a})}static findLineEnd(e,t){let n=e.lastIndexOf(`
`,t-1)+1;return e.charAt(n)!=="	"?t:n+1}static indent(e){var t;let{selectionStart:n,selectionEnd:r,value:o}=e,i=o.slice(n,r),s=(t=/\n/g.exec(i))==null?void 0:t.length;if(s&&s>0){let a=o.lastIndexOf(`
`,n-1)+1,l=e.value.slice(a,r-1),c=l.replace(/^|\n/g,`$&${Ey}`),u=c.length-l.length;e.setSelectionRange(a,r-1),Zn.insert(e,c),e.setSelectionRange(n+1,r+u)}else Zn.insert(e,Ey)}static unindent(e){let{selectionStart:t,selectionEnd:n,value:r}=e,o=r.lastIndexOf(`
`,t-1)+1,i=Zn.findLineEnd(r,n),s=e.value.slice(o,i),a=s.replace(/(^|\n)(\t| {1,2})/g,"$1"),l=s.length-a.length;e.setSelectionRange(o,i),Zn.insert(e,a);let c=/\t| {1,2}/.exec(r.slice(o,t)),u=c?c[0].length:0,d=t-u;e.setSelectionRange(t-u,Math.max(d,n-l))}},Iy="#fafafa",h4="#343d45",pa={[Ue.White]:"#f0f1f3",[Ue.LightGray]:"#c6cbd1",[Ue.Gray]:"#788492",[Ue.Black]:"#1d1d1d",[Ue.Green]:"#36b24d",[Ue.Cyan]:"#0e98ad",[Ue.Blue]:"#1c7ed6",[Ue.Indigo]:"#4263eb",[Ue.Violet]:"#7746f1",[Ue.Red]:"#ff2133",[Ue.Orange]:"#ff9433",[Ue.Yellow]:"#ffc936"},Qk={light:k(S({},Object.fromEntries(Object.entries(pa).map(([e,t])=>[e,_.lerpColor(t,Iy,.45)]))),{[Ue.White]:"#ffffff",[Ue.Black]:"#3d3d3d"}),dark:k(S({},Object.fromEntries(Object.entries(pa).map(([e,t])=>[e,_.lerpColor(_.lerpColor(t,"#999999",.3),h4,.4)]))),{[Ue.White]:"#1d1d1d",[Ue.Black]:"#bbbbbb"})},L0={light:k(S({},pa),{[Ue.White]:"#1d1d1d"}),dark:k(S({},Object.fromEntries(Object.entries(pa).map(([e,t])=>[e,_.lerpColor(t,h4,.1)]))),{[Ue.White]:"#cecece",[Ue.Black]:"#cecece"})},v4={light:k(S({},Object.fromEntries(Object.entries(pa).map(([e,t])=>[e,_.lerpColor(t,Iy,.82)]))),{[Ue.White]:"#fefefe",[Ue.Black]:"#4d4d4d"}),dark:k(S({},Object.fromEntries(Object.entries(pa).map(([e,t])=>[e,_.lerpColor(t,h4,.618)]))),{[Ue.White]:"rgb(30,33,37)",[Ue.Black]:"#1e1e1f"})},Jk={[fn.Small]:2,[fn.Medium]:3.5,[fn.Large]:5},eH={[fn.Small]:28,[fn.Medium]:48,[fn.Large]:96,auto:"auto"},tH={[jt.Script]:'"Caveat Brush"',[jt.Sans]:'"Source Sans Pro", sans-serif',[jt.Serif]:'"Source Serif Pro", serif',[jt.Mono]:'"Source Code Pro", monospace'},nH={[jt.Script]:1,[jt.Sans]:1,[jt.Serif]:1,[jt.Mono]:1},rH={[fn.Small]:24,[fn.Medium]:36,[fn.Large]:48,auto:"auto"};function oH(e){return Jk[e]}function My(e,t=jt.Script){return eH[e]*nH[t]}function g4(e=jt.Script){return tH[e]}function iH(e){return rH[e]}function Ry(e){let t=My(e.size,e.font),n=g4(e.font),{scale:r=1}=e;return`${t*r}px/1.3 ${n}`}function sH(e){let t=iH(e.size),n=g4(e.font),{scale:r=1}=e;return`${t*r}px/1.3 ${n}`}function Oy(e,t=!1){let{color:n}=e,r=t?"dark":"light",o=n===Ue.White||n===Ue.Black?Ue.Yellow:n;return{fill:Qk[r][o],stroke:L0[r][o],color:t?"#1d1d1d":"#0d0d0d"}}function wn(e,t){let{color:n,size:r,isFilled:o}=e,i=oH(r),s=t?"dark":"light";return{stroke:L0[s][n],fill:o?v4[s][n]:"none",strokeWidth:i}}var fi={color:Ue.Black,size:fn.Small,isFilled:!1,dash:gt.Draw,scale:1},m4=k(S({},fi),{font:jt.Script,textAlign:We.Start}),aH=class extends bt{constructor(){super(...arguments);this.type=j.Rectangle,this.canBind=!0,this.canClone=!0,this.getShape=e=>_.deepMerge({id:"id",type:j.Rectangle,name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:fi},e),this.Component=bt.Component(({shape:e,isBinding:t,isGhost:n,meta:r,events:o},i)=>{let{id:s,size:a,style:l}=e,c=wn(l,r.isDarkMode),{strokeWidth:u}=c;if(l.dash===gt.Draw){let m=cH(e);return(0,fr.createElement)(Ft,S({ref:i,id:e.id+"_svg"},o),t&&(0,fr.createElement)("rect",{className:"tl-binding-indicator",x:u/2-zt,y:u/2-zt,width:Math.max(0,a[0]-u/2)+zt*2,height:Math.max(0,a[1]-u/2)+zt*2}),(0,fr.createElement)("path",{d:ky(e),fill:l.isFilled?c.fill:"none",radius:u,stroke:"none",pointerEvents:"all"}),(0,fr.createElement)("path",{d:m,fill:c.stroke,stroke:c.stroke,strokeWidth:c.strokeWidth,pointerEvents:"all",opacity:n?S1:1}))}let d=1+u*1.618,f=Math.max(0,a[0]-d/2),p=Math.max(0,a[1]-d/2),h=[[[d/2,d/2],[f,d/2],f-d/2],[[f,d/2],[f,p],p-d/2],[[f,p],[d/2,p],f-d/2],[[d/2,p],[d/2,d/2],p-d/2]].map(([m,v,C],g)=>{let{strokeDasharray:b,strokeDashoffset:y}=_.getPerfectDashProps(C,u*1.618,e.style.dash);return(0,fr.createElement)("line",{key:s+"_"+g,x1:m[0],y1:m[1],x2:v[0],y2:v[1],stroke:c.stroke,strokeWidth:d,strokeLinecap:"round",strokeDasharray:b,strokeDashoffset:y})});return(0,fr.createElement)(Ft,S({ref:i,id:e.id+"_svg"},o),t&&(0,fr.createElement)("rect",{className:"tl-binding-indicator",x:d/2-32,y:d/2-32,width:f+64,height:p+64}),(0,fr.createElement)("rect",{x:d/2,y:d/2,width:f,height:p,fill:c.fill,strokeWidth:d,stroke:"none",pointerEvents:"all"}),(0,fr.createElement)("g",{pointerEvents:"stroke"},h))}),this.Indicator=bt.Indicator(({shape:e})=>{let{style:t,size:[n,r]}=e,o=wn(t,!1).strokeWidth;return t.dash===gt.Draw?(0,fr.createElement)("path",{d:ky(e)}):(0,fr.createElement)("rect",{x:o,y:o,rx:1,ry:1,width:Math.max(1,n-o*2),height:Math.max(1,r-o*2)})}),this.getBounds=e=>p4(e,this.boundsCache),this.shouldRender=(e,t)=>t.size!==e.size||t.style!==e.style,this.transform=Gk,this.transformSingle=qk}};function lH(e){let t=wn(e.style),n=_.rng(e.id),r=t.strokeWidth,o=Math.max(0,e.size[0]),i=Math.max(0,e.size[1]),s=Array.from(Array(4)).map(()=>[n()*r*.75,n()*r*.75]),a=w.add([r/2,r/2],s[0]),l=w.add([o-r/2,r/2],s[1]),c=w.add([o-r/2,i-r/2],s[2]),u=w.add([r/2,i-r/2],s[3]),d=Math.round(Math.abs(n()*2*4)),f=Math.min(o/2,r*2),p=Math.min(i/2,r*2),h=Math.max(8,Math.floor(o/16)),m=Math.max(8,Math.floor(i/16)),v=_.rotateArray([w.pointsBetween(w.add(a,[f,0]),w.sub(l,[f,0]),h),w.pointsBetween(w.add(l,[0,p]),w.sub(c,[0,p]),m),w.pointsBetween(w.sub(c,[f,0]),w.add(u,[f,0]),h),w.pointsBetween(w.sub(u,[0,p]),w.add(a,[0,p]),m)],d);return{points:[...v.flat(),...v[0]].slice(5,Math.floor((d%2==0?h:m)/-2)+3)}}function Py(e){let{points:t}=lH(e),{strokeWidth:n}=wn(e.style);return{points:t,options:{size:n,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function cH(e){let{points:t,options:n}=Py(e),r=gd(t,n);return _.getSvgPathFromStroke(r)}function ky(e){let{points:t,options:n}=Py(e),r=vo(t,n);return _.getSvgPathFromStroke(r.map(o=>o.point.slice(0,2)),!1)}function Hy(e,t){let{id:n,radius:[r,o],point:i,style:s}=e,{strokeWidth:a}=wn(s),l=_.rng(n),c=Y.sub(t,i),u=r+l()*a*2,d=o+l()*a*2,f=_.perimeterOfEllipse(u,d),p=[],h=Math.PI+Math.PI*l(),m=Math.abs(l()),v=Math.max(16,f/10);for(let C=0;C<v;C++){let g=mc.easeInOutSine(C/(v+1)),b=h*2+Math.PI*(2+m)*g,y=Math.cos(b),x=Math.sin(b);p.push([u*y+c[0],d*x+c[1],g+.5+l()/2])}return vo(p,{size:1+a*2,thinning:.618,end:{taper:f/8},start:{taper:f/12},streamline:0,simulatePressure:!0})}function uH(e,t){let{id:n,radius:[r,o],style:i}=e,{strokeWidth:s}=wn(i),a=_.rng(n),l=r+a()*s*2,c=o+a()*s*2,u=_.perimeterOfEllipse(l,c);return _.getSvgPathFromStroke(c0(Hy(e,t),{size:1+s*2,thinning:.618,end:{taper:u/8},start:{taper:u/12},streamline:0,simulatePressure:!0}))}function Ty(e,t){return _.getSvgPathFromStroke(Hy(e,t).map(n=>n.point.slice(0,2)),!1)}var dH=class extends bt{constructor(){super(...arguments);this.type=j.Ellipse,this.canBind=!0,this.getShape=e=>_.deepMerge({id:"id",type:j.Ellipse,name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:fi},e),this.Component=bt.Component(({shape:e,isGhost:t,isBinding:n,meta:r,events:o},i)=>{let{radius:[s,a],style:l}=e,c=wn(l,r.isDarkMode),u=c.strokeWidth,d=1+u*1.618,f=Math.max(0,s-d/2),p=Math.max(0,a-d/2);if(l.dash===gt.Draw){let g=uH(e,this.getCenter(e));return(0,L1.createElement)(Ft,S({ref:i,id:e.id+"_svg"},o),n&&(0,L1.createElement)("ellipse",{className:"tl-binding-indicator",cx:s,cy:a,rx:f+2,ry:p+2}),(0,L1.createElement)("path",{d:Ty(e,this.getCenter(e)),stroke:"none",fill:l.isFilled?c.fill:"none",pointerEvents:"all"}),(0,L1.createElement)("path",{d:g,fill:c.stroke,stroke:c.stroke,strokeWidth:c.strokeWidth,pointerEvents:"all",strokeLinecap:"round",strokeLinejoin:"round",opacity:t?S1:1}))}let h=Math.pow(f-p,2)/Math.pow(f+p,2),m=Math.PI*(f+p)*(1+3*h/(10+Math.sqrt(4-3*h))),{strokeDasharray:v,strokeDashoffset:C}=_.getPerfectDashProps(m<64?m*2:m,u*1.618,e.style.dash,4);return(0,L1.createElement)(Ft,S({ref:i,id:e.id+"_svg"},o),n&&(0,L1.createElement)("ellipse",{className:"tl-binding-indicator",cx:s,cy:a,rx:f+32,ry:p+32}),(0,L1.createElement)("ellipse",{cx:s,cy:a,rx:f,ry:p,fill:c.fill,stroke:c.stroke,strokeWidth:d,strokeDasharray:v,strokeDashoffset:C,pointerEvents:"all",strokeLinecap:"round",strokeLinejoin:"round"}))}),this.Indicator=bt.Indicator(({shape:e})=>(0,L1.createElement)("path",{d:Ty(e,this.getCenter(e))})),this.hitTestPoint=(e,t)=>_.pointInBounds(t,this.getRotatedBounds(e))&&_.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0),this.hitTestLineSegment=(e,t,n)=>Xo(t,n,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect,this.getBounds=e=>_.getFromCache(this.boundsCache,e,()=>_.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0)),this.getRotatedBounds=e=>_.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation),this.hitTestBounds=(e,t)=>{let n=this.getBounds(e);return _.boundsContained(n,t)||Iv(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0},this.shouldRender=(e,t)=>t.radius!==e.radius||t.style!==e.style,this.getCenter=e=>w.add(e.point,e.radius),this.getBindingPoint=(e,t,n,r,o,i,s)=>{{let a=this.getBounds(e),l=_.expandBounds(a,i),c=this.getCenter(e),u,d;if(!_.pointInEllipse(n,c,e.radius[0]+zt,e.radius[1]+zt))return;if(s)w.dist(n,this.getCenter(e))<12?u=[.5,.5]:u=w.divV(w.sub(n,[l.minX,l.minY]),[l.width,l.height]),d=0;else{let f=O9(r,o,c,e.radius[0],e.radius[1],e.rotation||0).points.sort((h,m)=>w.dist(h,r)-w.dist(m,r))[0];if(f||(f=Xo(n,c,c,e.radius[0],e.radius[1],e.rotation||0).points.sort((h,m)=>w.dist(h,n)-w.dist(m,n))[0]),!f)return;let p=w.med(n,f);if(w.distanceToLineSegment(n,p,this.getCenter(e))<12?u=[.5,.5]:u=w.divV(w.sub(p,[l.minX,l.minY]),[l.width,l.height]),_.pointInEllipse(n,c,e.radius[0],e.radius[1],e.rotation||0))d=zt/2;else{let h=Xo(n,c,c,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!h)return;d=Math.max(zt/2,w.dist(n,h))}}return{point:u,distance:d}}},this.transform=(e,t,{scaleX:n,scaleY:r,initialShape:o})=>{let{rotation:i=0}=o;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:n<0&&r>=0||r<0&&n>=0?-(i||0):i||0}},this.transformSingle=(e,t)=>({point:w.toFixed([t.minX,t.minY]),radius:w.div([t.width,t.height],2)})}};function fH(e,t,n,r){return["M",e.point[0],e.point[1],"A",n[2],n[2],0,0,r<0?0:1,t.point[0],t.point[1]].join(" ")}function C4(e,t){let{start:n,end:r}=e,o=Y.dist(n.point,r.point),i=Y.med(n.point,r.point),s=o/2*t,a=Y.uni(Y.vec(n.point,r.point));return Y.toFixed(Math.abs(s)<10?i:Y.add(i,Y.mul(Y.per(a),s)))}function pH(e){var t,n;let{style:r,id:o}=e,{start:i,end:s}=e.handles,a=_.rng(o),l=wn(r).strokeWidth,c=((t=e.decorations)==null?void 0:t.start)?Y.nudge(i.point,s.point,l):i.point,u=((n=e.decorations)==null?void 0:n.end)?Y.nudge(s.point,i.point,l):s.point,d=md([c,u],{size:l,thinning:.618+a()*.2,easing:mc.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return _.getSvgPathFromStroke(d)}function hH(e,t,n,r){var o,i;let{style:s,id:a}=e,{start:l,end:c}=e.handles,u=_.rng(a),d=wn(s).strokeWidth,f=[t[0],t[1]],p=t[2],h=((o=e.decorations)==null?void 0:o.start)?Y.rotWith(l.point,f,d/n):l.point,m=((i=e.decorations)==null?void 0:i.end)?Y.rotWith(c.point,f,-(d/n)):c.point,v=Y.angle(f,h),C=Y.angle(f,m),g=[],b=8+Math.floor(Math.abs(n)/20*1+u()/2);for(let x=0;x<b;x++){let L=r(x/b),I=_.lerpAngles(v,C,L);g.push(Y.toFixed(Y.nudgeAtAngle(f,I,p)))}let y=md([h,...g,m],{size:1+d,thinning:.618+u()*.2,easing:mc.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return _.getSvgPathFromStroke(y)}function Vy(e){let{start:t,end:n,bend:r}=e.handles;return _.circleFromThreePoints(t.point,n.point,r.point)}function w4(e){let{start:t,end:n,bend:r}=e.handles,[o,i,s]=_.circleFromThreePoints(t.point,n.point,r.point),a=[o,i],l=mH(a,s,t.point,n.point);return{center:a,radius:s,length:l}}function y4(e,t,n,r,o){let i=Ev(e,t*.618,n,r).points;if(!i)return T.warn("Could not find an intersection for the arrow head."),{left:e,right:e};let s=o?i[0]:i[1],a=s?Y.nudge(Y.rotWith(s,e,Math.PI/6),e,t*-.382):e,l=s?Y.nudge(Y.rotWith(s,e,-Math.PI/6),e,t*-.382):e;return{left:a,right:l}}function b4(e,t,n){let r=Lv(e,n,e,t).points;if(!r)return T.warn("Could not find an intersection for the arrow head."),{left:e,right:e};let o=r[0],i=o?Y.rotWith(o,e,Math.PI/6):e,s=o?Y.rotWith(o,e,-Math.PI/6):e;return{left:i,right:s}}function By(e,t,n,r,o){let{left:i,right:s}=y4(e,t,n,r,o);return`M ${i} L ${e} ${s}`}function Ay(e,t,n){let{left:r,right:o}=b4(e,t,n);return`M ${r} L ${e} ${o}`}function vH(e){let{decorations:t,handles:{start:n,end:r,bend:o},style:i}=e,{strokeWidth:s}=wn(i,!1),a=Y.dist(n.point,r.point),l=Math.min(a/3,s*8),c=[];if(Y.dist(o.point,Y.toFixed(Y.med(n.point,r.point)))<1)c.push(`M ${n.point} L ${r.point}`),(t==null?void 0:t.start)&&c.push(Ay(n.point,r.point,l)),(t==null?void 0:t.end)&&c.push(Ay(r.point,n.point,l));else{let{center:u,radius:d,length:f}=w4(e);c.push(`M ${n.point} A ${d} ${d} 0 0 ${f>0?"1":"0"} ${r.point}`),(t==null?void 0:t.start)&&c.push(By(n.point,l,u,d,f<0)),(t==null?void 0:t.end)&&c.push(By(r.point,l,u,d,f>=0))}return c.join(" ")}function Cc(e){let{start:t,bend:n,end:r}=e.handles;if(Y.dist2(n.point,Y.med(t.point,r.point))>4){let o=[],{center:i,radius:s}=w4(e),a=Y.angle(i,t.point),l=Y.angle(i,r.point);for(let c=1/20;c<1;c+=1/20){let u=_.lerpAngles(a,l,c);o.push(Y.nudgeAtAngle(i,u,s))}return o}else return[t.point,r.point]}function gH(e,t,n){if(n===e||n===t)return!0;let r=Math.PI*2,o=(t-e+r)%r,i=(n-e+r)%r;return o<=Math.PI!=i>o}function mH(e,t,n,r){let o=_.getSweep(e,n,r);return t*(2*Math.PI)*(o/(2*Math.PI))}var CH=class extends bt{constructor(){super(...arguments);this.type=j.Arrow,this.hideBounds=!0,this.pathCache=new WeakMap,this.getShape=e=>{var t,n,r,o;return S({id:"id",type:j.Arrow,name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:S({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:S({id:"end",index:1,point:[1,1],canBind:!0},(n=e.handles)==null?void 0:n.end),bend:S({id:"bend",index:2,point:[.5,.5]},(r=e.handles)==null?void 0:r.bend)},decorations:(o=e.decorations)!=null?o:{end:di.Arrow},style:S(k(S({},fi),{isFilled:!1}),e.style)},e)},this.Component=bt.Component(({shape:e,isGhost:t,meta:n,events:r},o)=>{let{handles:{start:i,bend:s,end:a},decorations:l={},style:c}=e,u=c.dash===gt.Draw,d=w.dist(s.point,w.toFixed(w.med(i.point,a.point)))<1,f=wn(c,n.isDarkMode),{strokeWidth:p}=f,h=w.dist(i.point,a.point),m=Math.min(h/3,p*8),v=1+p*1.618,C,g,b,y=_.rng(e.id),x=mc[y()>0?"easeInOutSine":"easeInOutCubic"];if(d){let L=u?pH(e):"M"+w.toFixed(i.point)+"L"+w.toFixed(a.point),{strokeDasharray:I,strokeDashoffset:E}=_.getPerfectDashProps(h,p*1.618,e.style.dash,2,!1);l.start&&(g=b4(i.point,a.point,m)),l.end&&(b=b4(a.point,i.point,m)),C=h>2?(0,yn.createElement)(yn.Fragment,null,(0,yn.createElement)("path",{d:L,fill:"none",strokeWidth:Math.max(8,p*2),strokeDasharray:"none",strokeDashoffset:"none",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),(0,yn.createElement)("path",{d:L,fill:f.stroke,stroke:f.stroke,strokeWidth:u?v/2:v,strokeDasharray:I,strokeDashoffset:E,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"})):null}else{let L=Vy(e),{center:I,radius:E,length:O}=w4(e),P=u?hH(e,L,O,x):fH(i,a,L,e.bend),{strokeDasharray:z,strokeDashoffset:B}=_.getPerfectDashProps(Math.abs(O),v,e.style.dash,2,!1);l.start&&(g=y4(i.point,m,I,E,O<0)),l.end&&(b=y4(a.point,m,I,E,O>=0)),C=(0,yn.createElement)(yn.Fragment,null,(0,yn.createElement)("path",{d:P,fill:"none",stroke:"none",strokeWidth:Math.max(8,p),strokeDasharray:"none",strokeDashoffset:"none",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),(0,yn.createElement)("path",{d:P,fill:u?f.stroke:"none",stroke:f.stroke,strokeWidth:u?0:v,strokeDasharray:z,strokeDashoffset:B,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}))}return(0,yn.createElement)(Ft,S({ref:o,id:e.id+"_svg"},r),(0,yn.createElement)("g",{pointerEvents:"none",opacity:t?S1:1},C,g&&(0,yn.createElement)("path",{d:`M ${g.left} L ${i.point} ${g.right}`,fill:"none",stroke:f.stroke,strokeWidth:v,strokeDashoffset:"none",strokeDasharray:"none",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),b&&(0,yn.createElement)("path",{d:`M ${b.left} L ${a.point} ${b.right}`,fill:"none",stroke:f.stroke,strokeWidth:v,strokeDashoffset:"none",strokeDasharray:"none",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"})))}),this.Indicator=bt.Indicator(({shape:e})=>(0,yn.createElement)("path",{d:vH(e)})),this.getBounds=e=>{let t=_.getFromCache(this.boundsCache,e,()=>_.getBoundsFromPoints(Cc(e)));return _.translateBounds(t,e.point)},this.getRotatedBounds=e=>{let t=Cc(e),{minX:n,minY:r,maxX:o,maxY:i}=_.getBoundsFromPoints(t);return e.rotation!==0&&(t=t.map(s=>w.rotWith(s,[(n+o)/2,(r+i)/2],e.rotation||0))),_.translateBounds(_.getBoundsFromPoints(t),e.point)},this.getCenter=e=>{let{start:t,end:n}=e.handles;return w.add(e.point,w.med(t.point,n.point))},this.shouldRender=(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style,this.hitTestPoint=(e,t)=>{let n=w.sub(t,e.point),r=Cc(e);for(let o=1;o<r.length;o++)if(w.distanceToLineSegment(r[o-1],r[o],n)<1)return!0;return!1},this.hitTestLineSegment=(e,t,n)=>{let r=w.sub(t,e.point),o=w.sub(n,e.point),i=Cc(e);for(let s=1;s<i.length;s++)if(ms(i[s-1],i[s],r,o).didIntersect)return!0;return!1},this.hitTestBounds=(e,t)=>{let{start:n,end:r,bend:o}=e.handles,i=w.add(e.point,n.point),s=w.add(e.point,r.point);if(_.pointInBounds(i,t)||_.pointInBounds(s,t))return!0;if(w.isEqual(w.med(n.point,r.point),o.point))return Cs(i,s,t).length>0;{let[a,l,c]=Vy(e),u=w.add(e.point,[a,l]);return Sv(u,c,i,s,t).length>0}},this.transform=(e,t,{initialShape:n,scaleX:r,scaleY:o})=>{let i=this.getBounds(n),s=["start","end"],a=S({},n.handles);s.forEach(v=>{let[C,g]=a[v].point,b=C/i.width,y=g/i.height;a[v]=k(S({},a[v]),{point:[t.width*(r<0?1-b:b),t.height*(o<0?1-y:y)]})});let{start:l,bend:c,end:u}=a,d=w.dist(l.point,u.point),f=w.med(l.point,u.point),p=d/2*n.bend,h=w.uni(w.vec(l.point,u.point)),m=w.add(f,w.mul(w.per(h),p));return a.bend=k(S({},c),{point:w.toFixed(Math.abs(p)<10?f:m)}),{point:w.toFixed([t.minX,t.minY]),handles:a}},this.onDoubleClickHandle=(e,t)=>{var n,r;switch(t){case"bend":return{bend:0,handles:k(S({},e.handles),{bend:k(S({},e.handles.bend),{point:C4(e.handles,e.bend)})})};case"start":return{decorations:k(S({},e.decorations),{start:((n=e.decorations)==null?void 0:n.start)?void 0:di.Arrow})};case"end":return{decorations:k(S({},e.decorations),{end:((r=e.decorations)==null?void 0:r.end)?void 0:di.Arrow})}}return this},this.onBindingChange=(e,t,n,r,o)=>{let i=e.handles[t.handleId],s=_.expandBounds(r,zt),a=w.sub(w.add([s.minX,s.minY],w.mulV([s.width,s.height],w.rotWith(t.point,[.5,.5],n.rotation||0))),e.point),l=a;if(t.distance){let c=_.expandBounds(r,t.distance),u=w.add(e.point,e.handles[i.id==="start"?"end":"start"].point),d=w.uni(w.sub(w.add(a,e.point),u));if(n.type===j.Ellipse){let f=O9(u,d,o,n.radius[0]+t.distance,n.radius[1]+t.distance,n.rotation||0).points.sort((p,h)=>w.dist(p,u)-w.dist(h,u));f[0]&&(l=w.sub(f[0],e.point))}else{let f=Vl(u,d,c,n.rotation).filter(p=>p.didIntersect).map(p=>p.points[0]).sort((p,h)=>w.dist(p,u)-w.dist(h,u));f.length<2&&(f=Vl(u,w.neg(d),c).filter(p=>p.didIntersect).map(p=>p.points[0]).sort((p,h)=>w.dist(p,u)-w.dist(h,u))),f[0]&&(l=w.sub(f[0],e.point))}}return this.onHandleChange(e,{[i.id]:k(S({},i),{point:w.toFixed(l)})})},this.onHandleChange=(e,t)=>{let n=_.deepMerge(e.handles,t),r=e.bend;if(n=k(S({},n),{start:k(S({},n.start),{point:w.toFixed(n.start.point)}),end:k(S({},n.end),{point:w.toFixed(n.end.point)})}),"bend"in t){let{start:l,end:c,bend:u}=n,d=w.dist(l.point,c.point),f=w.med(l.point,c.point),p=w.angle(l.point,c.point),h=w.uni(w.vec(l.point,c.point)),m=w.add(f,w.mul(w.per(h),d/2)),v=w.sub(f,w.mul(w.per(h),d/2)),C=w.nearestPointOnLineSegment(m,v,u.point,!0),g=w.dist(f,C);r=_.clamp(g/(d/2),-.99,.99);let b=w.angle(l.point,C);w.isEqual(f,C4(n,r))?r=0:gH(p,p+Math.PI,b)&&(r*=-1)}let o={point:e.point,bend:r,handles:k(S({},n),{bend:k(S({},n.bend),{point:C4(n,r)})})},i=e.point,s=this.getBounds(S({},o)),a=w.sub([s.minX,s.minY],i);return w.isEqual(a,[0,0])||(Object.values(o.handles).forEach(l=>{l.point=w.toFixed(w.sub(l.point,a))}),o.point=w.toFixed(w.add(o.point,a))),o}}},wH=class extends bt{constructor(){super(...arguments);this.type=j.Group,this.canBind=!0,this.getShape=e=>_.deepMerge({id:"id",type:j.Group,name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:fi},e),this.Component=bt.Component(({shape:e,isBinding:t,isGhost:n,isHovered:r,isSelected:o,events:i},s)=>{let{id:a,size:l}=e,c=2,u=Math.max(0,l[0]-c/2),d=Math.max(0,l[1]-c/2),f=[[[c/2,c/2],[u,c/2],u-c/2],[[u,c/2],[u,d],d-c/2],[[u,d],[c/2,d],u-c/2],[[c/2,d],[c/2,c/2],d-c/2]].map(([p,h],m)=>(0,E1.createElement)("line",{key:a+"_"+m,x1:p[0],y1:p[1],x2:h[0],y2:h[1]}));return(0,E1.createElement)(Ft,S({ref:s},i),t&&(0,E1.createElement)("rect",{className:"tl-binding-indicator",x:-zt,y:-zt,width:l[0]+zt*2,height:l[1]+zt*2}),(0,E1.createElement)("g",{opacity:n?S1:1},(0,E1.createElement)("rect",{x:0,y:0,width:l[0],height:l[1],fill:"transparent",pointerEvents:"all"}),(0,E1.createElement)(Dy,{stroke:Ue.Black,opacity:r||o?1:0,strokeLinecap:"round",pointerEvents:"stroke"},f)))}),this.Indicator=bt.Indicator(({shape:e})=>{let{id:t,size:n}=e,r=2,o=Math.max(0,n[0]-r/2),i=Math.max(0,n[1]-r/2),s=[[[r/2,r/2],[o,r/2],o-r/2],[[o,r/2],[o,i],i-r/2],[[o,i],[r/2,i],o-r/2],[[r/2,i],[r/2,r/2],i-r/2]].map(([a,l],c)=>(0,E1.createElement)("line",{key:t+"_"+c,x1:a[0],y1:a[1],x2:l[0],y2:l[1]}));return(0,E1.createElement)(Dy,{strokeLinecap:"round",pointerEvents:"stroke"},s)}),this.getBounds=e=>p4(e,this.boundsCache),this.shouldRender=(e,t)=>t.size!==e.size||t.style!==e.style}},Dy=de("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"}),yH={[We.Start]:"left",[We.Middle]:"center",[We.End]:"right",[We.Justify]:"justify"};function jy(e=We.Start){return yH[e]}function Ny(e,t){let{text:n,style:r}=e,o=My(e.style.size,e.style.font),i=document.createElementNS("http://www.w3.org/2000/svg","g"),s=o*1.3,a=n.split(`
`).map((l,c)=>{let u=document.createElementNS("http://www.w3.org/2000/svg","text");return u.textContent=l,u.setAttribute("font-family",g4(r.font)),u.setAttribute("font-size",o+"px"),u.setAttribute("text-anchor","start"),u.setAttribute("alignment-baseline","central"),u.setAttribute("text-align",jy(r.textAlign)),u.setAttribute("y",s*(.5+c)+""),i.appendChild(u),u});return r.textAlign===We.Middle?a.forEach(l=>{l.setAttribute("x",t.width/2+""),l.setAttribute("text-align","center"),l.setAttribute("text-anchor","middle")}):r.textAlign===We.End&&a.forEach(l=>{l.setAttribute("x",t.width+""),l.setAttribute("text-align","right"),l.setAttribute("text-anchor","end")}),i}var x4=e=>e.stopPropagation(),bH=class extends bt{constructor(){super(...arguments);this.type=j.Sticky,this.canBind=!0,this.canEdit=!0,this.canClone=!0,this.hideResizeHandles=!0,this.showCloneHandles=!0,this.getShape=e=>_.deepMerge({id:"id",type:j.Sticky,name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:m4},e),this.Component=bt.Component(({shape:e,meta:t,events:n,isGhost:r,isEditing:o,onShapeBlur:i,onShapeChange:s},a)=>{let l=sH(e.style),{color:c,fill:u}=Oy(e.style,t.isDarkMode),d=(0,Mt.useRef)(null),f=(0,Mt.useRef)(null),p=(0,Mt.useRef)(null),h=(0,Mt.useRef)(!1),m=(0,Mt.useCallback)(x=>{x.stopPropagation()},[]),v=(0,Mt.useCallback)(x=>{s==null||s({id:e.id,type:e.type,text:T.normalizeText(x.currentTarget.value)})},[s]),C=(0,Mt.useCallback)(x=>{if(x.key!=="Escape"){if(x.key==="Tab"&&e.text.length===0){x.preventDefault();return}if(!(x.key==="Meta"||x.metaKey))x.stopPropagation();else if(x.key==="z"&&x.metaKey){x.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),x.stopPropagation(),x.preventDefault();return}x.key==="Tab"&&(x.preventDefault(),x.shiftKey?Zn.unindent(x.currentTarget):Zn.indent(x.currentTarget),s==null||s(k(S({},e),{text:T.normalizeText(x.currentTarget.value)})))}},[e,s]),g=(0,Mt.useCallback)(x=>{x.currentTarget.setSelectionRange(0,0),i==null||i()},[]),b=(0,Mt.useCallback)(x=>{!o||!h.current||x.currentTarget.select()},[o]);(0,Mt.useEffect)(()=>{if(o){h.current=!0;let x=f.current;x.focus(),x.select()}},[o]),(0,Mt.useEffect)(()=>{let x=p.current,{size:L}=e,{offsetHeight:I}=x,E=_4-pi*2,O=L[1]-pi*2;if(I===O)return;if(I>E){s==null||s({id:e.id,size:[L[0],I+pi*2]});return}if(I<E&&L[1]>_4){s==null||s({id:e.id,size:[L[0],_4]});return}let P=f.current;P==null||P.focus()},[e.text,e.size[1],e.style]);let y={font:l,color:c,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return(0,Mt.createElement)(h5,S({ref:a},n),(0,Mt.createElement)(xH,{ref:d,isDarkMode:t.isDarkMode,isGhost:r,style:S({backgroundColor:u},y)},(0,Mt.createElement)(_H,{ref:p,isEditing:o,alignment:e.style.textAlign},e.text,"\u200B"),o&&(0,Mt.createElement)(SH,{ref:f,onPointerDown:m,value:e.text,onChange:v,onKeyDown:C,onFocus:b,onBlur:g,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:x4})))}),this.Indicator=bt.Indicator(({shape:e})=>{let{size:[t,n]}=e;return(0,Mt.createElement)("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,n)})}),this.getBounds=e=>p4(e,this.boundsCache),this.shouldRender=(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text,this.transform=(e,t,{scaleX:n,scaleY:r,transformOrigin:o})=>({point:w.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-o[0]:o[0]),t.minY+(t.height-e.size[1])*(r<0?1-o[1]:o[1])])}),this.transformSingle=e=>e,this.getSvgElement=e=>{let t=this.getBounds(e),n=Ny(e,t),r=Oy(e.style);n.setAttribute("fill",r.color);let o=document.createElementNS("http://www.w3.org/2000/svg","g"),i=document.createElementNS("http://www.w3.org/2000/svg","rect");return i.setAttribute("width",t.width+""),i.setAttribute("height",t.height+""),i.setAttribute("fill",r.fill),o.appendChild(i),o.appendChild(n),o}}},pi=16,_4=200,xH=de("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:pi+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:S1}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),Zy={whiteSpace:"pre-wrap",overflowWrap:"break-word"},_H=de("div",S({position:"absolute",top:pi,left:pi,width:`calc(100% - ${pi*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{[We.Start]:{textAlign:"left"},[We.Middle]:{textAlign:"center"},[We.End]:{textAlign:"right"},[We.Justify]:{textAlign:"justify"}}}},Zy)),SH=de("textarea",k(S({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},Zy),{variants:{alignment:{[We.Start]:{textAlign:"left"},[We.Middle]:{textAlign:"center"},[We.End]:{textAlign:"right"},[We.Justify]:{textAlign:"justify"}}}})),LH=class extends bt{constructor(){super(...arguments);this.type=j.Text,this.isAspectRatioLocked=!0,this.canEdit=!0,this.canBind=!0,this.canClone=!0,this.getShape=e=>_.deepMerge({id:"id",type:j.Text,name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:m4},e),this.Component=bt.Component(({shape:e,isBinding:t,isGhost:n,isEditing:r,onShapeBlur:o,onShapeChange:i,meta:s,events:a},l)=>{let c=(0,Kt.useRef)(null),{text:u,style:d}=e,f=wn(d,s.isDarkMode),p=Ry(e.style),h=(0,Kt.useRef)(!1),m=(0,Kt.useCallback)(y=>{let x=[0,0],L=this.getBounds(e);switch(e.style.textAlign){case We.Start:break;case We.Middle:{let I=this.getBounds(k(S({},e),{text:T.normalizeText(y.currentTarget.value)}));x=w.div([I.width-L.width,0],2);break}case We.End:{x=[this.getBounds(k(S({},e),{text:T.normalizeText(y.currentTarget.value)})).width-L.width,0];break}}i==null||i(k(S({},e),{point:w.sub(e.point,x),text:T.normalizeText(y.currentTarget.value)}))},[e]),v=(0,Kt.useCallback)(y=>{if(!(y.key==="Meta"||y.metaKey))y.stopPropagation();else if(y.key==="z"&&y.metaKey){y.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),y.stopPropagation(),y.preventDefault();return}if(y.key==="Escape"||y.key==="Enter"&&(y.ctrlKey||y.metaKey)){y.currentTarget.blur();return}y.key==="Tab"&&(y.preventDefault(),y.shiftKey?Zn.unindent(y.currentTarget):Zn.indent(y.currentTarget),i==null||i(k(S({},e),{text:T.normalizeText(y.currentTarget.value)})))},[e,i]),C=(0,Kt.useCallback)(y=>{y.currentTarget.setSelectionRange(0,0),o==null||o()},[]),g=(0,Kt.useCallback)(y=>{!r||!h.current||document.activeElement===y.currentTarget&&y.currentTarget.select()},[r]),b=(0,Kt.useCallback)(y=>{r&&y.stopPropagation()},[r]);return(0,Kt.useEffect)(()=>{r?requestAnimationFrame(()=>{h.current=!0;let y=c.current;y&&(y.focus(),y.select())}):o==null||o()},[r]),(0,Kt.createElement)(h5,S({ref:l},a),(0,Kt.createElement)(IH,{isGhost:n,isEditing:r,onPointerDown:b},(0,Kt.createElement)(MH,{style:{font:p,color:f.stroke,textAlign:jy(d.textAlign)}},t&&(0,Kt.createElement)("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-zt,left:-zt,width:`calc(100% + ${zt*2}px)`,height:`calc(100% + ${zt*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),r?(0,Kt.createElement)(RH,{ref:c,style:{font:p,color:f.stroke,textAlign:"inherit"},name:"text",defaultValue:u,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",color:f.stroke,onFocus:g,onChange:m,onKeyDown:v,onBlur:C,onPointerDown:b,spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",onContextMenu:x4}):u,"\u200B")))}),this.Indicator=bt.Indicator(({shape:e})=>{let{width:t,height:n}=this.getBounds(e);return(0,Kt.createElement)("rect",{x:0,y:0,width:t,height:n})}),this.getBounds=e=>{let t=_.getFromCache(this.boundsCache,e,()=>{if(!ha)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};ha.innerHTML=`${e.text}&zwj;`,ha.style.font=Ry(e.style);let n=ha.offsetWidth||1,r=ha.offsetHeight||1;return{minX:0,maxX:n,minY:0,maxY:r,width:n,height:r}});return _.translateBounds(t,e.point)},this.shouldRender=(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style,this.transform=(e,t,{initialShape:n,scaleX:r,scaleY:o})=>{let{rotation:i=0,style:{scale:s=1}}=n,a=s*Math.abs(Math.min(r,o));return{point:[t.minX,t.minY],rotation:r<0&&o>=0||o<0&&r>=0?-(i||0):i,style:k(S({},n.style),{scale:a})}},this.transformSingle=(e,t,{initialShape:n,scaleX:r,scaleY:o})=>{let{style:{scale:i=1}}=n;return{point:w.toFixed([t.minX,t.minY]),style:k(S({},n.style),{scale:i*Math.max(Math.abs(o),Math.abs(r))})}},this.onDoubleClickBoundsHandle=e=>{let t=this.getCenter(e),n=this.getCenter(k(S({},e),{style:k(S({},e.style),{scale:1})}));return{style:k(S({},e.style),{scale:1}),point:w.toFixed(w.add(e.point,w.sub(t,n)))}},this.getSvgElement=e=>{let t=this.getBounds(e),n=Ny(e,t);return n.setAttribute("fill",wn(e.style).stroke),n}}},$y=-1.5,ha;function EH(){var e;(e=document.getElementById("__textMeasure"))==null||e.remove();let t=document.createElement("pre");return t.id="__textMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:`${$y}px`,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}typeof window!="undefined"&&(ha=EH());var IH=de("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:S1}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),Fy={whiteSpace:"pre-wrap",overflowWrap:"break-word"},MH=de("div",S({position:"absolute",top:"var(--tl-padding)",left:"var(--tl-padding)",width:"calc(100% - (var(--tl-padding) * 2))",height:"calc(100% - (var(--tl-padding) * 2))",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1.4,letterSpacing:$y,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},Fy)),RH=de("textarea",S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},Fy)),OH={easing:e=>Math.sin(e*Math.PI/2),simulatePressure:!0},PH={easing:e=>e*e,simulatePressure:!1};function S4(e){let t=wn(e.style);return k(S({size:1+t.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},e.points[1][2]===.5?OH:PH),{last:e.isComplete})}function kH(e){return e.points.length<2?"":_.getSvgPathFromStroke(vo(e.points,S4(e)).map(t=>t.point))}function Uy(e,t){return vo(e.points,t)}function HH(e){if(e.points.length<2)return"";let t=S4(e),n=Uy(e,t),r=c0(n,t);return _.getSvgPathFromStroke(r)}function zy(e){let{points:t}=e;if(t.length<2)return"M 0 0 L 0 0";let n=S4(e),r=Uy(e,n).map(o=>o.point.slice(0,2));return _.getSvgPathFromStroke(r,!1)}var TH=class extends bt{constructor(){super(...arguments);this.type=j.Draw,this.pointsBoundsCache=new WeakMap([]),this.shapeBoundsCache=new Map,this.rotatedCache=new WeakMap([]),this.pointCache={},this.canClone=!0,this.getShape=e=>_.deepMerge({id:"id",type:j.Draw,name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:fi,points:[],isComplete:!1},e),this.Component=bt.Component(({shape:e,meta:t,isGhost:n,events:r},o)=>{let{points:i,style:s,isComplete:a}=e,l=(0,tn.useMemo)(()=>kH(e),[i,s.size]),c=(0,tn.useMemo)(()=>s.dash===gt.Draw?HH(e):zy(e),[i,s.size,s.dash,a]),u=wn(s,t.isDarkMode),{stroke:d,fill:f,strokeWidth:p}=u,h=this.getBounds(e);if(h.width<=p/2&&h.height<=p/2){let b=1+p;return(0,tn.createElement)(Ft,S({ref:o,id:e.id+"_svg"},r),(0,tn.createElement)("circle",{r:b,fill:d,stroke:d,pointerEvents:"all",opacity:n?S1:1}))}let m=s.isFilled&&i.length>3&&w.dist(i[0],i[i.length-1])<p*2;if(e.style.dash===gt.Draw)return(0,tn.createElement)(Ft,S({ref:o,id:e.id+"_svg"},r),(0,tn.createElement)("g",{opacity:n?S1:1},m&&(0,tn.createElement)("path",{d:l,stroke:"none",fill:f,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"fill"}),(0,tn.createElement)("path",{d:c,fill:d,stroke:d,strokeWidth:p/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"all"})));let v={[gt.Draw]:"none",[gt.Solid]:"none",[gt.Dotted]:`0.1 ${p*4}`,[gt.Dashed]:`${p*4} ${p*4}`}[s.dash],C={[gt.Draw]:"none",[gt.Solid]:"none",[gt.Dotted]:"0",[gt.Dashed]:"0"}[s.dash],g=1+p*1.5;return(0,tn.createElement)(Ft,S({ref:o,id:e.id+"_svg"},r),(0,tn.createElement)("g",{opacity:n?S1:1},(0,tn.createElement)("path",{d:c,fill:m?f:"none",stroke:"none",strokeWidth:Math.min(4,p*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:m?"all":"stroke"}),(0,tn.createElement)("path",{d:c,fill:"none",stroke:d,strokeWidth:g,strokeDasharray:v,strokeDashoffset:C,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"stroke"})))}),this.Indicator=bt.Indicator(({shape:e})=>{let{points:t}=e,n=(0,tn.useMemo)(()=>zy(e),[t]),r=this.getBounds(e);return r.width<4&&r.height<4?(0,tn.createElement)("circle",{x:r.width/2,y:r.height/2,r:1}):(0,tn.createElement)("path",{d:n})}),this.transform=(e,t,{initialShape:n,scaleX:r,scaleY:o})=>{let i=_.getFromCache(this.boundsCache,n,()=>_.getBoundsFromPoints(n.points)),s=n.points.map(([c,u,d])=>[t.width*(r<0?1-c/i.width:c/i.width),t.height*(o<0?1-u/i.height:u/i.height),d]),a=_.getBoundsFromPoints(e.points),l=w.sub([t.minX,t.minY],[a.minX,a.minY]);return{points:s,point:l}},this.getBounds=e=>{let t=!this.pointsBoundsCache.has(e.points),n=this.pointCache[e.id]!==e.point;if(t){let r=_.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,r),this.shapeBoundsCache.set(e.id,_.translateBounds(r,e.point)),this.pointCache[e.id]=e.point}else n&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,_.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)},this.shouldRender=(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete,this.hitTestPoint=(e,t)=>{let n=w.sub(t,e.point);return _.pointInPolyline(n,e.points)},this.hitTestLineSegment=(e,t,n)=>{let{points:r,point:o}=e,i=w.sub(t,o),s=w.sub(n,o),a=this.getBounds(e);if(r.length<=2)return w.distanceToLineSegment(t,n,e.point)<4;if(Cs(i,s,a)){for(let l=1;l<r.length;l++)if(ms(r[l-1],r[l],i,s).didIntersect)return!0}return!1},this.hitTestBounds=(e,t)=>{if(!e.rotation){let o=this.getBounds(e);return _.boundsContain(t,o)||(_.boundsContain(o,t)||Mv(o,t).length>0)&&O7(_.translateBounds(t,w.neg(e.point)),e.points).length>0}let n=this.getRotatedBounds(e),r=_.getFromCache(this.rotatedCache,e,()=>{let o=_.getBoundsCenter(_.getBoundsFromPoints(e.points));return e.points.map(i=>w.rotWith(i,o,e.rotation||0))});return _.boundsContain(t,n)||O7(_.translateBounds(t,w.neg(e.point)),r).length>0}}},Ky=new aH,Wy=new dH,Xy=new TH,L4=new CH,VH=new LH,BH=new wH,E4=new bH,va={[j.Rectangle]:Ky,[j.Ellipse]:Wy,[j.Draw]:Xy,[j.Arrow]:L4,[j.Text]:VH,[j.Group]:BH,[j.Sticky]:E4},AH=e=>typeof e=="string"?va[e]:va[e.type],Yy=!1,ie=class{static getShapeUtil(e){return AH(e)}static getSelectedShapes(e,t){let n=ie.getPage(e,t);return ie.getSelectedIds(e,t).map(r=>n.shapes[r])}static screenToWorld(e,t){let n=ie.getPageState(e,e.appState.currentPageId).camera;return w.sub(w.div(t,n.zoom),n.point)}static getCameraZoom(e){return _.clamp(e,.1,5)}static getPage(e,t){return e.document.pages[t]}static getPageState(e,t){return e.document.pageStates[t]}static getSelectedIds(e,t){return ie.getPageState(e,t).selectedIds}static getShapes(e,t){return Object.values(ie.getPage(e,t).shapes)}static getCamera(e,t){return ie.getPageState(e,t).camera}static getShape(e,t,n){return ie.getPage(e,n).shapes[t]}static getCenter(e){return ie.getShapeUtil(e).getCenter(e)}static getBounds(e){return ie.getShapeUtil(e).getBounds(e)}static getRotatedBounds(e){return ie.getShapeUtil(e).getRotatedBounds(e)}static getSelectedBounds(e){return _.getCommonBounds(ie.getSelectedShapes(e,e.appState.currentPageId).map(t=>ie.getShapeUtil(t).getBounds(t)))}static getParentId(e,t,n){return ie.getShape(e,t,n).parentId}static getDocumentBranch(e,t,n){let r=ie.getShape(e,t,n);return r.children===void 0?[t]:[t,...r.children.flatMap(o=>ie.getDocumentBranch(e,o,n))]}static getSelectedBranchSnapshot(e,t,n){let r=ie.getPage(e,t),o=ie.getSelectedIds(e,t).flatMap(i=>ie.getDocumentBranch(e,i,t).map(s=>r.shapes[s])).filter(i=>!i.isLocked).map(_.deepClone);return n!==void 0?o.map(i=>S({id:i.id},n(i))):o}static getSelectedShapeSnapshot(e,t,n){let r=ie.getSelectedShapes(e,t).filter(o=>!o.isLocked).map(_.deepClone);return n!==void 0?r.map(o=>S({id:o.id},n(o))):r}static getAllEffectedShapeIds(e,t,n){let r=ie.getPage(e,n),o=new Set(t);return t.forEach(i=>{let s=r.shapes[i];function a(c){c.children!==void 0&&c.children.filter(u=>!o.has(u)).forEach(u=>{o.add(u),a(r.shapes[u])})}a(s);function l(c){let u=c.parentId;u!==r.id&&(o.has(u)||(o.add(u),l(r.shapes[u])))}l(s),o.forEach(c=>{Object.values(r.bindings).filter(u=>u.fromId===c||u.toId===c).forEach(u=>o.add(u.fromId===c?u.toId:u.fromId))})}),Array.from(o.values())}static updateBindings(e,t,n={},r={},o){let i=S({},ie.getPage(e,o));return Object.values(i.bindings).filter(s=>s.fromId===t||s.toId===t).reduce((s,a)=>(n[a.fromId]||(n[a.fromId]=_.deepClone(ie.getShape(s,a.fromId,o))),n[a.toId]||(n[a.toId]=_.deepClone(ie.getShape(s,a.toId,o))),ie.onBindingChange(ie.getShape(s,a.fromId,o),a,ie.getShape(s,a.toId,o)),r[a.fromId]=_.deepClone(ie.getShape(s,a.fromId,o)),r[a.toId]=_.deepClone(ie.getShape(s,a.toId,o)),s),e)}static getLinkedShapeIds(e,t,n,r=!0){let o=ie.getSelectedIds(e,t),i=ie.getPage(e,t),s=new Set(o),a=new Set,l=[...o],c=new Set(Object.values(i.shapes).filter(u=>{var d;return u.type===j.Arrow&&(u.handles.start.bindingId||((d=u.handles)==null?void 0:d.end.bindingId))}));for(;l.length;){let u=l.pop();if(!(u&&c.size))break;a.has(u)||(a.add(u),c.forEach(d=>{var f,p;let{handles:{start:{bindingId:h},end:{bindingId:m}}}=d,v=h?i.bindings[h]:null,C=m?i.bindings[m]:null,g=!1;v&&v.toId===u?(n==="center"?g=!0:((f=d.decorations)==null?void 0:f.start)&&C?g=n==="left":g=n==="right",g&&(r&&s.add(d.id),s.add(u),C&&(s.add(C.toId),l.push(C.toId)))):C&&C.toId===u&&(n==="center"?g=!0:((p=d.decorations)==null?void 0:p.end)&&v?g=n==="left":g=n==="right",g&&(r&&s.add(d.id),s.add(u),v&&(s.add(v.toId),l.push(v.toId)))),(!v||s.has(v.toId))&&(!C||s.has(C.toId))&&c.delete(d)}))}return Array.from(s.values())}static getChildIndexAbove(e,t,n){let r=e.document.pages[n],o=r.shapes[t],i;if(o.parentId===r.id)i=Object.values(r.shapes).filter(l=>l.parentId===r.id).sort((l,c)=>l.childIndex-c.childIndex);else{let l=r.shapes[o.parentId];if(!l.children)throw Error("No children in parent!");i=l.children.map(c=>r.shapes[c]).sort((c,u)=>c.childIndex-u.childIndex)}let s=i.indexOf(o),a=i[s+1];return a?a.childIndex:o.childIndex+1}static getBeforeShape(e,t){return Object.fromEntries(Object.keys(t).map(n=>[n,e[n]]))}static mutateShapes(e,t,n,r){let o={},i={};t.forEach((l,c)=>{let u=ie.getShape(e,l,r);if(u.isLocked)return;let d=n(u,c);d&&(o[l]=ie.getBeforeShape(u,d),i[l]=d)});let s=_.deepMerge(e,{document:{pages:{[e.appState.currentPageId]:{shapes:i}}}}),a=t.reduce((l,c)=>ie.updateBindings(l,c,o,i,r),s);return{before:o,after:i,data:a}}static createShapes(e,t,n){let r={document:{pages:{[n]:{shapes:S({},Object.fromEntries(t.flatMap(i=>{let s=[[i.id,void 0]];if(i.parentId!==n){let a=ie.getShape(e,i.parentId,n);if(!a.children)throw Error("No children in parent!");s.push([a.id,{children:a.children}])}return s})))}}}},o={document:{pages:{[n]:{shapes:{shapes:S({},Object.fromEntries(t.flatMap(i=>{let s=[[i.id,i]];if(i.parentId!==n){let a=ie.getShape(e,i.parentId,n);if(!a.children)throw Error("No children in parent!");s.push([a.id,{children:[...a.children,i.id]}])}return s})))}}}}};return{before:r,after:o}}static deleteShapes(e,t,n){n=n||e.appState.currentPageId;let r=ie.getPage(e,n),o=typeof t[0]=="string"?t:t.map(a=>a.id),i={document:{pages:{[n]:{shapes:S({},Object.fromEntries(o.flatMap(a=>{let l=r.shapes[a],c=[[l.id,l]];if(l.parentId!==n){let u=r.shapes[l.parentId];if(!u.children)throw Error("No children in parent!");c.push([u.id,{children:u.children}])}return c}))),bindings:S({},Object.fromEntries(Object.values(r.bindings).filter(a=>o.includes(a.fromId)||o.includes(a.toId)).map(a=>[a.id,a])))}}}},s={document:{pages:{[n]:{shapes:S({},Object.fromEntries(o.flatMap(a=>{let l=r.shapes[a],c=[[l.id,void 0]];if(l.parentId!==r.id){let u=r.shapes[l.parentId];if(!u.children)throw Error("No children in parent!");c.push([u.id,{children:u.children.filter(d=>d!==l.id)}])}return c})))}}}};return{before:i,after:s}}static onSessionComplete(e){var t,n;let r=(n=(t=ie.getShapeUtil(e)).onSessionComplete)==null?void 0:n.call(t,e);return r?S(S({},e),r):e}static onChildrenChange(e,t,n){var r,o;if(!t.children)return;let i=(o=(r=ie.getShapeUtil(t)).onChildrenChange)==null?void 0:o.call(r,t,t.children.map(s=>ie.getShape(e,s,n)));return i?S(S({},t),i):t}static onBindingChange(e,t,n){var r,o;let i=(o=(r=ie.getShapeUtil(e)).onBindingChange)==null?void 0:o.call(r,e,t,n,ie.getShapeUtil(n).getBounds(n),ie.getShapeUtil(n).getCenter(n));return i?S(S({},e),i):e}static transform(e,t,n){let r=ie.getShapeUtil(e).transform(e,t,n);return r?S(S({},e),r):e}static transformSingle(e,t,n){let r=ie.getShapeUtil(e).transformSingle(e,t,n);return r?S(S({},e),r):e}static getRotatedShapeMutation(e,t,n,r){var o,i;let s=w.sub(t,e.point),a=w.rotWith(t,n,r),l=w.toFixed(w.sub(a,s));if(e.handles!==void 0)return(i=(o=this.getShapeUtil(e)).onHandleChange)==null?void 0:i.call(o,k(S({},e),{point:l}),Object.fromEntries(Object.entries(e.handles).map(([u,d])=>{let f=w.toFixed(w.rotWith(d.point,s,r));return[u,k(S({},d),{point:f})]})),{shiftKey:!1});let c=_.clampRadians((e.rotation||0)+r);return{point:l,rotation:c}}static updateParents(e,t,n){let r=ie.getPage(e,t);if(n.length===0)return;let{shapes:o}=ie.getPage(e,t),i=Array.from(new Set(n.map(s=>o[s].parentId).values())).filter(s=>s!==r.id);for(let s of i){let a=o[s];if(!a.children)throw Error("A shape is parented to a shape without a children array.");ie.onChildrenChange(e,a,t)}ie.updateParents(e,t,i)}static getBinding(e,t,n){return ie.getPage(e,n).bindings[t]}static getBindings(e,t){let n=ie.getPage(e,t);return Object.values(n.bindings)}static getBindableShapeIds(e){return ie.getShapes(e,e.appState.currentPageId).filter(t=>ie.getShapeUtil(t).canBind).sort((t,n)=>n.childIndex-t.childIndex).map(t=>t.id)}static getBindingsWithShapeIds(e,t,n){return Array.from(new Set(ie.getBindings(e,n).filter(r=>t.includes(r.toId)||t.includes(r.fromId))).values())}static getRelatedBindings(e,t,n){let r=new Set(t),o=ie.getPage(e,n),i=Object.values(o.bindings),s=new Set(i.filter(c=>r.has(c.toId)||r.has(c.fromId))),a=s.size,l=-1;for(;l!==0;)s.forEach(c=>{let u=c.fromId;for(let d of i)d.fromId===u&&s.add(d),d.toId===u&&s.add(d)}),l=s.size-a,a=s.size;return Array.from(s.values())}static normalizeText(e){return e.replace(ie.fixNewLines,`
`)}static assertShapeHasProperty(e,t){if(e[t]===void 0)throw new Error}static warn(e){Yy&&console.warn(e)}static error(e){Yy&&console.error(e)}},T=ie;T.copyStringToClipboard=e=>{try{navigator.clipboard.writeText(e)}catch{let n=document.createElement("textarea");n.setAttribute("position","fixed"),n.setAttribute("top","0"),n.setAttribute("readonly","true"),n.setAttribute("contenteditable","true"),n.style.position="fixed",n.value=e,document.body.appendChild(n),n.focus(),n.select();try{let r=document.createRange();r.selectNodeContents(n);let o=window.getSelection();o&&(o.removeAllRanges(),o.addRange(r),n.setSelectionRange(0,n.value.length))}catch{}finally{document.body.removeChild(n)}}},T.flattenShape=(e,t)=>{var n;return[t,...((n=t.children)!=null?n:[]).map(r=>ie.getShape(e,r,e.appState.currentPageId)).sort((r,o)=>r.childIndex-o.childIndex).flatMap(r=>ie.flattenShape(e,r))]},T.flattenPage=(e,t)=>Object.values(e.document.pages[t].shapes).sort((n,r)=>n.childIndex-r.childIndex).reduce((n,r)=>[...n,...ie.flattenShape(e,r)],[]),T.getTopChildIndex=(e,t)=>{let n=ie.getShapes(e,t);return n.length===0?1:n.filter(r=>r.parentId===t).sort((r,o)=>o.childIndex-r.childIndex)[0].childIndex+1},T.fixNewLines=/\r?\n|\r/g;function DH(e,t,n){let{currentPageId:r}=e,o=t.map(f=>e.getShape(f)),i=o.map(f=>({id:f.id,point:[...f.point],bounds:T.getBounds(f)})),s=_.getCommonBounds(i.map(({bounds:f})=>f)),a=s.minX+s.width/2,l=s.minY+s.height/2,c=Object.fromEntries(i.map(({id:f,point:p,bounds:h})=>[f,{prev:p,next:{[It.CenterVertical]:[p[0],l-h.height/2],[It.CenterHorizontal]:[a-h.width/2,p[1]],[It.Top]:[p[0],s.minY],[It.Bottom]:[p[0],s.maxY-h.height],[It.Left]:[s.minX,p[1]],[It.Right]:[s.maxX-h.width,p[1]]}[n]}])),{before:u,after:d}=T.mutateShapes(e.state,t,f=>c[f.id]?{point:c[f.id].next}:f,r);return o.forEach(f=>{if(f.type===j.Group){let p=w.sub(d[f.id].point,u[f.id].point);f.children.forEach(h=>{let m=e.getShape(h);u[m.id]={point:m.point},d[m.id]={point:w.add(m.point,p)}}),delete u[f.id],delete d[f.id]}}),{id:"align",before:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:d}},pageStates:{[r]:{selectedIds:t}}}}}}function jH(e,t){return{id:"change_page",before:{appState:{currentPageId:e.currentPageId}},after:{appState:{currentPageId:t}}}}function NH(e,t,n=_.uniqueId()){let{currentPageId:r}=e,o=Object.values(e.state.document.pages).sort((l,c)=>(c.childIndex||0)-(l.childIndex||0))[0],i=(o==null?void 0:o.childIndex)?(o==null?void 0:o.childIndex)+1:1,s={id:n,name:"New Page",childIndex:i,shapes:{},bindings:{}},a={id:n,selectedIds:[],camera:{point:t,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:r},document:{pages:{[n]:void 0},pageStates:{[n]:void 0}}},after:{appState:{currentPageId:s.id},document:{pages:{[n]:s},pageStates:{[n]:a}}}}}function Gy(e,t,n=[]){let{currentPageId:r}=e,o={},i={};t.forEach(l=>{o[l.id]=void 0,i[l.id]=l});let s={},a={};return n.forEach(l=>{s[l.id]=void 0,a[l.id]=l}),{id:"create",before:{document:{pages:{[r]:{shapes:o,bindings:s}},pageStates:{[r]:{selectedIds:[...e.selectedIds]}}}},after:{document:{pages:{[r]:{shapes:i,bindings:a}},pageStates:{[r]:{selectedIds:t.map(l=>l.id)}}}}}}function ZH(e,t){let{currentPageId:n,document:{pages:r,pageStates:o}}=e,i=Object.values(r).sort((l,c)=>(l.childIndex||0)-(c.childIndex||0)),s=i.findIndex(l=>l.id===t),a;return t===n?s===i.length-1?a=i[i.length-2].id:a=i[s+1].id:a=n,{id:"delete_page",before:{appState:{currentPageId:t},document:{pages:{[t]:S({},r[t])},pageStates:{[t]:S({},o[t])}}},after:{appState:{currentPageId:a},document:{pages:{[t]:void 0},pageStates:{[t]:void 0}}}}}function $H(e,t,n){let r={shapes:{},bindings:{}},o={shapes:{},bindings:{}},i=[],s=new Set;t.filter(l=>!T.getShape(e,l,n).isLocked).forEach(l=>{s.add(l);let c=T.getShape(e,l,n);r.shapes[l]=c,o.shapes[l]=void 0,c.children!==void 0&&c.children.forEach(u=>{s.add(u);let d=T.getShape(e,u,n);r.shapes[u]=d,o.shapes[u]=void 0}),c.parentId!==n&&i.push(T.getShape(e,c.parentId,n))}),i.forEach(l=>{var c;t.includes(l.id)||(s.add(l.id),r.shapes[l.id]={children:l.children},o.shapes[l.id]={children:l.children.filter(u=>!t.includes(u))},((c=o.shapes[l.id])==null?void 0:c.children.length)===0&&(o.shapes[l.id]=void 0,r.shapes[l.id]=T.getShape(e,l.id,n)))});let a=T.getPage(e,n);return Object.values(a.bindings).filter(l=>s.has(l.fromId)||s.has(l.toId)).forEach(l=>{for(let c of[l.toId,l.fromId])if(o.shapes[c]===void 0){r.bindings[l.id]=l,o.bindings[l.id]=void 0;let u=a.shapes[c];u&&u.handles&&Object.values(u.handles).filter(d=>d.bindingId===l.id).forEach(d=>{var f,p,h,m,v,C;r.shapes[c]=k(S({},r.shapes[c]),{handles:k(S({},(f=r.shapes[c])==null?void 0:f.handles),{[d.id]:k(S({},(h=(p=r.shapes[c])==null?void 0:p.handles)==null?void 0:h[d.id]),{bindingId:l.id})})}),s.has(c)||(o.shapes[c]=k(S({},o.shapes[c]),{handles:k(S({},(m=o.shapes[c])==null?void 0:m.handles),{[d.id]:k(S({},(C=(v=o.shapes[c])==null?void 0:v.handles)==null?void 0:C[d.id]),{bindingId:void 0})})}))})}}),{before:r,after:o}}function qy(e,t,n=e.currentPageId){let{pageState:r,selectedIds:o}=e,{before:i,after:s}=$H(e.state,t,n);return{id:"delete",before:{document:{pages:{[n]:i},pageStates:{[n]:{selectedIds:[...e.selectedIds]}}}},after:{document:{pages:{[n]:s},pageStates:{[n]:{selectedIds:o.filter(a=>!t.includes(a)),hoveredId:r.hoveredId&&t.includes(r.hoveredId)?void 0:r.hoveredId}}}}}}function FH(e,t,n){let{currentPageId:r}=e,o=t.map(l=>e.getShape(l)),i=Object.fromEntries(UH(o,n).map(l=>[l.id,l])),{before:s,after:a}=T.mutateShapes(e.state,t.filter(l=>i[l]!==void 0),l=>({point:i[l.id].next}),r);return o.forEach(l=>{if(l.type===j.Group){let c=Y.sub(a[l.id].point,s[l.id].point);l.children.forEach(u=>{let d=e.getShape(u);s[d.id]={point:d.point},a[d.id]={point:Y.add(d.point,c)}}),delete s[l.id],delete a[l.id]}}),{id:"distribute",before:{document:{pages:{[r]:{shapes:s}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:a}},pageStates:{[r]:{selectedIds:t}}}}}}function UH(e,t){let n=e.map(s=>{let a=T.getShapeUtil(s);return{id:s.id,point:[...s.point],bounds:a.getBounds(s),center:a.getCenter(s)}}),r=n.length,o=_.getCommonBounds(n.map(({bounds:s})=>s)),i=[];switch(t){case _o.Horizontal:{let s=n.reduce((a,l)=>a+l.bounds.width,0);if(s>o.width){let a=n.sort((f,p)=>f.bounds.minX-p.bounds.minX)[0],l=n.sort((f,p)=>p.bounds.maxX-f.bounds.maxX)[0],c=n.filter(f=>f!==a&&f!==l).sort((f,p)=>f.center[0]-p.center[0]),u=(l.center[0]-a.center[0])/(r-1),d=a.center[0]+u;c.forEach(({id:f,point:p,bounds:h},m)=>{i.push({id:f,prev:p,next:[d+u*m-h.width/2,h.minY]})})}else{let a=n.sort((u,d)=>u.center[0]-d.center[0]),l=o.minX,c=(o.width-s)/(r-1);a.forEach(({id:u,point:d,bounds:f})=>{i.push({id:u,prev:d,next:[l,f.minY]}),l+=f.width+c})}break}case _o.Vertical:{let s=n.reduce((a,l)=>a+l.bounds.height,0);if(s>o.height){let a=n.sort((f,p)=>f.bounds.minY-p.bounds.minY)[0],l=n.sort((f,p)=>p.bounds.maxY-f.bounds.maxY)[0],c=n.filter(f=>f!==a&&f!==l).sort((f,p)=>f.center[1]-p.center[1]),u=(l.center[1]-a.center[1])/(r-1),d=a.center[1]+u;c.forEach(({id:f,point:p,bounds:h},m)=>{i.push({id:f,prev:p,next:[h.minX,d+u*m-h.height/2]})})}else{let a=n.sort((u,d)=>u.center[1]-d.center[1]),l=o.minY,c=(o.height-s)/(r-1);a.forEach(({id:u,point:d,bounds:f})=>{i.push({id:u,prev:d,next:[f.minX,l]}),l+=f.height+c})}break}}return i}function zH(e,t){let n=_.uniqueId(),{currentPageId:r,page:o,pageState:{camera:i}}=e,s=k(S({},o),{id:n,name:o.name+" Copy",shapes:Object.fromEntries(Object.entries(o.shapes).map(([a,l])=>[a,k(S({},l),{parentId:l.parentId===t?n:l.parentId})]))});return{id:"duplicate_page",before:{appState:{currentPageId:r},document:{pages:{[n]:void 0},pageStates:{[n]:void 0}}},after:{appState:{currentPageId:n},document:{pages:{[n]:s},pageStates:{[n]:k(S({},o),{id:n,selectedIds:[],camera:S({},i),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}function KH(e,t,n){let{selectedIds:r,currentPageId:o,page:i,shapes:s}=e,a={shapes:{},bindings:{}},l={shapes:{},bindings:{}},c={},u=t.map(p=>e.getShape(p)).filter(p=>!t.includes(p.parentId));u.forEach(p=>{let h=_.uniqueId();if(a.shapes[h]=void 0,l.shapes[h]=k(S({},_.deepClone(p)),{id:h,childIndex:T.getChildIndexAbove(e.state,p.id,o)}),p.children&&(l.shapes[h].children=[]),p.parentId!==o){let m=e.getShape(p.parentId);a.shapes[m.id]=k(S({},a.shapes[m.id]),{children:m.children}),l.shapes[m.id]=k(S({},l.shapes[m.id]),{children:[...(l.shapes[m.id]||m).children,h]})}c[p.id]=h}),u.forEach(p=>{p.children&&p.children.forEach(h=>{var m,v;let C=e.getShape(h),g=_.uniqueId(),b=c[p.id];a.shapes[g]=void 0,l.shapes[g]=k(S({},_.deepClone(C)),{id:g,parentId:b,childIndex:T.getChildIndexAbove(e.state,C.id,o)}),c[h]=g,(v=(m=l.shapes[c[p.id]])==null?void 0:m.children)==null||v.push(g)})});let d=new Set(Object.keys(c));Object.values(i.bindings).filter(p=>d.has(p.fromId)||d.has(p.toId)).forEach(p=>{if(d.has(p.fromId))if(d.has(p.toId)){let h=_.uniqueId(),m=k(S({},_.deepClone(p)),{id:h,fromId:c[p.fromId],toId:c[p.toId]});a.bindings[h]=void 0,l.bindings[h]=m;let v=l.shapes[m.fromId];Object.values(v.handles).forEach(C=>{C.bindingId===p.id&&(C.bindingId=h)})}else{let h=l.shapes[c[p.fromId]];Object.values(h.handles).forEach(m=>{m.bindingId===p.id&&(m.bindingId=void 0)})}});let f=Object.values(l.shapes);if(n){let p=_.getCommonBounds(f.map(m=>T.getBounds(m))),h=_.getBoundsCenter(p);f.forEach(m=>{!m.point||(m.point=w.sub(n,w.sub(h,m.point)))})}else{let p=[16,16];f.forEach(h=>{!h.point||(h.point=w.add(h.point,p))})}return f.forEach(p=>{p.isLocked&&(p.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[o]:a},pageStates:{[o]:{selectedIds:r}}}},after:{document:{pages:{[o]:l},pageStates:{[o]:{selectedIds:Array.from(d.values()).map(p=>c[p])}}}}}}function Qy(e,t,n){let{selectedIds:r,currentPageId:o,shapes:i}=e,s=i.map(u=>T.getBounds(u)),a=_.getCommonBounds(s),{before:l,after:c}=T.mutateShapes(e.state,t,u=>{let d=T.getBounds(u);switch(n){case ua.Horizontal:{let f=_.getRelativeTransformedBoundingBox(a,a,d,!0,!1);return T.getShapeUtil(u).transform(u,f,{type:ne.TopLeft,scaleX:-1,scaleY:1,initialShape:u,transformOrigin:[.5,.5]})}case ua.Vertical:{let f=_.getRelativeTransformedBoundingBox(a,a,d,!1,!0);return T.getShapeUtil(u).transform(u,f,{type:ne.TopLeft,scaleX:1,scaleY:-1,initialShape:u,transformOrigin:[.5,.5]})}}},o);return{id:"flip",before:{document:{pages:{[o]:{shapes:l}},pageStates:{[o]:{selectedIds:r}}}},after:{document:{pages:{[o]:{shapes:c}},pageStates:{[o]:{selectedIds:t}}}}}}function WH(e,t,n,r){var o,i;let s={},a={},l={},c={},u=[...t],d=[],f=[],p=[];for(let x of t){let L=e.getShape(x);if(!L.isLocked)if(L.children===void 0)d.push(L);else{let I=L.children.filter(E=>!e.getShape(E).isLocked);p.push(L),u.push(...I),d.push(...I.map(E=>e.getShape(E)))}}if(d.every(x=>x.parentId===d[0].parentId)&&d[0].parentId!==r&&((o=e.getShape(d[0].parentId).children)==null?void 0:o.length)===u.length)return;let h=T.flattenPage(e.state,r),m=Object.fromEntries(d.map(x=>[x.id,h.indexOf(x)])),v=d.sort((x,L)=>m[x.id]-m[L.id]),C=r,g=(v.filter(x=>x.parentId===r)[0]||v[0]).childIndex,b=_.getCommonBounds(d.map(x=>T.getBounds(x)));for(s[n]=void 0,a[n]=T.getShapeUtil(j.Group).create({id:n,childIndex:g,parentId:C,point:[b.minX,b.minY],size:[b.width,b.height],children:v.map(x=>x.id)}),v.forEach((x,L)=>{if(x.parentId!==r){let I=e.getShape(x.parentId);p.push(I)}s[x.id]=k(S({},s[x.id]),{parentId:x.parentId,childIndex:x.childIndex}),a[x.id]=k(S({},a[x.id]),{parentId:n,childIndex:L+1})});p.length>0;){let x=p.pop();if(!x)break;let L=(((i=s[x.id])==null?void 0:i.children)||x.children).filter(I=>I&&!(u.includes(I)||f.includes(I)));L.length===0?(s[x.id]=x,a[x.id]=void 0,x.parentId!==r&&(f.push(x.id),p.push(e.getShape(x.parentId)))):(s[x.id]=k(S({},s[x.id]),{children:x.children}),a[x.id]=k(S({},a[x.id]),{children:L}))}let{bindings:y}=e;return y.forEach(x=>{for(let L of[x.toId,x.fromId])if(a[L]===void 0){l[x.id]=x,c[x.id]=void 0;let I=e.getShape(L);I.handles&&Object.values(I.handles).filter(E=>E.bindingId===x.id).forEach(E=>{var O,P;s[L]=k(S({},s[L]),{handles:k(S({},(O=s[L])==null?void 0:O.handles),{[E.id]:{bindingId:x.id}})}),f.includes(L)||(a[L]=k(S({},a[L]),{handles:k(S({},(P=a[L])==null?void 0:P.handles),{[E.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[r]:{shapes:s,bindings:l}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:a,bindings:l}},pageStates:{[r]:{selectedIds:[n]}}}}}}function XH(e,t,n,r,o){let{page:i}=e,s={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},a={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},l=new Set,c=new Set;t.map(g=>e.getShape(g,r)).filter(g=>!g.isLocked).forEach(g=>{l.add(g.id),c.add(g),g.children!==void 0&&g.children.forEach(b=>{l.add(b),c.add(e.getShape(b,r))})});let u=T.getTopChildIndex(e.state,o),d=Array.from(c.values());d.forEach((g,b)=>{if(s.before.shapes[g.id]=g,s.after.shapes[g.id]=void 0,a.before.shapes[g.id]=void 0,a.after.shapes[g.id]=g,!l.has(g.parentId)&&(a.after.shapes[g.id]=k(S({},g),{parentId:o,childIndex:u+b}),g.parentId!==r)){let y=e.getShape(g.parentId,r);s.before.shapes[y.id]={children:y.children},s.after.shapes[y.id]={children:y.children.filter(x=>x!==g.id)}}}),Object.values(i.bindings).filter(g=>l.has(g.fromId)||l.has(g.toId)).forEach(g=>{s.before.bindings[g.id]=g,s.after.bindings[g.id]=void 0;let b=e.getShape(g.fromId,r);if(l.has(g.fromId)&&l.has(g.toId))a.before.bindings[g.id]=void 0,a.after.bindings[g.id]=g;else if(l.has(g.fromId)){let y=e.getShape(g.fromId,r),x=Object.values(b.handles).find(I=>I.bindingId===g.id).id,L=a.after.shapes[y.id];L.handles=k(S({},L.handles),{[x]:k(S({},L.handles[x]),{bindingId:void 0})})}else{let y=e.getShape(g.fromId,r),x=Object.values(b.handles).find(L=>L.bindingId===g.id);s.before.shapes[y.id]={handles:{[x.id]:{bindingId:g.id}}},s.after.shapes[y.id]={handles:{[x.id]:{bindingId:void 0}}}}});let f=e.state.document.pageStates[o],p=_.getCommonBounds(d.map(g=>T.getBounds(g))),h=T.getCameraZoom(n.width<n.height?(n.width-128)/p.width:(n.height-128)/p.height),m=(n.width-p.width*h)/2/h,v=(n.height-p.height*h)/2/h,C=w.toFixed(w.add([-p.minX,-p.minY],[m,v]));return{id:"move_to_page",before:{appState:{currentPageId:r},document:{pages:{[r]:s.before,[o]:a.before},pageStates:{[r]:{selectedIds:t},[o]:{selectedIds:f.selectedIds,camera:f.camera}}}},after:{appState:{currentPageId:o},document:{pages:{[r]:s.after,[o]:a.after},pageStates:{[r]:{selectedIds:[]},[o]:{selectedIds:t,camera:{zoom:h,point:C}}}}}}}function wc(e,t,n){let{currentPageId:r,page:o}=e,i=new Set(t.map(u=>e.getShape(u).parentId)),s={before:{},after:{}},a,l,c;return Array.from(i.values()).forEach(u=>{let d=[];if(u===o.id)d=Object.values(o.shapes).sort((h,m)=>h.childIndex-m.childIndex);else{let h=e.getShape(u);if(!h.children)throw Error("No children in parent!");d=h.children.map(m=>e.getShape(m)).sort((m,v)=>m.childIndex-v.childIndex)}let f=d.map(h=>h.id),p=t.filter(h=>f.includes(h)).map(h=>f.indexOf(h)).sort((h,m)=>h-m);if(p.length!==f.length)switch(n){case Gr.ToBack:{for(let h=0;h<f.length;h++)if(!p.includes(h)){a=h;break}l=d[a].childIndex,c=l/(p.length+1),s=T.mutateShapes(e.state,p.map(h=>d[h].id).reverse(),(h,m)=>({childIndex:l-(m+1)*c}),r);break}case Gr.ToFront:{for(let h=f.length-1;h>=0;h--)if(!p.includes(h)){a=h;break}l=d[a].childIndex,c=1,s=T.mutateShapes(e.state,p.map(h=>d[h].id),(h,m)=>({childIndex:l+(m+1)}),r);break}case Gr.Backward:{let h={};for(let m=f.length-1;m>=0;m--)if(p.includes(m)){for(let v=m;v>=0;v--)if(!p.includes(v)){let C=d[v].childIndex,g,b;v===0?(g=C/2,b=C/2/(m-v+1)):(g=d[v-1].childIndex,b=(C-g)/(m-v+1),g+=b);for(let y=0;y<m-v;y++)h[d[v+y+1].id]=g+b*y;break}}Object.values(h).length>0&&(s=T.mutateShapes(e.state,p.map(m=>d[m].id),m=>({childIndex:h[m.id]}),r));break}case Gr.Forward:{let h={};for(let m=0;m<f.length;m++)if(p.includes(m)){for(let v=m;v<f.length;v++)if(!p.includes(v)){l=d[v].childIndex;let C=v===f.length-1?1:(d[v+1].childIndex-l)/(v-m+1);for(let g=0;g<v-m;g++)h[d[m+g].id]=l+C*(g+1);break}}Object.values(h).length>0&&(s=T.mutateShapes(e.state,p.map(m=>d[m].id),m=>({childIndex:h[m.id]}),r));break}}}),{id:"move",before:{document:{pages:{[r]:{shapes:s.before}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:s.after}},pageStates:{[r]:{selectedIds:t}}}}}}function YH(e,t,n){let{page:r}=e;return{id:"rename_page",before:{document:{pages:{[t]:{name:r.name}}}},after:{document:{pages:{[t]:{name:n}}}}}}function Jy(e,t,n){let{currentPageId:r}=e,{before:o,after:i}=T.mutateShapes(e.state,t,s=>{var a,l;return(l=(a=e.getShapeUtil(s)).onDoubleClickBoundsHandle)==null?void 0:l.call(a,s)},n);return{id:"reset_bounds",before:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:t}}}}}}var GH=Math.PI*2;function qH(e,t,n=-GH/4){let{currentPageId:r}=e,o={},i={},s=t.flatMap(l=>{let c=e.getShape(l);return c.children?c.children.map(u=>e.getShape(u)):c}).filter(l=>!l.isLocked),a=_.getBoundsCenter(_.getCommonBounds(s.map(l=>T.getBounds(l))));return s.forEach(l=>{let c=T.getRotatedShapeMutation(l,T.getCenter(l),a,n);!c||(o[l.id]=T.getBeforeShape(l,c),i[l.id]=c)}),{id:"rotate",before:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:t}}}}}}function QH(e,t,n){let{currentPageId:r,selectedIds:o}=e,i=t.map(d=>e.getShape(d)),s=i.map(d=>T.getBounds(d)),a=_.getCommonBounds(s),l=t.flatMap(d=>{let f=e.getShape(d);return f.children?f.children:f.id}).filter(d=>!e.getShape(d).isLocked),{before:c,after:u}=T.mutateShapes(e.state,l,d=>{let f=T.getBounds(d);switch(n){case xo.Horizontal:{let p=k(S({},f),{minX:a.minX,maxX:a.maxX,width:a.width});return T.getShapeUtil(d).transformSingle(d,p,{type:ne.TopLeft,scaleX:p.width/f.width,scaleY:1,initialShape:d,transformOrigin:[.5,.5]})}case xo.Vertical:{let p=k(S({},f),{minY:a.minY,maxY:a.maxY,height:a.height});return T.getShapeUtil(d).transformSingle(d,p,{type:ne.TopLeft,scaleX:1,scaleY:p.height/f.height,initialShape:d,transformOrigin:[.5,.5]})}}},r);return i.forEach(d=>{d.type===j.Group&&(delete c[d.id],delete u[d.id])}),{id:"stretch",before:{document:{pages:{[r]:{shapes:c}},pageStates:{[r]:{selectedIds:o}}}},after:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:t}}}}}}function JH(e,t,n){let{currentPageId:r,selectedIds:o}=e,i=t.flatMap(l=>T.getDocumentBranch(e.state,l,r)).filter(l=>!e.getShape(l).isLocked),s={},a={};return i.map(l=>e.getShape(l)).filter(l=>!l.isLocked).forEach(l=>{s[l.id]={style:S({},Object.fromEntries(Object.keys(n).map(c=>[c,l.style[c]])))},a[l.id]={style:n},l.type===j.Text&&(s[l.id].point=l.point,a[l.id].point=w.toFixed(w.add(l.point,w.sub(e.getShapeUtil(l).getCenter(l),e.getShapeUtil(l).getCenter(k(S({},l),{style:S(S({},l.style),n)}))))))}),{id:"style",before:{document:{pages:{[r]:{shapes:s}},pageStates:{[r]:{selectedIds:o}}},appState:{currentStyle:S({},e.appState.currentStyle)}},after:{document:{pages:{[r]:{shapes:a}},pageStates:{[r]:{selectedIds:t}}},appState:{currentStyle:n}}}}function eT(e,t,n){let{currentPageId:r,selectedIds:o}=e,i=Object.fromEntries(t.map(a=>{var l;return[a,{decorations:{[n]:(l=e.getShape(a).decorations)==null?void 0:l[n]}}]})),s=Object.fromEntries(t.filter(a=>!e.getShape(a).isLocked).map(a=>{var l;return[a,{decorations:{[n]:((l=e.getShape(a).decorations)==null?void 0:l[n])?void 0:di.Arrow}}]}));return{id:"toggle_decorations",before:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:o}}}},after:{document:{pages:{[r]:{shapes:s}},pageStates:{[r]:{selectedIds:t}}}}}}function I4(e,t,n){let{currentPageId:r}=e,o=t.map(l=>e.getShape(l)).filter(l=>n==="isLocked"?!0:!l.isLocked),i=o.every(l=>l[n]),s={},a={};return o.forEach(l=>{s[l.id]={[n]:l[n]},a[l.id]={[n]:!i}}),{id:"toggle",before:{document:{pages:{[r]:{shapes:s}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:a}},pageStates:{[r]:{selectedIds:t}}}}}}function tT(e,t,n){let{currentPageId:r,selectedIds:o}=e;e.rotationInfo.selectedIds=[...o];let i={shapes:{},bindings:{}},s={shapes:{},bindings:{}},a=t.flatMap(c=>{let u=e.getShape(c);return u.children?u.children:u.id}).filter(c=>!e.getShape(c).isLocked),l=T.mutateShapes(e.state,a,c=>({point:w.toFixed(w.add(c.point,n))}),r);return i.shapes=l.before,s.shapes=l.after,T.getBindings(e.state,r).filter(c=>t.includes(c.fromId)&&!t.includes(c.toId)).forEach(c=>{i.bindings[c.id]=c,s.bindings[c.id]=void 0;for(let u of[c.toId,c.fromId]){let d=e.getShape(u);!d.handles||Object.values(d.handles).filter(f=>f.bindingId===c.id).forEach(f=>{var p,h;i.shapes[u]=k(S({},i.shapes[u]),{handles:k(S({},(p=i.shapes[u])==null?void 0:p.handles),{[f.id]:{bindingId:c.id}})}),s.shapes[u]=k(S({},s.shapes[u]),{handles:k(S({},(h=s.shapes[u])==null?void 0:h.handles),{[f.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[r]:i},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:s},pageStates:{[r]:{selectedIds:t}}}}}}function nT(e,t,n,r){let{bindings:o}=e,i={},s={},a={},l={},c=t,u=t.filter(d=>!n.find(f=>f.id===d));return n.filter(d=>!d.isLocked).forEach(d=>{let f=[],p=[];i[d.id]=d,s[d.id]=void 0,d.children.forEach(v=>{u.push(v);let C=e.getShape(v,r);f.push(C)});let h=d.childIndex,m=(T.getChildIndexAbove(e.state,d.id,r)-h)/f.length;f.sort((v,C)=>v.childIndex-C.childIndex).forEach((v,C)=>{i[v.id]={parentId:v.parentId,childIndex:v.childIndex},s[v.id]={parentId:r,childIndex:h+m*C}}),o.filter(v=>v.toId===d.id||v.fromId===d.id).forEach(v=>{for(let C of[v.toId,v.fromId])if(s[C]===void 0){a[v.id]=v,l[v.id]=void 0;let g=e.getShape(C,r);g.handles&&Object.values(g.handles).filter(b=>b.bindingId===v.id).forEach(b=>{var y,x;i[C]=k(S({},i[C]),{handles:k(S({},(y=i[C])==null?void 0:y.handles),{[b.id]:{bindingId:v.id}})}),p.includes(C)||(s[C]=k(S({},s[C]),{handles:k(S({},(x=s[C])==null?void 0:x.handles),{[b.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[r]:{shapes:i,bindings:a}},pageStates:{[r]:{selectedIds:c}}}},after:{document:{pages:{[r]:{shapes:s,bindings:a}},pageStates:{[r]:{selectedIds:u}}}}}}function rT(e,t,n){let r=t.map(i=>i.id),o=T.mutateShapes(e.state,r.filter(i=>!e.getShape(i,n).isLocked),(i,s)=>t[s],n);return{id:"update",before:{document:{pages:{[n]:{shapes:o.before}}}},after:{document:{pages:{[n]:{shapes:o.after}}}}}}function oT(e,t,n){let{currentPageId:r,selectedIds:o}=e,i=t.map(c=>e.getShape(c)).filter(c=>n.isLocked?!0:!c.isLocked),s={},a={},l=Object.keys(n);return i.forEach(c=>{s[c.id]=Object.fromEntries(l.map(u=>[u,c[u]])),a[c.id]=n}),{id:"set_props",before:{document:{pages:{[r]:{shapes:s}},pageStates:{[r]:{selectedIds:o}}}},after:{document:{pages:{[r]:{shapes:a}},pageStates:{[r]:{selectedIds:o}}}}}}var qr=class{constructor(e){this.app=e}},iT=class extends qr{constructor(e,t,n,r=!1){super(e);this.type=xe.Arrow,this.status=yt.TranslatingHandle,this.newStartBindingId=_.uniqueId(),this.draggedBindingId=_.uniqueId(),this.didBind=!1,this.start=()=>{},this.update=()=>{var l,c,u;let{initialShape:d}=this,{currentPoint:f,shiftKey:p,altKey:h,metaKey:m,currentGrid:v,settings:{showGrid:C}}=this.app,g=this.app.getShape(d.id);if(g.isLocked)return;let b=g.handles,y=this.handleId;if(!b[y].canBind)return;let x=w.sub(f,b[y].point);if(p){let B=b[y==="start"?"end":"start"].point,q=b[y].point,Q=w.toFixed(w.sub(w.add(q,x),g.point)),re=w.angle(B,Q),W=w.rotWith(Q,B,_.snapAngleToSegments(re,24)-re);x=w.add(x,w.sub(W,Q))}let L=w.sub(w.add(b[y].point,x),g.point),I=k(S({},b[y]),{point:C?w.snap(L,v):w.toFixed(L),bindingId:void 0}),E=va[j.Arrow],O=(l=E.onHandleChange)==null?void 0:l.call(E,g,{[y]:I});if(!O)return;let P={shape:_.deepMerge(g,O),bindings:{}};if(this.initialBinding&&(P.bindings[this.initialBinding.id]=void 0),this.startBindingShapeId){let B,q=this.app.page.shapes[this.startBindingShapeId],Q=T.getShapeUtil(q);if(!m){let re=Q.getCenter(q),W=P.shape.handles.start,U=w.add(W.point,P.shape.point),ve=re,Me=w.uni(w.sub(U,ve));B=this.findBindingPoint(g,q,"start",this.newStartBindingId,re,ve,Me,!1)}if(B){this.didBind=!0,P.bindings[this.newStartBindingId]=B,P.shape.handles=k(S({},P.shape.handles),{start:k(S({},P.shape.handles.start),{bindingId:B.id})});let re=this.app.page.shapes[this.startBindingShapeId],W=T.getShapeUtil(re),U=(u=(c=T.getShapeUtil(P.shape.type)).onBindingChange)==null?void 0:u.call(c,P.shape,B,re,W.getBounds(re),W.getCenter(re));U&&Object.assign(P.shape,U)}else this.didBind=this.didBind||!1,this.app.page.bindings[this.newStartBindingId]&&(P.bindings[this.newStartBindingId]=void 0),g.handles.start.bindingId===this.newStartBindingId&&(P.shape.handles=k(S({},P.shape.handles),{start:k(S({},P.shape.handles.start),{bindingId:void 0})}))}let z;if(!m){let B=P.shape.handles[this.handleId],q=P.shape.handles[this.handleId==="start"?"end":"start"],Q=w.add(q.point,P.shape.point),re=w.add(B.point,P.shape.point),W=w.uni(w.sub(re,Q)),U=this.bindableShapeIds.map(ve=>this.app.page.shapes[ve]);for(let ve of U)if(z=this.findBindingPoint(g,ve,this.handleId,this.draggedBindingId,re,Q,W,h),z)break}if(z){this.didBind=!0,P.bindings[this.draggedBindingId]=z,P.shape.handles=k(S({},P.shape.handles),{[this.handleId]:k(S({},P.shape.handles[this.handleId]),{bindingId:this.draggedBindingId})});let B=this.app.page.shapes[z.toId],q=T.getShapeUtil(B),Q=va[j.Arrow].onBindingChange(P.shape,z,B,q.getBounds(B),q.getCenter(B));Q&&Object.assign(P.shape,Q)}else{this.didBind=this.didBind||!1;let B=g.handles[this.handleId].bindingId;B&&(P.bindings=k(S({},P.bindings),{[B]:void 0}),P.shape.handles=k(S({},P.shape.handles),{[this.handleId]:k(S({},P.shape.handles[this.handleId]),{bindingId:void 0})}))}return{document:{pages:{[this.app.currentPageId]:{shapes:{[g.id]:P.shape},bindings:P.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:P.shape.handles[y].bindingId}}}}},this.cancel=()=>{let{initialShape:l,initialBinding:c,newStartBindingId:u,draggedBindingId:d}=this,f={};return f[d]=void 0,c&&(f[c.id]=c),u&&(f[u]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[l.id]:this.isCreate?void 0:l},bindings:f}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[l.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}},this.complete=()=>{let{initialShape:l,initialBinding:c,newStartBindingId:u,startBindingShapeId:d,handleId:f}=this,p=T.onSessionComplete(this.app.page.shapes[l.id]),h=p.handles[f].bindingId;if(!(h||c)&&w.dist(p.handles.start.point,p.handles.end.point)<4)return this.cancel();let m={},v={};return c&&(m[c.id]=this.isCreate?void 0:c,v[c.id]=void 0),h&&(m[h]=void 0,v[h]=this.app.page.bindings[h]),d&&(m[u]=void 0,v[u]=this.app.page.bindings[u]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[l.id]:this.isCreate?void 0:l},bindings:m}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[l.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[l.id]:p},bindings:v}},pageStates:{[this.app.currentPageId]:{selectedIds:[l.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}},this.findBindingPoint=(l,c,u,d,f,p,h,m)=>{let v=T.getShapeUtil(c.type).getBindingPoint(c,l,f,p,h,zt,m);if(v)return{id:d,type:"arrow",fromId:l.id,toId:c.id,handleId:u,point:w.toFixed(v.point),distance:v.distance}};var o;this.isCreate=r;let{currentPageId:i}=e.state.appState,s=e.state.document.pages[i];this.handleId=n,this.initialShape=s.shapes[t],this.bindableShapeIds=T.getBindableShapeIds(e.state).filter(l=>!(l===this.initialShape.id||l===this.initialShape.parentId));let{originPoint:a}=this.app;if(this.isCreate)this.startBindingShapeId=(o=this.bindableShapeIds.map(l=>s.shapes[l]).find(l=>_.pointInBounds(a,T.getShapeUtil(l).getBounds(l))))==null?void 0:o.id;else{let l=this.initialShape.handles[this.handleId].bindingId;l?this.initialBinding=s.bindings[l]:this.initialShape.handles[this.handleId].bindingId=void 0}}},sT=class extends qr{constructor(e){super(e);this.type=xe.Brush,this.status=yt.Brushing,this.start=()=>{},this.update=()=>{let{initialSelectedIds:n,shapesToTest:r,app:{originPoint:o,currentPoint:i}}=this,s=_.getBoundsFromPoints([o,i]),a=new Set,l=new Set(n);r.forEach(({id:d,selectId:f})=>{let{metaKey:p}=this.app,h=this.app.getShape(d);if(!a.has(f)){let m=this.app.getShapeUtil(h);(p?_.boundsContain(s,m.getBounds(h)):m.hitTestBounds(h,s))?(a.add(f),l.has(f)||l.add(f)):l.has(f)&&l.delete(f)}});let c=this.app.selectedIds,u=l.size!==c.length||c.some(d=>!l.has(d))?Array.from(l.values()):c;return{document:{pageStates:{[this.app.currentPageId]:{brush:s,selectedIds:u}}}}},this.cancel=()=>({document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}}),this.complete=()=>({document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}});let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(n=>!(n.isLocked||n.isHidden||n.parentId!==t||this.initialSelectedIds.has(n.id)||this.initialSelectedIds.has(n.parentId))).map(n=>({id:n.id,bounds:this.app.getShapeUtil(n).getBounds(n),selectId:n.id}))}},aT=class extends qr{constructor(e,t){super(e);this.type=xe.Draw,this.status=yt.Creating,this.shiftedPoints=[],this.start=()=>{},this.update=()=>{let{shapeId:r}=this,{currentPoint:o,originPoint:i,shiftKey:s}=this.app;if(!this.lockedDirection&&this.points.length>1){let f=_.getBoundsFromPoints(this.points);(f.width>8||f.height>8)&&(this.lockedDirection=f.width>f.height?"horizontal":"vertical")}if(s){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let p=_.getBoundsFromPoints(this.points);this.lockedDirection=p.width>p.height?"horizontal":"vertical"}this.isLocked=!0;let f=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?f[0]=0:f[1]=0,this.points.push(f.concat(o[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?o[0]=i[0]:o[1]=i[1]);let a=w.toFixed(w.sub(o,i)).concat(o[2]);if(w.isEqual(this.lastAdjustedPoint,a))return;this.points.push(a),this.lastAdjustedPoint=a;let l=[...this.topLeft],c=[Math.min(this.topLeft[0],o[0]),Math.min(this.topLeft[1],o[1])],u=w.sub(c,i),d;return l[0]!==c[0]||l[1]!==c[1]?(this.topLeft=c,d=this.points.map(f=>w.toFixed(w.sub(f,u)).concat(f[2]))):d=[...this.shiftedPoints,w.sub(a,u).concat(a[2])],this.shiftedPoints=d,{document:{pages:{[this.app.currentPageId]:{shapes:{[r]:{point:this.topLeft,points:d}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[r]}}}}},this.cancel=()=>{let{shapeId:r}=this,o=this.app.currentPageId;return{document:{pages:{[o]:{shapes:{[r]:void 0}}},pageStates:{[o]:{selectedIds:[]}}}}},this.complete=()=>{let{shapeId:r}=this,o=this.app.currentPageId,i=this.app.getShape(r);return{id:"create_draw",before:{document:{pages:{[o]:{shapes:{[r]:void 0}}},pageStates:{[o]:{selectedIds:[]}}}},after:{document:{pages:{[o]:{shapes:{[r]:k(S({},i),{point:w.toFixed(i.point),points:i.points.map(s=>w.toFixed(s)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}};let{originPoint:n}=this.app;this.topLeft=[...n],this.shapeId=t,this.points=[[0,0,n[2]||.5]],this.shiftedPoints=[...this.points],this.lastAdjustedPoint=[0,0]}},lT=class extends qr{constructor(e,t,n,r="move_handle"){super(e);this.type=xe.Handle,this.status=yt.TranslatingHandle,this.shiftKey=!1,this.start=()=>{},this.update=()=>{var i,s;let{initialShape:a,app:{currentPageId:l,currentPoint:c,shiftKey:u,altKey:d,metaKey:f}}=this,p=this.app.getShape(a.id);if(p.isLocked)return;let h=p.handles,m=this.handleId,v=w.sub(c,h[m].point),C=k(S({},h[m]),{point:w.sub(w.add(h[m].point,v),p.point)}),g=(s=(i=T.getShapeUtil(p)).onHandleChange)==null?void 0:s.call(i,p,{[m]:C},{delta:v,shiftKey:u,altKey:d,metaKey:f});if(g)return{document:{pages:{[l]:{shapes:{[p.id]:g}}}}}},this.cancel=()=>{let{initialShape:i,app:{currentPageId:s}}=this;return{document:{pages:{[s]:{shapes:{[i.id]:i}}}}}},this.complete=()=>{let{initialShape:i,app:{currentPageId:s}}=this;return{id:this.commandId,before:{document:{pages:{[s]:{shapes:{[i.id]:i}}}}},after:{document:{pages:{[s]:{shapes:{[i.id]:T.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}};let{originPoint:o}=e;this.topLeft=[...o],this.handleId=n,this.initialShape=this.app.getShape(t),this.commandId=r}},cT=class extends qr{constructor(e){super(e);this.type=xe.Rotate,this.status=yt.Transforming,this.delta=[0,0],this.changes={},this.start=()=>{},this.update=()=>{let{commonBoundsCenter:i,initialShapes:s,app:{currentPageId:a,currentPoint:l,shiftKey:c}}=this,u={},d=w.angle(i,l)-this.initialAngle;return c&&(d=_.snapAngleToSegments(d,24)),s.forEach(({center:f,shape:p})=>{let{rotation:h=0}=p,m=0;c&&(m=_.snapAngleToSegments(h,24)-h);let v=T.getRotatedShapeMutation(p,f,i,c?d+m:d);v&&(u[p.id]=v)}),this.changes=u,{document:{pages:{[a]:{shapes:u}}}}},this.cancel=()=>{let{initialShapes:i,app:{currentPageId:s}}=this,a={};return i.forEach(({shape:l})=>a[l.id]=l),{document:{pages:{[s]:{shapes:a}}}}},this.complete=()=>{let{initialShapes:i,app:{currentPageId:s}}=this,a={},l=this.changes;return i.forEach(({shape:{id:c,point:u,rotation:d,handles:f}})=>{a[c]={point:u,rotation:d,handles:f}}),{id:"rotate",before:{document:{pages:{[s]:{shapes:a}}}},after:{document:{pages:{[s]:{shapes:l}}}}}};let{app:{currentPageId:t,pageState:n,originPoint:r}}=this,o=T.getSelectedBranchSnapshot(e.state,t).filter(i=>!i.isLocked);if(o.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===n.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=_.getBoundsCenter(_.getCommonBounds(o.map(T.getBounds))),e.rotationInfo.selectedIds=n.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=o.filter(i=>i.children===void 0).map(i=>({shape:i,center:this.app.getShapeUtil(i).getCenter(i)})),this.initialAngle=w.angle(this.commonBoundsCenter,r)}},uT=class extends qr{constructor(e,t=ne.BottomRight,n=!1){super(e);this.transformType=t,this.isCreate=n,this.type=xe.Transform,this.status=yt.Transforming,this.scaleX=1,this.scaleY=1,this.snapInfo={state:"empty"},this.prevPoint=[0,0],this.speed=1,this.start=()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(s=>!this.initialShapeIds.includes(s.id)).map(s=>_.getBoundsWithCenter(T.getRotatedBounds(s)))}},this.update=()=>{let{transformType:s,shapeBounds:a,initialCommonBounds:l,isAllAspectRatioLocked:c,app:{currentPageId:u,pageState:{camera:d},viewport:f,currentPoint:p,previousPoint:h,originPoint:m,shiftKey:v,altKey:C,metaKey:g,currentGrid:b,settings:{isSnapping:y,showGrid:x}}}=this,L={},I=C?w.mul(w.sub(p,m),2):w.sub(p,m),E=_.getTransformedBoundingBox(l,s,I,0,v||c);C&&(E=S(S({},E),_.centerBounds(E,_.getBoundsCenter(l)))),x&&(E=S(S({},E),_.snapBoundsToGrid(E,b)));let O=w.dist(p,h)-this.speed;this.speed=this.speed+O*(O>1?.5:.15);let P=[];if((y&&!g||!y&&g)&&this.speed*d.zoom<f4&&this.snapInfo.state==="ready"){let z=_.getSnapPoints(_.getBoundsWithCenter(E),this.snapInfo.bounds.filter(B=>_.boundsContain(f,B)||_.boundsCollide(f,B)),d4/d.zoom);z&&(P=z.snapLines,E=_.getTransformedBoundingBox(l,s,w.sub(I,z.offset),0,v||c))}return this.scaleX=E.scaleX,this.scaleY=E.scaleY,a.forEach(({initialShape:z,initialShapeBounds:B,transformOrigin:q})=>{let Q=_.getRelativeTransformedBoundingBox(E,l,B,this.scaleX<0,this.scaleY<0);x&&(Q=_.snapBoundsToGrid(Q,b));let re=T.transform(this.app.getShape(z.id),Q,{type:this.transformType,initialShape:z,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:q});L[z.id]=re}),{appState:{snapLines:P},document:{pages:{[u]:{shapes:L}}}}},this.cancel=()=>{let{shapeBounds:s,app:{currentPageId:a}}=this,l={};return this.isCreate?s.forEach(c=>l[c.initialShape.id]=void 0):s.forEach(c=>l[c.initialShape.id]=c.initialShape),{appState:{snapLines:[]},document:{pages:{[a]:{shapes:l}},pageStates:{[a]:{selectedIds:this.isCreate?[]:s.map(c=>c.initialShape.id)}}}}},this.complete=()=>{let{isCreate:s,shapeBounds:a,hasUnlockedShapes:l,app:{currentPageId:c}}=this;if(!l)return;let u={},d={},f,p;return s?(f=[],p=[],a.forEach(({initialShape:h})=>{u[h.id]=void 0,d[h.id]=this.app.getShape(h.id)})):(f=this.initialSelectedIds,p=this.initialSelectedIds,a.forEach(({initialShape:h})=>{u[h.id]=h,d[h.id]=this.app.getShape(h.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[c]:{shapes:u}},pageStates:{[c]:{selectedIds:f,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[c]:{shapes:d}},pageStates:{[c]:{selectedIds:p,hoveredId:void 0,editingId:void 0}}}}}},this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=T.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(s=>!s.isLocked),this.initialShapeIds=this.initialShapes.map(s=>s.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(s=>s.isAspectRatioLocked||T.getShapeUtil(s).isAspectRatioLocked);let r=Object.fromEntries(this.initialShapes.map(s=>[s.id,T.getBounds(s)])),o=Object.values(r);this.initialCommonBounds=_.getCommonBounds(o);let i=_.getBoundsFromPoints(o.map(_.getBoundsCenter));this.shapeBounds=this.initialShapes.map(s=>{let a=r[s.id],l=_.getBoundsCenter(a),c=(l[0]-i.minX)/i.width,u=(l[1]-i.minY)/i.height;return{initialShape:s,initialShapeBounds:a,transformOrigin:[c,u]}})}},dT=class extends qr{constructor(e,t,n,r=!1){super(e);this.type=xe.TransformSingle,this.status=yt.Transforming,this.scaleX=1,this.scaleY=1,this.snapInfo={state:"empty"},this.prevPoint=[0,0],this.speed=1,this.start=()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(i=>i.id!==this.initialShape.id).map(i=>_.getBoundsWithCenter(T.getRotatedBounds(i)))}},this.update=()=>{let{transformType:i,initialShape:s,initialShapeBounds:a,app:{settings:{isSnapping:l,showGrid:c},currentPageId:u,pageState:{camera:d},viewport:f,currentPoint:p,previousPoint:h,originPoint:m,currentGrid:v,shiftKey:C,altKey:g,metaKey:b}}=this;if(s.isLocked)return;let y={},x=g?w.mul(w.sub(p,m),2):w.sub(p,m),L=this.app.getShape(s.id),I=T.getShapeUtil(L),E=_.getTransformedBoundingBox(a,i,x,L.rotation,C||L.isAspectRatioLocked||I.isAspectRatioLocked);g&&(E=S(S({},E),_.centerBounds(E,_.getBoundsCenter(a)))),c&&(E=S(S({},E),_.snapBoundsToGrid(E,v)));let O=w.dist(p,h)-this.speed;this.speed=this.speed+O*(O>1?.5:.15);let P=[];if((l&&!b||!l&&b)&&!s.rotation&&this.speed*d.zoom<f4&&this.snapInfo.state==="ready"){let B=_.getSnapPoints(_.getBoundsWithCenter(E),this.snapInfo.bounds.filter(q=>_.boundsContain(f,q)||_.boundsCollide(f,q)),d4/d.zoom);B&&(P=B.snapLines,E=_.getTransformedBoundingBox(a,i,w.sub(x,B.offset),L.rotation,C||L.isAspectRatioLocked||I.isAspectRatioLocked))}let z=T.getShapeUtil(L).transformSingle(L,E,{initialShape:s,type:this.transformType,scaleX:E.scaleX,scaleY:E.scaleY,transformOrigin:[.5,.5]});return z&&(y[L.id]=z),c&&z&&z.point&&(z.point=w.snap(z.point,v)),{appState:{snapLines:P},document:{pages:{[u]:{shapes:y}}}}},this.cancel=()=>{let{initialShape:i,app:{currentPageId:s}}=this,a={};return this.isCreate?a[i.id]=void 0:a[i.id]=i,{appState:{snapLines:[]},document:{pages:{[s]:{shapes:a}},pageStates:{[s]:{selectedIds:this.isCreate?[]:[i.id]}}}}},this.complete=()=>{let{initialShape:i,app:{currentPageId:s}}=this;if(i.isLocked)return;let a={},l={};return a[i.id]=this.isCreate?void 0:i,l[i.id]=T.onSessionComplete(this.app.getShape(i.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[s]:{shapes:a}},pageStates:{[s]:{selectedIds:this.isCreate?[]:[i.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[s]:{shapes:l}},pageStates:{[s]:{selectedIds:[i.id],editingId:void 0,hoveredId:void 0}}}}}},this.isCreate=r,this.transformType=n;let o=this.app.getShape(t);this.initialShape=o,this.initialShapeBounds=T.getBounds(o),this.initialCommonBounds=T.getRotatedBounds(o),this.app.rotationInfo.selectedIds=[o.id]}},fT=class extends qr{constructor(e,t=!1,n=!1){super(e);this.type=xe.Translate,this.status=yt.Translating,this.delta=[0,0],this.prev=[0,0],this.prevPoint=[0,0],this.speed=1,this.cloneInfo={state:"empty"},this.snapInfo={state:"empty"},this.snapLines=[],this.isCloning=!1,this.start=()=>{let{bindingsToDelete:l,initialIds:c,app:{currentPageId:u,page:d}}=this,f=[],p=[];if(Object.values(d.shapes).forEach(m=>{let v=_.getBoundsWithCenter(T.getRotatedBounds(m));f.push(v),c.has(m.id)||p.push(v)}),this.snapInfo={state:"ready",bounds:f,others:p},l.length===0)return;let h={};return l.forEach(m=>h[m.id]=void 0),{document:{pages:{[u]:{bindings:h}}}}},this.update=()=>{let{initialParentChildren:l,initialShapes:c,initialCommonBounds:u,bindingsToDelete:d,app:{pageState:{camera:f},settings:{isSnapping:p,showGrid:h},currentPageId:m,viewport:v,selectedIds:C,currentPoint:g,previousPoint:b,originPoint:y,altKey:x,shiftKey:L,metaKey:I,currentGrid:E}}=this,O={},P={},z={},B=w.sub(g,y),q=!1;this.isCreate||(x&&!this.isCloning?(this.isCloning=!0,q=!0):!x&&this.isCloning&&(this.isCloning=!1,q=!0)),L&&(Math.abs(B[0])<Math.abs(B[1])?B[0]=0:B[1]=0);let Q=w.dist(g,b)-this.speed;if(this.speed=this.speed+Q*(Q>1?.5:.15),this.snapLines=[],(p&&!I||!p&&I)&&this.speed*f.zoom<f4&&this.snapInfo.state==="ready"){let re=_.getSnapPoints(_.getBoundsWithCenter(h?_.snapBoundsToGrid(_.translateBounds(u,B),E):_.translateBounds(u,B)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(W=>_.boundsContain(v,W)||_.boundsCollide(v,W)),d4/f.zoom);re&&(this.snapLines=re.snapLines,B=w.sub(B,re.offset))}if(this.prev=B,this.isCloning)if(q){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:re,clonedBindings:W}=this.cloneInfo;this.isCloning=!0,d.forEach(U=>O[U.id]=U),c.forEach(U=>P[U.id]={point:U.point}),re.forEach(U=>{var ve;if(P[U.id]=S({},U),U.parentId!==m&&!C.includes(U.parentId)){let Me=((ve=P[U.parentId])==null?void 0:ve.children)||l[U.parentId];Me.includes(U.id)||(P[U.parentId]=k(S({},P[U.parentId]),{children:[...Me,U.id]}))}});for(let U of W)O[U.id]=U;z.selectedIds=re.map(U=>U.id),re.forEach(U=>{P[U.id]=k(S({},U),{point:h?w.snap(w.toFixed(w.add(U.point,B)),E):w.toFixed(w.add(U.point,B))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:re}=this.cloneInfo;re.forEach(W=>{P[W.id]={point:h?w.snap(w.toFixed(w.add(W.point,B)),E):w.toFixed(w.add(W.point,B))}})}else if(q){if(this.cloneInfo.state==="empty")throw Error;let{clones:re,clonedBindings:W}=this.cloneInfo;this.isCloning=!1,d.forEach(U=>O[U.id]=void 0),re.forEach(U=>{U.parentId!==m&&(P[U.parentId]=k(S({},P[U.parentId]),{children:l[U.parentId]}))}),re.forEach(U=>P[U.id]=void 0),c.forEach(U=>{P[U.id]={point:h?w.snap(w.toFixed(w.add(U.point,B)),E):w.toFixed(w.add(U.point,B))}});for(let U of W)O[U.id]=void 0;z.selectedIds=c.map(U=>U.id)}else c.forEach(re=>{P[re.id]={point:h?w.snap(w.toFixed(w.add(re.point,B)),E):w.toFixed(w.add(re.point,B))}});return{appState:{snapLines:this.snapLines},document:{pages:{[m]:{shapes:P,bindings:O}},pageStates:{[m]:z}}}},this.cancel=()=>{let{initialShapes:l,initialSelectedIds:c,bindingsToDelete:u,app:{currentPageId:d}}=this,f={},p={},h={editingId:void 0,hoveredId:void 0};if(u.forEach(m=>f[m.id]=m),this.isCreate?(l.forEach(({id:m})=>p[m]=void 0),h.selectedIds=[]):(l.forEach(({id:m,point:v})=>p[m]=k(S({},p[m]),{point:v})),h.selectedIds=c),this.cloneInfo.state==="ready"){let{clones:m,clonedBindings:v}=this.cloneInfo;m.forEach(C=>p[C.id]=void 0),v.forEach(C=>f[C.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[d]:{shapes:p,bindings:f}},pageStates:{[d]:h}}}},this.complete=()=>{let{initialShapes:l,initialParentChildren:c,bindingsToDelete:u,app:{currentPageId:d}}=this,f={},p={},h={},m={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:v,clonedBindings:C}=this.cloneInfo;v.forEach(g=>{p[g.id]=void 0,m[g.id]=this.app.getShape(g.id),g.parentId!==d&&(p[g.parentId]=k(S({},p[g.parentId]),{children:c[g.parentId]}),m[g.parentId]=k(S({},m[g.parentId]),{children:this.app.getShape(g.parentId).children}))}),C.forEach(g=>{f[g.id]=void 0,h[g.id]=this.app.getBinding(g.id)})}else l.forEach(v=>{p[v.id]=this.isCreate?void 0:k(S({},p[v.id]),{point:v.point}),m[v.id]=S(S({},m[v.id]),this.isCreate?this.app.getShape(v.id):{point:this.app.getShape(v.id).point})});return u.forEach(v=>{f[v.id]=v;for(let C of[v.toId,v.fromId]){let g=this.app.getShape(C);!g.handles||Object.values(g.handles).filter(b=>b.bindingId===v.id).forEach(b=>{p[C]=k(S({},p[C]),{handles:{}}),m[C]=k(S({},m[C]),{handles:{}}),p[C].handles[b.id]={bindingId:v.id},m[C].handles[b.id]={bindingId:void 0}})}}),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[d]:{shapes:p,bindings:f}},pageStates:{[d]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[d]:{shapes:m,bindings:h}},pageStates:{[d]:{selectedIds:[...this.app.selectedIds]}}}}}},this.createCloneInfo=()=>{let{initialShapes:l,initialParentChildren:c,app:{selectedIds:u,currentPageId:d,page:f}}=this,p={},h={},m=[],v=[];l.forEach(g=>{let b=_.uniqueId();c[b]=c[g.id],p[g.id]=b;let y=k(S({},_.deepClone(g)),{id:b,parentId:g.parentId,childIndex:T.getChildIndexAbove(this.app.state,g.id,d)});v.push(y)}),v.forEach(g=>{g.children!==void 0&&(g.children=g.children.map(b=>p[b]))}),v.forEach(g=>{u.includes(g.parentId)&&(g.parentId=p[g.parentId])});let C=new Set(Object.keys(p));Object.values(f.bindings).filter(g=>C.has(g.fromId)||C.has(g.toId)).forEach(g=>{if(C.has(g.fromId)&&C.has(g.toId)){let b=_.uniqueId(),y=k(S({},_.deepClone(g)),{id:b,fromId:p[g.fromId]||g.fromId,toId:p[g.toId]||g.toId});h[g.id]=b,m.push(y)}}),v.forEach(g=>{if(g.handles&&g.handles)for(let b in g.handles){let y=g.handles[b];y.bindingId=y.bindingId?h[y.bindingId]:void 0}}),v.forEach(g=>{if(f.shapes[g.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:v,cloneMap:p,clonedBindings:m}},this.isCreate=t,this.link=n;let{currentPageId:r,selectedIds:o,page:i}=this.app;this.initialSelectedIds=[...o];let s=(n?T.getLinkedShapeIds(this.app.state,r,n,!1):o).map(l=>this.app.getShape(l)).filter(l=>!l.isLocked),a=new Set(s.map(l=>l.id));this.hasUnlockedShapes=s.length>0,this.initialShapes=Array.from(new Set(s.filter(l=>!a.has(l.parentId)).flatMap(l=>l.children?[l,...l.children.map(c=>this.app.getShape(c))]:[l])).values()),this.initialIds=new Set(this.initialShapes.map(l=>l.id)),this.bindingsToDelete=[],Object.values(i.bindings).filter(l=>this.initialIds.has(l.fromId)||this.initialIds.has(l.toId)).forEach(l=>{this.initialIds.has(l.fromId)&&(this.initialIds.has(l.toId)||this.bindingsToDelete.push(l))}),this.initialParentChildren={},this.initialShapes.map(l=>l.parentId).filter(l=>l!==i.id).forEach(l=>{this.initialParentChildren[l]=this.app.getShape(l).children}),this.initialCommonBounds=_.getCommonBounds(this.initialShapes.map(T.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}},pT=class extends qr{constructor(e){super(e);this.type=xe.Draw,this.status=yt.Creating,this.erasedShapes=new Set,this.erasedBindings=new Set,this.start=()=>{},this.update=()=>{let{page:t,shiftKey:n,originPoint:r,currentPoint:o}=this.app;if(n){if(!this.isLocked&&w.dist(r,o)>4){if(!this.lockedDirection){let l=w.sub(o,r);this.lockedDirection=l[0]>l[1]?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?o[0]=r[0]:o[1]=r[1]);let i=w.toFixed(w.add(r,w.sub(o,r))),s=new Set([]);for(let l of this.erasableShapes)if(!this.erasedShapes.has(l)&&this.app.getShapeUtil(l).hitTestLineSegment(l,this.prevPoint,i)&&(this.erasedShapes.add(l),s.add(l.id),l.children!==void 0))for(let c of l.children)this.erasedShapes.add(this.app.getShape(c)),s.add(c);Object.values(t.bindings).forEach(l=>{for(let c of[l.toId,l.fromId])s.has(c)&&this.erasedBindings.add(l)});let a=Array.from(this.erasedShapes.values());return this.prevPoint=i,{document:{pages:{[t.id]:{shapes:Object.fromEntries(a.map(l=>[l.id,{isGhost:!0}]))}}}}},this.cancel=()=>{let{page:t}=this.app,n=Array.from(this.erasedShapes.values());return{document:{pages:{[t.id]:{shapes:Object.fromEntries(n.map(r=>[r.id,{isGhost:!1}]))}},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.map(r=>r.id)}}}}},this.complete=()=>{let{page:t}=this.app,n=Array.from(this.erasedShapes.values()),r=Array.from(this.erasedBindings.values()),o=n.map(l=>l.id),i=r.map(l=>l.id),s={shapes:Object.fromEntries(n.map(l=>[l.id,l])),bindings:Object.fromEntries(r.map(l=>[l.id,l]))},a={shapes:Object.fromEntries(n.map(l=>[l.id,void 0])),bindings:Object.fromEntries(r.map(l=>[l.id,void 0]))};return this.app.shapes.forEach(l=>{l.handles&&!a.shapes[l.id]&&Object.values(l.handles).forEach(c=>{var u,d;c.bindingId&&i.includes(c.bindingId)&&(s.shapes[l.id]=k(S({},s.shapes[l.id]),{handles:k(S({},(u=s.shapes[l.id])==null?void 0:u.handles),{[c.id]:c})}),o.includes(l.id)||(a.shapes[l.id]=k(S({},a.shapes[l.id]),{handles:k(S({},(d=a.shapes[l.id])==null?void 0:d.handles),{[c.id]:k(S({},c),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[t.id]:s},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.map(l=>l.id)}}}},after:{document:{pages:{[t.id]:a},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.filter(l=>!o.includes(l.id)).map(l=>l.id)}}}}}},this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=this.app.shapes.filter(t=>!t.isLocked)}},hT=class extends qr{constructor(e,t){super(e);this.type=xe.Grid,this.status=yt.Translating,this.grid={},this.columns=1,this.rows=1,this.isCopying=!1,this.start=()=>{},this.update=()=>{let{currentPageId:r,altKey:o,shiftKey:i,currentPoint:s}=this.app,a={},l={},c=_.getBoundsCenter(this.bounds),u=w.sub(s,c);i&&(Math.abs(u[0])<Math.abs(u[1])?u[0]=0:u[1]=0);let d=this.bounds.width+32,f=this.bounds.height+32,p=Math.ceil(u[0]/d),h=Math.ceil(u[1]/f),m=Math.min(p,0),v=Math.min(h,0),C=Math.max(p,1),g=Math.max(h,1),b=new Set,y=o;y!==this.isCopying&&(Object.values(this.grid).filter(x=>x!==this.shape.id).forEach(x=>a[x]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=y);for(let x=m;x<C;x++)for(let L=v;L<g;L++){let I=`${x}_${L}`;if(b.add(I),this.grid[I]||x===0&&L===0)continue;let E=this.getClone(w.add(this.shape.point,[x*d,L*f]),y);a[E.id]=E,this.grid[I]=E.id}if(Object.entries(this.grid).forEach(([x,L])=>{b.has(x)||(a[L]=void 0,delete this.grid[x])}),Object.values(a).length!==0)return this.initialSiblings&&(a[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[r]:{shapes:a}},pageStates:{[r]:l}}}},this.cancel=()=>{let{currentPageId:r}=this.app,o={};return Object.values(this.grid).forEach(i=>{o[i]=void 0}),o[this.shape.id]=k(S({},o[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(o[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:[this.shape.id]}}}}},this.complete=()=>{let{currentPageId:r}=this.app,o={},i={},s=[];if(Object.values(this.grid).forEach(a=>{o[a]=void 0,i[a]=this.app.getShape(a),s.push(a)}),o[this.shape.id]=this.shape,this.initialSiblings&&(o[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},i[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),s.length!==1)return{id:"grid",before:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:s,hoveredId:void 0}}}}}},this.getClone=(r,o)=>{let i=k(S({},this.shape),{id:_.uniqueId(),point:r});return o||i.type===j.Sticky&&(i.text=""),i};var n;this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(n=this.app.getShape(this.shape.parentId).children)==null?void 0:n.filter(r=>r!==this.shape.id))}},vT={[xe.Arrow]:iT,[xe.Brush]:sT,[xe.Draw]:aT,[xe.Erase]:pT,[xe.Handle]:lT,[xe.Rotate]:cT,[xe.Transform]:uT,[xe.TransformSingle]:dT,[xe.Translate]:fT,[xe.Grid]:hT},gT=e=>vT[e],Ie;(function(e){e.Idle="idle",e.Creating="creating",e.Pinching="pinching"})(Ie||(Ie={}));var I1=class extends Xk{constructor(e){super();this.app=e,this.type="select",this.status=Ie.Idle,this.setStatus=t=>{this.status=t,this.app.setStatus(this.status)},this.onEnter=()=>{this.setStatus(Ie.Idle)},this.onExit=()=>{this.setStatus(Ie.Idle)},this.onCancel=()=>{this.status===Ie.Idle?this.app.selectTool("select"):this.setStatus(Ie.Idle),this.app.cancelSession()},this.getNextChildIndex=()=>{let{shapes:t,appState:{currentPageId:n}}=this.app;return t.length===0?1:t.filter(r=>r.parentId===n).sort((r,o)=>o.childIndex-r.childIndex)[0].childIndex+1},this.onPinchStart=()=>{this.app.cancelSession(),this.setStatus(Ie.Pinching)},this.onPinchEnd=()=>{_.isMobileSafari()&&this.app.undoSelect(),this.setStatus(Ie.Idle)},this.onPinch=(t,n)=>{var r;this.status==="pinching"&&(this.app.pinchZoom(t.point,t.delta,t.delta[2]),(r=this.onPointerMove)==null||r.call(this,t,n))},this.onKeyDown=t=>{if(t==="Escape"){this.onCancel();return}if(t==="Meta"||t==="Control"||t==="Alt"){this.app.updateSession();return}},this.onKeyUp=t=>{if(t==="Meta"||t==="Control"||t==="Alt"){this.app.updateSession();return}},this.onPointerMove=()=>{this.status===Ie.Creating&&this.app.updateSession()},this.onPointerUp=()=>{if(this.status===Ie.Creating){this.app.completeSession();let{isToolLocked:t}=this.app.appState;t||this.app.selectTool("select")}this.setStatus(Ie.Idle)}}},se;(function(e){e.Idle="idle",e.Creating="creating",e.Pinching="pinching",e.PointingCanvas="pointingCanvas",e.PointingHandle="pointingHandle",e.PointingBounds="pointingBounds",e.PointingClone="pointingClone",e.TranslatingClone="translatingClone",e.PointingBoundsHandle="pointingBoundsHandle",e.TranslatingHandle="translatingHandle",e.Translating="translating",e.Transforming="transforming",e.Rotating="rotating",e.Brushing="brushing",e.GridCloning="gridCloning",e.ClonePainting="clonePainting",e.SpacePanning="spacePanning",e.MiddleWheelPanning="middleWheelPanning"})(se||(se={}));var eb=class extends I1{constructor(){super(...arguments);this.type="select",this.onEnter=()=>{this.setStatus(se.Idle)},this.onExit=()=>{this.setStatus(se.Idle)},this.clonePaint=e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(a=>this.app.getShape(a)),n=_.expandBounds(_.getCommonBounds(t.map(T.getBounds)),16),r=_.getBoundsCenter(n),o=[n.width,n.height],i=[r[0]+o[0]*Math.floor((e[0]+o[0]/2-r[0])/o[0]),r[1]+o[1]*Math.floor((e[1]+o[1]/2-r[1])/o[1])],s=_.centerBounds(n,i);this.app.shapes.some(a=>T.getShapeUtil(a).hitTestBounds(a,s))||this.app.duplicate(this.app.selectedIds,i)},this.getShapeClone=(e,t)=>{let n=this.app.getShape(e),r=T.getShapeUtil(n);if(r.canClone){let o=r.getBounds(n),i=r.getCenter(n),s={top:[o.minX,o.minY-(o.height+pr)],right:[o.maxX+pr,o.minY],bottom:[o.minX,o.maxY+pr],left:[o.minX-(o.width+pr),o.minY],topLeft:[o.minX-(o.width+pr),o.minY-(o.height+pr)],topRight:[o.maxX+pr,o.minY-(o.height+pr)],bottomLeft:[o.minX-(o.width+pr),o.maxY+pr],bottomRight:[o.maxX+pr,o.maxY+pr]}[t];if(n.rotation!==0){let c=Y.add(s,[o.width/2,o.height/2]),u=Y.rotWith(c,i,n.rotation||0);s=Y.sub(u,[o.width/2,o.height/2])}let a=_.uniqueId(),l=k(S({},n),{id:a,point:s});return l.type===j.Sticky&&(l.text=""),l}},this.onCancel=()=>{this.selectNone(),this.app.cancelSession(),this.setStatus(se.Idle)},this.onKeyDown=e=>{if(e==="Escape"){this.onCancel();return}if(e===" "&&this.status===se.Idle&&this.setStatus(se.SpacePanning),e==="Tab"){if(this.status===se.Idle&&this.app.selectedIds.length===1){let[t]=this.app.selectedIds,n=this.getShapeClone(t,"right");n&&(this.app.createShapes(n),this.setStatus(se.Idle),n.type===j.Sticky&&(this.app.select(n.id),this.app.setEditingId(n.id)))}return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}},this.onKeyUp=(e,t)=>{if(this.status===se.ClonePainting&&!(t.altKey&&t.shiftKey)){this.setStatus(se.Idle);return}if(this.status===se.SpacePanning&&e===" "){this.setStatus(se.Idle);return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}},this.onPointerMove=(e,t)=>{var n,r;let{originPoint:o,currentPoint:i}=this.app;if(this.status===se.SpacePanning&&t.buttons===1||this.status===se.MiddleWheelPanning&&t.buttons===4){(r=(n=this.app).onPan)==null||r.call(n,k(S({},e),{delta:Y.neg(e.delta)}),t);return}if(this.status===se.PointingBoundsHandle){if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(Y.dist(o,i)>fa){if(this.pointedBoundsHandle==="rotate")this.setStatus(se.Rotating),this.app.startSession(xe.Rotate);else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus(se.Translating),this.app.startSession(xe.Translate,!1,this.pointedBoundsHandle);else{this.setStatus(se.Transforming);let s=this.app.selectedIds.flatMap(a=>T.getDocumentBranch(this.app.state,a,this.app.currentPageId));s.length===1?this.app.startSession(xe.TransformSingle,s[0],this.pointedBoundsHandle):this.app.startSession(xe.Transform,this.pointedBoundsHandle)}this.app.updateSession()}return}if(this.status===se.PointingCanvas){Y.dist(o,i)>fa&&(this.app.startSession(xe.Brush),this.setStatus(se.Brushing));return}if(this.status===se.PointingClone){Y.dist(o,i)>fa&&(this.setStatus(se.TranslatingClone),this.app.startSession(xe.Translate),this.app.updateSession());return}if(this.status===se.PointingBounds){Y.dist(o,i)>fa&&(this.setStatus(se.Translating),this.app.startSession(xe.Translate),this.app.updateSession());return}if(this.status===se.PointingHandle){if(!this.pointedHandleId)throw Error("No pointed handle");if(Y.dist(o,i)>fa){this.setStatus(se.TranslatingHandle);let s=this.app.getShape(this.app.selectedIds[0]);if(!s)return;this.pointedHandleId==="bend"?(this.app.startSession(xe.Handle,s.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession(xe.Arrow,s.id,this.pointedHandleId,!1),this.app.updateSession())}return}if(this.app.session)return this.app.updateSession();this.status===se.ClonePainting&&this.clonePaint(i)},this.onPointerDown=(e,t)=>{if(t.buttons===4&&this.setStatus(se.MiddleWheelPanning),e.target==="canvas"&&this.status===se.Idle){let{currentPoint:n}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status===se.Idle&&e.altKey&&e.shiftKey){this.setStatus(se.ClonePainting),this.clonePaint(n);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,n);return}this.selectNone()}this.setStatus(se.PointingCanvas)}},this.onPointerUp=(e,t)=>{if(this.status===se.MiddleWheelPanning){this.setStatus(se.Idle);return}if(this.status===se.TranslatingClone||this.status===se.PointingClone){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus(se.Idle),this.pointedId=void 0;return}if(this.status===se.PointingBounds){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.app.completeSession(),this.setStatus(se.Idle),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0},this.onDoubleClickCanvas=()=>{},this.onPointShape=(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:n,hoveredId:r}=this.app.pageState;if(n&&e.target!==n&&this.app.onShapeBlur(),(this.status===se.Idle||this.status===se.PointingBounds)&&e.metaKey&&e.shiftKey&&r){this.pointedId=r,this.app.isSelected(r)?this.deselect(r):(this.pushSelect(r),this.setStatus(se.PointingBounds));return}if(this.status===se.PointingBounds){let{parentId:o}=this.app.getShape(e.target);this.pointedId=o===this.app.currentPageId?e.target:o;return}if(this.status===se.Idle){if(this.setStatus(se.PointingBounds),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession(xe.Brush),this.setStatus(se.Brushing);return}let o,{parentId:i}=this.app.getShape(e.target);i===this.app.currentPageId?(o=e.target,this.selectedGroupId=void 0):i===this.selectedGroupId?o=e.target:(o=i,this.selectedGroupId=void 0),this.app.isSelected(o)||(this.pointedId=o,e.shiftKey?this.pushSelect(o):this.select(o))}},this.onDoubleClickShape=e=>{let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}T.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)},this.onRightPointShape=e=>{this.app.isSelected(e.target)||this.app.select(e.target)},this.onHoverShape=e=>{this.app.setHoveredId(e.target)},this.onUnhoverShape=e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})},this.onPointBounds=e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession(xe.Brush),this.setStatus(se.Brushing);return}this.setStatus(se.PointingBounds)},this.onRightPointBounds=(e,t)=>{t.stopPropagation()},this.onReleaseBounds=()=>{(this.status===se.Translating||this.status===se.Brushing)&&this.app.completeSession(),this.setStatus(se.Idle)},this.onPointBoundsHandle=e=>{this.pointedBoundsHandle=e.target,this.setStatus(se.PointingBoundsHandle)},this.onDoubleClickBoundsHandle=e=>{(e.target==="center"||e.target==="left"||e.target==="right")&&this.app.select(...T.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey)),this.app.selectedIds.length===1&&this.app.resetBounds(this.app.selectedIds)},this.onReleaseBoundsHandle=()=>{this.setStatus(se.Idle)},this.onPointHandle=e=>{this.pointedHandleId=e.target,this.setStatus(se.PointingHandle)},this.onDoubleClickHandle=e=>{this.app.toggleDecoration(e.target)},this.onReleaseHandle=()=>{this.setStatus(se.Idle)},this.onShapeClone=e=>{let t=this.app.selectedIds[0],n=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?n&&(this.app.createShapes(n),this.pointedId=n.id,this.setStatus(se.PointingClone)):(this.setStatus(se.GridCloning),this.app.startSession(xe.Grid,t))}}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(n=>n!==t.parentId),e)}selectNone(){this.app.selectNone()}},$n;(function(e){e.Idle="idle",e.Pointing="pointing",e.Erasing="erasing"})($n||($n={}));var tb=class extends I1{constructor(){super(...arguments);this.type="erase",this.status=$n.Idle,this.onPointerDown=()=>{this.status===$n.Idle&&this.setStatus($n.Pointing)},this.onPointerMove=e=>{switch(this.status){case $n.Pointing:{Y.dist(e.origin,e.point)>fa&&(this.app.startSession(xe.Erase),this.app.updateSession(),this.setStatus($n.Erasing));break}case $n.Erasing:this.app.updateSession()}},this.onPointerUp=()=>{switch(this.status){case $n.Pointing:{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case $n.Erasing:this.app.completeSession()}this.setStatus($n.Idle)},this.onCancel=()=>{this.status===$n.Idle?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus($n.Idle),this.app.cancelSession()}}},nb=class extends I1{constructor(){super(...arguments);this.type=j.Text,this.stopEditingShape=()=>{this.setStatus(Ie.Idle),this.app.appState.isToolLocked||this.app.selectTool("select")},this.onKeyUp=()=>{},this.onKeyDown=()=>{},this.onPointerDown=()=>{if(this.status===Ie.Creating){this.stopEditingShape();return}if(this.status===Ie.Idle){let{currentPoint:e,currentGrid:t,settings:{showGrid:n}}=this.app;this.app.createTextShapeAtPoint(n?Y.snap(e,t):e),this.setStatus(Ie.Creating);return}},this.onPointerUp=()=>{},this.onPointShape=e=>{let t=this.app.getShape(e.target);t.type===j.Text&&(this.setStatus(Ie.Idle),this.app.setEditingId(t.id))},this.onShapeBlur=()=>{this.stopEditingShape()}}},rb=class extends I1{constructor(){super(...arguments);this.type=j.Draw,this.onPointerDown=e=>{if(this.status!==Ie.Idle)return;let{currentPoint:t,appState:{currentPageId:n,currentStyle:r}}=this.app,o=this.getNextChildIndex(),i=_.uniqueId(),s=Xy.create({id:i,parentId:n,childIndex:o,point:[...t,e.pressure||.5],style:S({},r)});this.app.patchCreate([s]),this.app.startSession(xe.Draw,i),this.setStatus(Ie.Creating)},this.onPointerMove=()=>{this.status===Ie.Creating&&this.app.updateSession()},this.onPointerUp=()=>{this.status===Ie.Creating&&this.app.completeSession(),this.setStatus(Ie.Idle)}}},ob=class extends I1{constructor(){super(...arguments);this.type=j.Ellipse,this.onPointerDown=()=>{if(this.status!==Ie.Idle)return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:o}}=this.app,i=this.getNextChildIndex(),s=_.uniqueId(),a=Wy.create({id:s,parentId:r,childIndex:i,point:n?Y.snap(e,t):e,style:S({},o)});this.app.patchCreate([a]),this.app.startSession(xe.TransformSingle,a.id,ne.BottomRight,!0),this.setStatus(Ie.Creating)}}},ib=class extends I1{constructor(){super(...arguments);this.type=j.Rectangle,this.onPointerDown=()=>{if(this.status!==Ie.Idle)return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:o}}=this.app,i=this.getNextChildIndex(),s=_.uniqueId(),a=Ky.create({id:s,parentId:r,childIndex:i,point:n?Y.snap(e,t):e,style:S({},o)});this.app.patchCreate([a]),this.app.startSession(xe.TransformSingle,a.id,ne.BottomRight,!0),this.setStatus(Ie.Creating)}}},sb=class extends I1{constructor(){super(...arguments);this.type=j.Line,this.onPointerDown=()=>{if(this.status!==Ie.Idle)return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:o}}=this.app,i=this.getNextChildIndex(),s=_.uniqueId(),a=L4.create({id:s,parentId:r,childIndex:i,point:n?Y.snap(e,t):e,decorations:{start:void 0,end:void 0},style:S({},o)});this.app.patchCreate([a]),this.app.startSession(xe.Arrow,a.id,"end",!0),this.setStatus(Ie.Creating)}}},ab=class extends I1{constructor(){super(...arguments);this.type=j.Arrow,this.onPointerDown=()=>{if(this.status!==Ie.Idle)return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:o}}=this.app,i=this.getNextChildIndex(),s=_.uniqueId(),a=L4.create({id:s,parentId:r,childIndex:i,point:n?Y.snap(e,t):e,style:S({},o)});this.app.patchCreate([a]),this.app.startSession(xe.Arrow,a.id,"end",!0),this.setStatus(Ie.Creating)}}},lb=class extends I1{constructor(){super(...arguments);this.type=j.Sticky,this.onPointerDown=()=>{if(this.status===Ie.Creating){this.setStatus(Ie.Idle),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status===Ie.Idle){let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:o}}=this.app,i=this.getNextChildIndex(),s=_.uniqueId();this.shapeId=s;let a=E4.create({id:s,parentId:r,childIndex:i,point:n?Y.snap(e,t):e,style:S({},o)}),l=E4.getBounds(a);a.point=Y.sub(a.point,[l.width/2,l.height/2]),this.app.createShapes(a),this.app.startSession(xe.Translate),this.setStatus(Ie.Creating)}},this.onPointerUp=()=>{this.status===Ie.Creating&&(this.setStatus(Ie.Idle),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))}}};function hi(e){if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(typeof e=="object")if(typeof e[Symbol.iterator]=="function"){let t=[];if(e.length>0)for(let n of e)t.push(hi(n));return t}else{let t=Object.keys(e),n={};if(t.length>0)for(let r of t)n[r]=hi(e[r]);return n}return e}var mT=class{constructor(e,t,n,r){this.pointer=-1,this._status="loading",this.stack=[],this.isPaused=!1,this.persist=o=>{if(this.onPersist&&this.onPersist(this._state,o),this._idbId)return Ks(this._idbId,this._state).catch(i=>console.error(i))},this.applyPatch=(o,i)=>{let s=this._state,a=_.deepMerge(this._state,o),l=this.cleanup(a,s,o,i);return this.onStateWillChange&&this.onStateWillChange(l,i),this._state=l,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,i),this},this.cleanup=(o,i,s,a)=>o,this.patchState=(o,i)=>(this.applyPatch(o,i),this.onPatch&&this.onPatch(this._state,i),this),this.replaceState=(o,i)=>{let s=this.cleanup(o,this._state,o,i);return this.onStateWillChange&&this.onStateWillChange(s,"replace"),this._state=s,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this},this.setState=(o,i=o.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(k(S({},o),{id:i})),this.pointer=this.stack.length-1,this.applyPatch(o.after,i),this.onCommand&&this.onCommand(this._state,i),this.persist(i),this),this.reset=()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist("reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this),this.replaceHistory=(o,i=o.length-1)=>(this.stack=o,this.pointer=i,this.onReplace&&this.onReplace(this._state),this),this.resetHistory=()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this),this.undo=()=>{if(!this.isPaused){if(!this.canUndo)return this;let o=this.stack[this.pointer];this.pointer--,this.applyPatch(o.before,"undo"),this.persist("undo")}return this.onUndo&&this.onUndo(this._state),this},this.redo=()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let o=this.stack[this.pointer];this.applyPatch(o.after,"redo"),this.persist("undo")}return this.onRedo&&this.onRedo(this._state),this},this.setSnapshot=()=>(this._snapshot=S({},this._state),this),this.forceUpdate=()=>{this.store.setState(this._state,!0)},this._idbId=t,this._state=hi(e),this._snapshot=hi(e),this.initialState=hi(e),this.store=gm(()=>this._state),this.useStore=Cm(this.store),this.ready=new Promise(o=>{let i="none";this._idbId?(i="restored",i0(this._idbId).then(s=>Pr(this,null,function*(){if(s){let a=s;if(n){let l=yield i0(t+"_version");l&&l<n&&(a=r?r(s,e,l):e,i="migrated")}yield Ks(t+"_version",n||-1),this._state=hi(a),this._snapshot=hi(a),this.store.setState(this._state,!0)}else yield Ks(t+"_version",n||-1);this._status="ready",o(i)})).catch(s=>console.error(s))):(this._status="ready",o(i)),o(i)}).then(o=>(this.onReady&&this.onReady(o),o))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}},M4=_.uniqueId(),bn=class extends mT{constructor(e,t={}){super(bn.defaultState,e,bn.version,(n,r,o)=>k(S({},r),{document:So(k(S(S({},r.document),n.document),{version:o}),bn.version)}));this.callbacks={},this.tools={select:new eb(this),erase:new tb(this),[j.Text]:new nb(this),[j.Draw]:new rb(this),[j.Ellipse]:new ob(this),[j.Rectangle]:new ib(this),[j.Line]:new sb(this),[j.Arrow]:new ab(this),[j.Sticky]:new lb(this)},this.currentTool=this.tools.select,this.readOnly=!1,this.isDirty=!1,this.isCreating=!1,this.originPoint=[0,0],this.currentPoint=[0,0],this.previousPoint=[0,0],this.shiftKey=!1,this.altKey=!1,this.metaKey=!1,this.ctrlKey=!1,this.spaceKey=!1,this.editingStartTime=-1,this.fileSystemHandle=null,this.viewport=_.getBoundsFromPoints([[0,0],[100,100]]),this.rendererBounds=_.getBoundsFromPoints([[0,0],[100,100]]),this.selectHistory={stack:[[]],pointer:0},this.rotationInfo={selectedIds:[],center:[0,0]},this.pasteInfo={center:[0,0],offset:[0,0]},this.onReady=()=>{var n,r;this.loadDocument(this.document),xy().then(o=>{this.fileSystemHandle=o});try{this.patchState({appState:{status:yt.Idle},document:So(this.document,bn.version)})}catch(o){console.error("The data appears to be corrupted. Resetting!",o),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(k(S({},bn.defaultState),{appState:k(S({},bn.defaultState.appState),{status:yt.Idle})}))}(r=(n=this.callbacks).onMount)==null||r.call(n,this)},this.cleanup=(n,r)=>{let o=S({},n);o.document!==r.document&&Object.entries(o.document.pages).forEach(([a,l])=>{if(l===void 0){delete o.document.pages[a],delete o.document.pageStates[a];return}let c=r.document.pages[a],u={};if(!c||l.shapes!==c.shapes||l.bindings!==c.bindings){l.shapes=S({},l.shapes),l.bindings=S({},l.bindings);let f=new Set;Object.entries(l.shapes).forEach(([p,h])=>{var m;let v;h?v=h.parentId:(v=(m=c==null?void 0:c.shapes[p])==null?void 0:m.parentId,delete l.shapes[p]),l.id===o.appState.currentPageId&&(c==null?void 0:c.shapes[p])!==h&&(u[p]=h),v&&v!==a&&l.shapes[v]!==void 0&&f.add(l.shapes[v])}),Object.keys(l.bindings).forEach(p=>{l.bindings[p]||delete l.bindings[p]}),o.document.pages[a]=l,T.getRelatedBindings(o,Object.keys(u),a).forEach(p=>{var h;if(!l.bindings[p.id])return;let m=l.shapes[p.toId],v=l.shapes[p.fromId],C=T.getShapeUtil(m),g=T.getShapeUtil(v),b=(h=g.onBindingChange)==null?void 0:h.call(g,v,p,m,C.getBounds(m),C.getCenter(m));if(b){let y=S(S({},v),b);l.shapes[v.id]=y}}),f.forEach(p=>{if(!p)throw Error("no group!");let h=p.children.filter(v=>l.shapes[v]!==void 0),m=_.getCommonBounds(h.map(v=>l.shapes[v]).filter(Boolean).map(v=>T.getRotatedBounds(v)));l.shapes[p.id]=k(S({},p),{point:[m.minX,m.minY],size:[m.width,m.height],children:h})})}let d=S({},o.document.pageStates[a]);d.brush||delete d.brush,d.hoveredId&&!l.shapes[d.hoveredId]&&delete d.hoveredId,d.bindingId&&!l.bindings[d.bindingId]&&(T.warn(`Could not find the binding of ${a}`),delete d.bindingId),d.editingId&&!l.shapes[d.editingId]&&(T.warn("Could not find the editing shape!"),delete d.editingId),o.document.pageStates[a]=d});let i=o.appState.currentPageId,s=o.document.pageStates[i];if(o.room&&o.room!==r.room){let a=k(S({},o.room),{users:S({},o.room.users)});r.room&&Object.values(r.room.users).filter(Boolean).forEach(l=>{a.users[l.id]===void 0&&delete a.users[l.id]}),o.room=a}return o.room&&(o.room.users[o.room.userId]=k(S({},o.room.users[o.room.userId]),{point:this.currentPoint,selectedIds:s.selectedIds})),this.readOnly&&(o.document.pages=r.document.pages),o},this.onPatch=(n,r)=>{var o,i;(i=(o=this.callbacks).onPatch)==null||i.call(o,this,r)},this.onCommand=(n,r)=>{var o,i;this.clearSelectHistory(),this.isDirty=!0,(i=(o=this.callbacks).onCommand)==null||i.call(o,this,r)},this.onReplace=()=>{this.clearSelectHistory(),this.isDirty=!1},this.onUndo=()=>{var n,r;this.rotationInfo.selectedIds=[...this.selectedIds],(r=(n=this.callbacks).onUndo)==null||r.call(n,this)},this.onRedo=()=>{var n,r;this.rotationInfo.selectedIds=[...this.selectedIds],(r=(n=this.callbacks).onRedo)==null||r.call(n,this)},this.onPersist=()=>{var n,r;this.callbacks.onChangePage&&this.broadcastPageChanges(),(r=(n=this.callbacks).onPersist)==null||r.call(n,this)},this.prevSelectedIds=this.selectedIds,this.onStateDidChange=(n,r)=>{var o,i,s,a;(i=(o=this.callbacks).onChange)==null||i.call(o,this,r),this.room&&this.selectedIds!==this.prevSelectedIds&&((a=(s=this.callbacks).onChangePresence)==null||a.call(s,this,k(S({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds})),this.prevSelectedIds=this.selectedIds)},this.justSent=!1,this.prevShapes=this.page.shapes,this.prevBindings=this.page.bindings,this.broadcastPageChanges=()=>{var n,r;let o=new Set,i={},s={};this.shapes.forEach(a=>{o.add(a.id),this.prevShapes[a.id]!==a&&(i[a.id]=a)}),Object.keys(this.prevShapes).filter(a=>!o.has(a)).forEach(a=>{i[a]=void 0}),this.bindings.forEach(a=>{o.add(a.id),this.prevBindings[a.id]!==a&&(s[a.id]=a)}),Object.keys(this.prevBindings).filter(a=>!o.has(a)).forEach(a=>{s[a]=void 0}),this.justSent=!0,(r=(n=this.callbacks).onChangePage)==null||r.call(n,this,i,s),this.prevShapes=this.page.shapes,this.prevBindings=this.page.bindings},this.getReservedContent=(n,r=this.currentPageId)=>{let{bindings:o}=this.document.pages[r],i={},s={},a=Object.values(o),l=new Map(a.map(h=>[h.toId,h])),c=new Map(a.map(h=>[h.fromId,h])),u=[l,c],d=[];this.session&&n.forEach(h=>d.push(h));let f=new Set(d),p=new Set;for(;d.length>0;){let h=d.pop();if(!h)break;if(p.has(h))continue;p.add(h);let m=this.getShape(h);i[h]=m,m.parentId!==r&&d.push(m.parentId),m.children&&d.push(...m.children),u.map(v=>v.get(m.id)).filter(Boolean).forEach(v=>{s[v.id]=v,d.push(v.toId,v.fromId)})}return{reservedShapes:i,reservedBindings:s,strongReservedShapeIds:f}},this.replacePageContent=(n,r,o=this.currentPageId)=>this.justSent?(this.justSent=!1,this):(this.useStore.setState(i=>{let{hoveredId:s,editingId:a,bindingId:l,selectedIds:c}=i.document.pageStates[o],u=[...c];a&&u.push(a);let{reservedShapes:d,reservedBindings:f,strongReservedShapeIds:p}=this.getReservedContent(u,this.currentPageId);Object.values(d).filter(b=>!("text"in b)).forEach(b=>{let y=n[b.id];if(y){if(!(b.type===j.Arrow||p.has(b.id))){d[b.id]=y;return}"decorations"in y&&"decorations"in b&&(b.decorations=y.decorations),b.style=y.style}}),this.prevShapes=n,this.prevBindings=r;let h=S(S({},n),d),m=S(S({},r),f),v=k(S({},i),{document:k(S({},i.document),{pages:{[o]:k(S({},i.document.pages[o]),{shapes:h,bindings:m})},pageStates:k(S({},i.document.pageStates),{[o]:k(S({},i.document.pageStates[o]),{selectedIds:c.filter(b=>h[b]!==void 0),hoveredId:s?h[s]===void 0?void 0:s:void 0,editingId:a,bindingId:l?m[l]===void 0?void 0:l:void 0})})})}),C=T.getRelatedBindings(v,Object.keys(h),o),g=v.document.pages[o];return C.forEach(b=>{var y;if(!g.bindings[b.id])return;let x=g.shapes[b.toId],L=g.shapes[b.fromId],I=T.getShapeUtil(x),E=T.getShapeUtil(L),O=(y=E.onBindingChange)==null?void 0:y.call(E,L,b,x,I.getBounds(x),I.getCenter(x));if(O){let P=S(S({},L),O);g.shapes[L.id]=P}}),Object.values(h).forEach(b=>{if(b.type!==j.Group)return;let y=b.children.filter(L=>g.shapes[L]!==void 0),x=_.getCommonBounds(y.map(L=>g.shapes[L]).filter(Boolean).map(L=>T.getRotatedBounds(L)));g.shapes[b.id]=k(S({},b),{point:[x.minX,x.minY],size:[x.width,x.height],children:y})}),this.state.document=v.document,v},!0),this),this.updateBounds=n=>{this.rendererBounds=n;let{point:r,zoom:o}=this.pageState.camera;this.updateViewport(r,o),!this.readOnly&&this.session&&this.session.update()},this.updateViewport=(n,r)=>{let{width:o,height:i}=this.rendererBounds,[s,a]=w.sub(w.div([0,0],r),n),[l,c]=w.sub(w.div([o,i],r),n);this.viewport={minX:s,minY:a,maxX:l,maxY:c,height:l-s,width:c-a}},this.setEditingId=n=>{this.readOnly||(this.editingStartTime=Date.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:n}}}},"set_editing_id"))},this.setHoveredId=n=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:n}}}},"set_hovered_id")},this.setSetting=(n,r)=>this.session?this:(this.patchState({settings:{[n]:typeof r=="function"?r(this.settings[n]):r}},`settings:${n}`),this.persist(),this),this.toggleFocusMode=()=>this.session?this:(this.patchState({settings:{isFocusMode:!this.settings.isFocusMode}},"settings:toggled_focus_mode"),this.persist(),this),this.togglePenMode=()=>this.session?this:(this.patchState({settings:{isPenMode:!this.settings.isPenMode}},"settings:toggled_pen_mode"),this.persist(),this),this.toggleDarkMode=()=>this.session?this:(this.patchState({settings:{isDarkMode:!this.settings.isDarkMode}},"settings:toggled_dark_mode"),this.persist(),this),this.toggleZoomSnap=()=>this.session?this:(this.patchState({settings:{isZoomSnap:!this.settings.isZoomSnap}},"settings:toggled_zoom_snap"),this.persist(),this),this.toggleDebugMode=()=>this.session?this:(this.patchState({settings:{isDebugMode:!this.settings.isDebugMode}},"settings:toggled_debug"),this.persist(),this),this.setMenuOpen=n=>(this.patchState({appState:{isMenuOpen:n}},"ui:toggled_menu_opened"),this.persist(),this),this.isMenuOpen=()=>this.appState.isMenuOpen,this.toggleGrid=()=>this.session?this:(this.patchState({settings:{showGrid:!this.settings.showGrid}},"settings:toggled_grid"),this.persist(),this),this.selectTool=n=>{if(this.readOnly||this.session)return this;let r=this.tools[n];return r===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),r.previous=this.currentTool.type,this.currentTool=r,this.currentTool.onEnter(),this.patchState({appState:{activeTool:n,isToolLocked:!1}},`selected_tool:${n}`))},this.toggleToolLock=()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock"),this.resetDocument=()=>this.session?this:(this.session=void 0,this.pasteInfo.offset=[0,0],this.currentTool=this.tools.select,this.resetHistory().clearSelectHistory().loadDocument(So(bn.defaultDocument,bn.version)).persist(),this),this.updateUsers=(n,r=!1)=>{this.patchState({room:{users:Object.fromEntries(n.map(o=>[o.id,o]))}},r?"room:self:update":"room:user:update")},this.removeUser=n=>{this.patchState({room:{users:{[n]:void 0}}})},this.mergeDocument=n=>{if(this.document.id!==n.id)return this.replaceState(k(S({},this.state),{appState:k(S({},this.appState),{currentPageId:Object.keys(n.pages)[0]}),document:So(n,bn.version)})),this;let r=S({},this.document.pageStates),o=k(S({},this.appState),{currentPageId:n.pages[this.currentPageId]?this.currentPageId:Object.keys(n.pages)[0],pages:Object.values(n.pages).map((s,a)=>({id:s.id,name:s.name,childIndex:s.childIndex||a}))});this.resetHistory(),Object.keys(this.document.pages).forEach(s=>{n.pages[s]||(s===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),r[s]=void 0)}),this.session&&this.selectedIds.filter(s=>!n.pages[this.currentPageId].shapes[s]).forEach(s=>n.pages[this.currentPageId].shapes[s]=this.page.shapes[s]),Object.entries(r).forEach(([s,a])=>{a.selectedIds=a.selectedIds.filter(l=>!!n.pages[s].shapes[l])});let{editingId:i}=this.pageState;return i&&(n.pages[this.currentPageId].shapes[i]=this.page.shapes[i],r[this.currentPageId].selectedIds=[i]),this.replaceState(k(S({},this.state),{appState:o,document:k(S({},So(n,bn.version)),{pageStates:r})}),"merge")},this.updateDocument=(n,r="updated_document")=>{let o=this.state,i=k(S({},o),{document:S({},o.document)});n.pages[this.currentPageId]||(i.appState=k(S({},o.appState),{currentPageId:Object.keys(n.pages)[0]}));let s=1;for(let a of Object.values(n.pages))a!==o.document.pages[a.id]&&(i.document.pages[a.id]=a,a.name||(i.document.pages[a.id].name=`Page ${s+1}`,s++));for(let a of Object.values(n.pageStates))if(a!==o.document.pageStates[a.id]){i.document.pageStates[a.id]=a;let l=n.pages[a.id],c=["bindingId","editingId","hoveredId","pointedId"];for(let u of c)l.shapes[u]||(a[u]=void 0);a.selectedIds=a.selectedIds.filter(u=>!!n.pages[l.id].shapes[u])}return i.document=So(i.document,i.document.version||0),this.replaceState(i,`${r}:${n.id}`)},this.loadRoom=n=>(this.patchState({room:{id:n,userId:M4,users:{[M4]:{id:M4,color:Sy[Math.floor(Math.random()*Sy.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this),this.loadDocument=n=>(this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0,this.replaceState(k(S({},bn.defaultState),{document:So(n,bn.version),appState:k(S({},bn.defaultState.appState),{currentPageId:Object.keys(n.pages)[0]})}),"loaded_document"),this),this.newProject=()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())},this.saveProject=()=>Pr(this,null,function*(){if(!this.readOnly){try{let n=yield u4(this.document,this.fileSystemHandle);this.fileSystemHandle=n,this.persist(),this.isDirty=!1}catch(n){console.error(n.message)}return this}}),this.saveProjectAs=()=>Pr(this,null,function*(){try{let n=yield u4(this.document,null);this.fileSystemHandle=n,this.persist(),this.isDirty=!1}catch(n){console.error(n.message)}return this}),this.openProject=()=>Pr(this,null,function*(){if(this.isLocal)try{let n=yield _y();if(!n)throw Error();let{fileHandle:r,document:o}=n;this.loadDocument(o),this.fileSystemHandle=r,this.zoomToFit(),this.persist()}catch(n){console.error(n)}finally{this.persist()}}),this.signOut=()=>{},this.getAppState=()=>this.appState,this.getPage=(n=this.currentPageId)=>T.getPage(this.state,n||this.currentPageId),this.getShapes=(n=this.currentPageId)=>T.getShapes(this.state,n||this.currentPageId),this.getBindings=(n=this.currentPageId)=>T.getBindings(this.state,n||this.currentPageId),this.getShape=(n,r=this.currentPageId)=>T.getShape(this.state,n,r),this.getShapeBounds=(n,r=this.currentPageId)=>T.getBounds(this.getShape(n,r)),this.getBinding=(n,r=this.currentPageId)=>T.getBinding(this.state,n,r),this.getPageState=(n=this.currentPageId)=>T.getPageState(this.state,n||this.currentPageId),this.getPagePoint=(n,r=this.currentPageId)=>{let{camera:o}=this.getPageState(r);return w.sub(w.div(n,o.zoom),o.point)},this.createPage=n=>{if(this.readOnly)return this;let{width:r,height:o}=this.rendererBounds;return this.setState(NH(this,[-r/2,-o/2],n))},this.changePage=n=>this.setState(jH(this,n)),this.renamePage=(n,r)=>this.readOnly?this:this.setState(YH(this,n,r)),this.duplicatePage=n=>this.readOnly?this:this.setState(zH(this,n)),this.deletePage=n=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(ZH(this,n||this.currentPageId)),this.copy=(n=this.selectedIds)=>{let r=n.flatMap(s=>T.getDocumentBranch(this.state,s,this.currentPageId)),o=r.map(s=>_.deepClone(this.getShape(s,this.currentPageId)));if(o.length===0)return this;let i=Object.values(this.page.bindings).filter(s=>r.includes(s.fromId)&&r.includes(s.toId));this.clipboard={shapes:o,bindings:i};try{let s=JSON.stringify({type:"tldr/clipboard",shapes:o,bindings:i});navigator.clipboard.writeText(s).then(()=>{},()=>{})}catch{}return this.pasteInfo.offset=[0,0],this.pasteInfo.center=[0,0],this},this.cut=(n=this.selectedIds)=>(this.copy(n),this.delete(n),this),this.paste=n=>{if(this.readOnly)return;let r=(o,i)=>{let s={};o.forEach(h=>s[h.id]=_.uniqueId()),i.forEach(h=>s[h.id]=_.uniqueId());let a=T.getTopChildIndex(this.state,this.currentPageId),l=o.sort((h,m)=>h.childIndex-m.childIndex).map(h=>{let m=s[h.parentId],v=k(S({},h),{id:s[h.id],parentId:m||this.currentPageId});return h.children&&(v.children=h.children.map(C=>s[C])),m||(v.childIndex=a,a++),v.handles&&Object.values(v.handles).forEach(C=>{C.bindingId&&(C.bindingId=s[C.bindingId])}),v}),c=i.map(h=>k(S({},h),{id:s[h.id],toId:s[h.toId],fromId:s[h.fromId]})),u=_.getCommonBounds(l.map(T.getBounds)),d=w.toFixed(this.getPagePoint(n||this.centerPoint));w.dist(d,this.pasteInfo.center)<2||w.dist(d,w.toFixed(_.getBoundsCenter(u)))<2?(d=w.add(d,this.pasteInfo.offset),this.pasteInfo.offset=w.add(this.pasteInfo.offset,[da,da])):(this.pasteInfo.center=d,this.pasteInfo.offset=[0,0]);let f=_.centerBounds(u,d),p=w.sub(_.getBoundsCenter(f),_.getBoundsCenter(u));this.create(l.map(h=>T.getShapeUtil(h.type).create(k(S({},h),{point:w.toFixed(w.add(h.point,p)),parentId:h.parentId||this.currentPageId}))),c)};try{if(!("clipboard"in navigator&&navigator.clipboard.readText))throw Error("This browser does not support the clipboard API.");navigator.clipboard.readText().then(o=>{try{let i=JSON.parse(o);if(i.type!=="tldr/clipboard")throw Error("The pasted string was not from the Tldraw clipboard.");r(i.shapes,i.bindings)}catch(i){T.warn(i);let s=_.uniqueId();this.createShapes({id:s,type:j.Text,parentId:this.appState.currentPageId,text:T.normalizeText(o),point:this.getPagePoint(this.centerPoint,this.currentPageId),style:S({},this.appState.currentStyle)}),this.select(s)}})}catch{this.clipboard&&r(this.clipboard.shapes,this.clipboard.bindings)}return this},this.copySvg=(n=this.selectedIds,r=this.currentPageId)=>{if(n.length===0&&(n=Object.keys(this.page.shapes)),n.length===0)return;let o=n.map(f=>this.getShape(f,r)),i=_.getCommonBounds(o.map(T.getRotatedBounds)),s=16,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=document.createElementNS("http://www.w3.org/2000/svg","defs"),c=document.createElementNS("http://www.w3.org/2000/svg","style");c.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Source+Serif+Pro&display=swap');",l.appendChild(c),a.appendChild(l);function u(f){let p=T.getShapeUtil(f),h=p.getSvgElement(f),m=p.getBounds(f);if(h)return h.setAttribute("transform",`translate(${s+f.point[0]-i.minX}, ${s+f.point[1]-i.minY}) rotate(${(f.rotation||0)*180/Math.PI}, ${m.width/2}, ${m.height/2})`),h}o.forEach(f=>{var p;if((p=f.children)==null?void 0:p.length){let m=document.createElementNS("http://www.w3.org/2000/svg","g");f.children.map(v=>this.getShape(v,r)).map(u).filter(Boolean).forEach(v=>m.appendChild(v)),a.appendChild(m);return}let h=u(f);h&&a.appendChild(h)}),a.setAttribute("viewBox",[0,0,i.width+s*2,i.height+s*2].join(" ")),a.setAttribute("width",String(i.width)),a.setAttribute("height",String(i.height));let d=new XMLSerializer().serializeToString(a).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1");return T.copyStringToClipboard(d),d},this.copyJson=(n=this.selectedIds,r=this.currentPageId)=>{if(n.length===0&&(n=Object.keys(this.page.shapes)),n.length===0)return;let o=n.map(s=>this.getShape(s,r)),i=JSON.stringify(o,null,2);return T.copyStringToClipboard(i),i},this.setCamera=(n,r,o)=>(this.updateViewport(n,r),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:n,zoom:r}}}}},o),this),this.resetCamera=()=>this.setCamera(this.centerPoint,1,"reset_camera"),this.pan=n=>{let{camera:r}=this.pageState;return this.setCamera(w.toFixed(w.sub(r.point,n)),r.zoom,"panned")},this.pinchZoom=(n,r,o)=>{let{camera:i}=this.pageState,s=w.sub(i.point,w.div(r,i.zoom)),a=o,l=w.sub(w.div(n,i.zoom),s),c=w.sub(w.div(n,a),s);return this.setCamera(w.toFixed(w.add(s,w.sub(c,l))),a,"pinch_zoomed")},this.zoomTo=(n,r=this.centerPoint)=>{let{zoom:o,point:i}=this.pageState.camera,s=w.sub(w.div(r,o),i),a=w.sub(w.div(r,n),i);return this.setCamera(w.toFixed(w.add(i,w.sub(a,s))),n,"zoomed_camera")},this.zoomIn=()=>{let n=Math.round(this.pageState.camera.zoom*100/25),r=T.getCameraZoom((n+1)*.25);return this.zoomTo(r)},this.zoomOut=()=>{let n=Math.round(this.pageState.camera.zoom*100/25),r=T.getCameraZoom((n-1)*.25);return this.zoomTo(r)},this.zoomToFit=()=>{let n=this.shapes;if(n.length===0)return this;let{rendererBounds:r}=this,o=_.getCommonBounds(n.map(T.getBounds)),i=T.getCameraZoom(Math.min((r.width-gc)/o.width,(r.height-gc)/o.height));i=this.pageState.camera.zoom===i||this.pageState.camera.zoom<1?Math.min(1,i):i;let s=(r.width-o.width*i)/2/i,a=(r.height-o.height*i)/2/i;return this.setCamera(w.toFixed(w.sub([s,a],[o.minX,o.minY])),i,"zoomed_to_fit")},this.zoomToSelection=()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:n}=this,r=T.getSelectedBounds(this.state),o=T.getCameraZoom(Math.min((n.width-gc)/r.width,(n.height-gc)/r.height));o=this.pageState.camera.zoom===o||this.pageState.camera.zoom<1?Math.min(1,o):o;let i=(n.width-r.width*o)/2/o,s=(n.height-r.height*o)/2/o;return this.setCamera(w.toFixed(w.sub([i,s],[r.minX,r.minY])),o,"zoomed_to_selection")},this.zoomToContent=()=>{let n=this.shapes,r=this.pageState;if(n.length===0)return this;let{rendererBounds:o}=this,{zoom:i}=r.camera,s=_.getCommonBounds(n.map(T.getBounds)),a=(o.width-s.width*i)/2/i,l=(o.height-s.height*i)/2/i;return this.setCamera(w.toFixed(w.sub([a,l],[s.minX,s.minY])),this.pageState.camera.zoom,"zoomed_to_content")},this.resetZoom=()=>this.zoomTo(1),this.zoomBy=_.throttle((n,r)=>{let{zoom:o}=this.pageState.camera,i=T.getCameraZoom(o-n*o);return this.zoomTo(i,r)},16),this.clearSelectHistory=()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this),this.addToSelectHistory=n=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(n),this),this.setSelectedIds=(n,r=!1)=>{let o=r?[...this.pageState.selectedIds,...n]:[...n];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:o}}}},"selected")},this.undoSelect=()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this),this.redoSelect=()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this),this.select=(...n)=>(n.forEach(r=>{if(!this.page.shapes[r])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(n),this.addToSelectHistory(n),this),this.selectAll=(n=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[n].shapes).filter(r=>r.parentId===n).map(r=>r.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this),this.selectNone=()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this),this.startSession=(n,...r)=>{if(this.readOnly&&n!==xe.Brush)return this;this.session&&(T.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let o=gT(n);this.session=new o(this,...r);let i=this.session.start();return i&&this.patchState(i,`session:start_${this.session.constructor.name}`),this},this.updateSession=()=>{let{session:n}=this;if(!n)return this;let r=n.update();return r?this.patchState(r,`session:${n==null?void 0:n.constructor.name}`):this},this.cancelSession=()=>{let{session:n}=this;if(!n)return this;this.session=void 0;let r=n.cancel();return r&&this.patchState(r,`session:cancel:${n.constructor.name}`),this},this.completeSession=()=>{var n,r,o,i,s,a,l;let{session:c}=this;if(!c)return this;this.session=void 0;let u=c.complete();if(u===void 0)return this.isCreating=!1,this.patchState({appState:{status:yt.Idle},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${c.constructor.name}`);if("after"in u){if(this.isCreating){if(u.before={appState:k(S({},u.before.appState),{status:yt.Idle}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(d=>[d,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let d=((o=(r=(n=u.after)==null?void 0:n.document)==null?void 0:r.pageStates)==null?void 0:o[this.currentPageId])||{};d.selectedIds=[]}this.isCreating=!1}u.after.appState=k(S({},u.after.appState),{status:yt.Idle}),u.after.document=k(S({},u.after.document),{pageStates:k(S({},(i=u.after.document)==null?void 0:i.pageStates),{[this.currentPageId]:k(S({},(((s=u.after.document)==null?void 0:s.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(u,`session:complete:${c.constructor.name}`)}else this.patchState(k(S({},u),{appState:k(S({},u.appState),{status:yt.Idle}),document:k(S({},u.document),{pageStates:{[this.currentPageId]:k(S({},(l=(a=u.document)==null?void 0:a.pageStates)==null?void 0:l[this.currentPageId]),{editingId:null})}})}),`session:complete:${c.constructor.name}`);return this},this.createShapes=(...n)=>n.length===0?this:this.create(n.map(r=>T.getShapeUtil(r.type).create(S({parentId:this.currentPageId},r)))),this.updateShapes=(...n)=>{let r=this.document.pages[this.currentPageId].shapes,o=n.filter(i=>r[i.id]);return o.length===0?this:this.setState(rT(this,o,this.currentPageId),"updated_shapes")},this.create=(n=[],r=[])=>n.length===0?this:this.setState(Gy(this,n,r)),this.patchCreate=(n=[],r=[])=>n.length===0?this:this.patchState(Gy(this,n,r).after),this.delete=(n=this.selectedIds)=>n.length===0?this:this.setState(qy(this,n)),this.deleteAll=()=>(this.selectAll(),this.delete(),this),this.style=(n,r=this.selectedIds)=>this.setState(JH(this,r,n)),this.align=(n,r=this.selectedIds)=>r.length<2?this:this.setState(DH(this,r,n)),this.distribute=(n,r=this.selectedIds)=>r.length<3?this:this.setState(FH(this,r,n)),this.stretch=(n,r=this.selectedIds)=>r.length<2?this:this.setState(QH(this,r,n)),this.flipHorizontal=(n=this.selectedIds)=>n.length===0?this:this.setState(Qy(this,n,ua.Horizontal)),this.flipVertical=(n=this.selectedIds)=>n.length===0?this:this.setState(Qy(this,n,ua.Vertical)),this.moveToPage=(n,r=this.currentPageId,o=this.selectedIds)=>{if(o.length===0)return this;let{rendererBounds:i}=this;return this.setState(XH(this,o,i,r,n)),this},this.moveToBack=(n=this.selectedIds)=>n.length===0?this:this.setState(wc(this,n,Gr.ToBack)),this.moveBackward=(n=this.selectedIds)=>n.length===0?this:this.setState(wc(this,n,Gr.Backward)),this.moveForward=(n=this.selectedIds)=>n.length===0?this:this.setState(wc(this,n,Gr.Forward)),this.moveToFront=(n=this.selectedIds)=>n.length===0?this:this.setState(wc(this,n,Gr.ToFront)),this.nudge=(n,r=!1,o=this.selectedIds)=>{if(o.length===0)return this;let i=r?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(tT(this,o,w.mul(n,i)))},this.duplicate=(n=this.selectedIds,r)=>this.readOnly?this:n.length===0?this:this.setState(KH(this,n,r)),this.resetBounds=(n=this.selectedIds)=>{let r=Jy(this,n,this.currentPageId);return this.setState(Jy(this,n,this.currentPageId),r.id)},this.toggleHidden=(n=this.selectedIds)=>n.length===0?this:this.setState(I4(this,n,"isHidden")),this.toggleLocked=(n=this.selectedIds)=>n.length===0?this:this.setState(I4(this,n,"isLocked")),this.toggleAspectRatioLocked=(n=this.selectedIds)=>n.length===0?this:this.setState(I4(this,n,"isAspectRatioLocked")),this.toggleDecoration=(n,r=this.selectedIds)=>r.length===0||!(n==="start"||n==="end")?this:this.setState(eT(this,r,n)),this.setShapeProps=(n,r=this.selectedIds)=>this.setState(oT(this,r,n)),this.rotate=(n=Math.PI*-.5,r=this.selectedIds)=>{if(r.length===0)return this;let o=qH(this,r,n);return o?this.setState(o):this},this.group=(n=this.selectedIds,r=_.uniqueId(),o=this.currentPageId)=>{if(this.readOnly)return this;if(n.length===1&&this.getShape(n[0],o).type===j.Group)return this.ungroup(n,o);if(n.length<2)return this;let i=WH(this,n,r,o);return i?this.setState(i):this},this.ungroup=(n=this.selectedIds,r=this.currentPageId)=>{if(this.readOnly)return this;let o=n.map(s=>this.getShape(s,r)).filter(s=>s.type===j.Group);if(o.length===0)return this;let i=nT(this,n,o,r);return i?this.setState(i):this},this.cancel=()=>{var n,r;return(r=(n=this.currentTool).onCancel)==null||r.call(n),this},this.onKeyDown=(n,r,o)=>{var i,s;switch(o.key){case"/":{if(this.status==="idle"){let{shiftKey:a,metaKey:l,altKey:c,ctrlKey:u,spaceKey:d}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:r.point,point:r.point,delta:[0,0],pressure:.5,shiftKey:a,ctrlKey:u,metaKey:l,altKey:c,spaceKey:d},{shiftKey:a,altKey:c,ctrlKey:u,pointerId:0,clientX:r.point[0],clientY:r.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.spaceKey=!0;break}}return(s=(i=this.currentTool).onKeyDown)==null||s.call(i,n,r,o),this},this.onKeyUp=(n,r,o)=>{var i,s;if(r){switch(o.key){case"/":{let{currentPoint:a,shiftKey:l,metaKey:c,altKey:u,ctrlKey:d,spaceKey:f}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:a,point:a,delta:[0,0],pressure:.5,shiftKey:l,ctrlKey:d,metaKey:c,altKey:u,spaceKey:f},{shiftKey:l,altKey:u,ctrlKey:d,pointerId:0,clientX:a[0],clientY:a[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.spaceKey=!1;break}}(s=(i=this.currentTool).onKeyUp)==null||s.call(i,n,r,o)}},this.onPinchStart=(n,r)=>{var o,i;return(i=(o=this.currentTool).onPinchStart)==null?void 0:i.call(o,n,r)},this.onPinchEnd=(n,r)=>{var o,i;return(i=(o=this.currentTool).onPinchEnd)==null?void 0:i.call(o,n,r)},this.onPinch=(n,r)=>{var o,i;return(i=(o=this.currentTool).onPinch)==null?void 0:i.call(o,n,r)},this.onPan=(n,r)=>{if(this.appState.status==="pinching")return;let o=w.div(n.delta,this.pageState.camera.zoom),i=this.pageState.camera.point,s=w.sub(i,o);w.isEqual(s,i)||(this.pan(o),!n.spaceKey&&r.buttons!==4&&this.onPointerMove(n,r))},this.onZoom=(n,r)=>{if(this.state.appState.status!==yt.Idle)return;let o=r.deltaMode===WheelEvent.DOM_DELTA_PIXEL?n.delta[2]/500:r.deltaMode===WheelEvent.DOM_DELTA_LINE?n.delta[2]/100:n.delta[2]/2;this.zoomBy(o,this.centerPoint),this.onPointerMove(n,r)},this.updateInputs=n=>{this.currentPoint=[...this.getPagePoint(n.point),n.pressure],this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.metaKey=n.metaKey},this.onPointerMove=(n,r)=>{var o,i,s,a;if(this.previousPoint=this.currentPoint,this.updateInputs(n,r),(i=(o=this.currentTool).onPointerMove)==null||i.call(o,n,r),this.state.room){let{users:l,userId:c}=this.state.room;(a=(s=this.callbacks).onChangePresence)==null||a.call(s,this,k(S({},l[c]),{point:this.getPagePoint(n.point)}))}},this.onPointerDown=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onPointerDown)==null||i.call(o,n,r)},this.onPointerUp=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onPointerUp)==null||i.call(o,n,r)},this.onPointCanvas=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onPointCanvas)==null||i.call(o,n,r)},this.onDoubleClickCanvas=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onDoubleClickCanvas)==null||i.call(o,n,r)},this.onRightPointCanvas=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onRightPointCanvas)==null||i.call(o,n,r)},this.onDragCanvas=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onDragCanvas)==null||i.call(o,n,r)},this.onReleaseCanvas=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onReleaseCanvas)==null||i.call(o,n,r)},this.onPointShape=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onPointShape)==null||i.call(o,n,r)},this.onReleaseShape=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onReleaseShape)==null||i.call(o,n,r)},this.onDoubleClickShape=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onDoubleClickShape)==null||i.call(o,n,r)},this.onRightPointShape=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onRightPointShape)==null||i.call(o,n,r)},this.onDragShape=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onDragShape)==null||i.call(o,n,r)},this.onHoverShape=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onHoverShape)==null||i.call(o,n,r)},this.onUnhoverShape=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onUnhoverShape)==null||i.call(o,n,r)},this.onPointBounds=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onPointBounds)==null||i.call(o,n,r)},this.onDoubleClickBounds=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onDoubleClickBounds)==null||i.call(o,n,r)},this.onRightPointBounds=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onRightPointBounds)==null||i.call(o,n,r)},this.onDragBounds=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onDragBounds)==null||i.call(o,n,r)},this.onHoverBounds=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onHoverBounds)==null||i.call(o,n,r)},this.onUnhoverBounds=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onUnhoverBounds)==null||i.call(o,n,r)},this.onReleaseBounds=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onReleaseBounds)==null||i.call(o,n,r)},this.onPointBoundsHandle=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onPointBoundsHandle)==null||i.call(o,n,r)},this.onDoubleClickBoundsHandle=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onDoubleClickBoundsHandle)==null||i.call(o,n,r)},this.onRightPointBoundsHandle=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onRightPointBoundsHandle)==null||i.call(o,n,r)},this.onDragBoundsHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onDragBoundsHandle)==null||i.call(o,n,r)},this.onHoverBoundsHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onHoverBoundsHandle)==null||i.call(o,n,r)},this.onUnhoverBoundsHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onUnhoverBoundsHandle)==null||i.call(o,n,r)},this.onReleaseBoundsHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onReleaseBoundsHandle)==null||i.call(o,n,r)},this.onPointHandle=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onPointHandle)==null||i.call(o,n,r)},this.onDoubleClickHandle=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onDoubleClickHandle)==null||i.call(o,n,r)},this.onRightPointHandle=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onRightPointHandle)==null||i.call(o,n,r)},this.onDragHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onDragHandle)==null||i.call(o,n,r)},this.onHoverHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onHoverHandle)==null||i.call(o,n,r)},this.onUnhoverHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onUnhoverHandle)==null||i.call(o,n,r)},this.onReleaseHandle=(n,r)=>{var o,i;this.updateInputs(n,r),(i=(o=this.currentTool).onReleaseHandle)==null||i.call(o,n,r)},this.onShapeChange=n=>{this.updateShapes(n)},this.onShapeBlur=()=>{var n,r;if(Date.now()-this.editingStartTime<50)return;let{editingId:o}=this.pageState,{isToolLocked:i}=this.getAppState();if(o){let s=this.getShape(o);this.setEditingId(),s.type===j.Text&&(s.text.trim().length<=0?this.patchState(qy(this,[o]).after,"delete_empty_text"):i||this.select(o))}(r=(n=this.currentTool).onShapeBlur)==null||r.call(n)},this.onShapeClone=(n,r)=>{var o,i;this.originPoint=this.getPagePoint(n.point),this.updateInputs(n,r),(i=(o=this.currentTool).onShapeClone)==null||i.call(o,n,r)},this.onRenderCountChange=n=>{let r=this.getAppState();r.isEmptyCanvas&&n.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!r.isEmptyCanvas&&n.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")},this.onError=()=>{},this.getShapeUtil=T.getShapeUtil,this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t){let{shapes:n,appState:{currentPageId:r,currentStyle:o}}=this,i=n.length===0?1:n.filter(c=>c.parentId===r).sort((c,u)=>u.childIndex-c.childIndex)[0].childIndex+1,s=va[j.Text],a=s.create({id:t||_.uniqueId(),parentId:r,childIndex:i,point:e,style:S({},o)}),l=s.getBounds(a);return a.point=w.sub(a.point,[l.width/2,l.height/2]),this.createShapes(a),this.setEditingId(a.id),this}isSelected(e){return this.selectedIds.includes(e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return w.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.pageState.camera;return e<.15?da*16:e<1?da*4:da*1}},E0=bn;E0.version=14,E0.defaultDocument={id:"doc",name:"New Document",version:14,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}}},E0.defaultState={settings:{isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1},appState:{status:yt.Idle,activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:fi,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,snapLines:[]},document:bn.defaultDocument};var qU={select:eb,erase:tb,[j.Text]:nb,[j.Draw]:rb,[j.Ellipse]:ob,[j.Rectangle]:ib,[j.Line]:sb,[j.Arrow]:ab,[j.Sticky]:lb};function CT(e){let t=mt(),n=(0,cb.useCallback)((a=!1)=>{let l=e.current;return a&&t.isMenuOpen()?!0:l&&(document.activeElement===l||l.contains(document.activeElement))},[e]);ce("v,1",()=>{!n(!0)||t.selectTool("select")},[t,e.current]),ce("d,p,2",()=>{!n(!0)||t.selectTool(j.Draw)},void 0,[t]),ce("e,3",()=>{!n(!0)||t.selectTool("erase")},void 0,[t]),ce("r,4",()=>{!n(!0)||t.selectTool(j.Rectangle)},void 0,[t]),ce("o,5",()=>{!n(!0)||t.selectTool(j.Ellipse)},void 0,[t]),ce("l,6",()=>{!n(!0)||t.selectTool(j.Line)},void 0,[t]),ce("a,7",()=>{!n(!0)||t.selectTool(j.Arrow)},void 0,[t]),ce("t,8",()=>{!n(!0)||t.selectTool(j.Text)},void 0,[t]),ce("s,9",()=>{!n(!0)||t.selectTool(j.Sticky)},void 0,[t]),ce("ctrl+shift+d,\u2318+shift+d",a=>{!n(!0)||(t.toggleDarkMode(),a.preventDefault())},void 0,[t]),ce("ctrl+.,\u2318+.",()=>{!n(!0)||t.toggleFocusMode()},void 0,[t]),ce("ctrl+shift+g,\u2318+shift+g",()=>{!n(!0)||t.toggleGrid()},void 0,[t]);let{onNewProject:r,onOpenProject:o,onSaveProject:i,onSaveProjectAs:s}=pb();ce("ctrl+n,\u2318+n",a=>{!n()||r(a)},void 0,[t]),ce("ctrl+s,\u2318+s",a=>{!n()||i(a)},void 0,[t]),ce("ctrl+shift+s,\u2318+shift+s",a=>{!n()||s(a)},void 0,[t]),ce("ctrl+o,\u2318+o",a=>{!n()||o(a)},void 0,[t]),ce("\u2318+z,ctrl+z",()=>{!n(!0)||(t.session?t.cancelSession():t.undo())},void 0,[t]),ce("ctrl+shift-z,\u2318+shift+z",()=>{!n(!0)||(t.session?t.cancelSession():t.redo())},void 0,[t]),ce("\u2318+u,ctrl+u",()=>{!n()||t.undoSelect()},void 0,[t]),ce("ctrl+shift-u,\u2318+shift+u",()=>{!n()||t.redoSelect()},void 0,[t]),ce("ctrl+=,\u2318+=,ctrl+num_subtract,\u2318+num_subtract",a=>{!n(!0)||(t.zoomIn(),a.preventDefault())},void 0,[t]),ce("ctrl+-,\u2318+-,ctrl+num_add,\u2318+num_add",a=>{!n(!0)||(t.zoomOut(),a.preventDefault())},void 0,[t]),ce("shift+0,ctrl+numpad_0,\u2318+numpad_0",()=>{!n(!0)||t.resetZoom()},void 0,[t]),ce("shift+1",()=>{!n(!0)||t.zoomToFit()},void 0,[t]),ce("shift+2",()=>{!n(!0)||t.zoomToSelection()},void 0,[t]),ce("ctrl+d,\u2318+d",a=>{!n()||(t.duplicate(),a.preventDefault())},void 0,[t]),ce("shift+h",()=>{!n(!0)||t.flipHorizontal()},void 0,[t]),ce("shift+v",()=>{!n(!0)||t.flipVertical()},void 0,[t]),ce("escape",()=>{!n(!0)||t.cancel()},void 0,[t]),ce("backspace,del",()=>{!n()||t.delete()},void 0,[t]),ce("\u2318+a,ctrl+a",()=>{!n(!0)||t.selectAll()},void 0,[t]),ce("up",()=>{!n()||t.nudge([0,-1],!1)},void 0,[t]),ce("right",()=>{!n()||t.nudge([1,0],!1)},void 0,[t]),ce("down",()=>{!n()||t.nudge([0,1],!1)},void 0,[t]),ce("left",()=>{!n()||t.nudge([-1,0],!1)},void 0,[t]),ce("shift+up",()=>{!n()||t.nudge([0,-1],!0)},void 0,[t]),ce("shift+right",()=>{!n()||t.nudge([1,0],!0)},void 0,[t]),ce("shift+down",()=>{!n()||t.nudge([0,1],!0)},void 0,[t]),ce("shift+left",()=>{!n()||t.nudge([-1,0],!0)},void 0,[t]),ce("\u2318+shift+l,ctrl+shift+l",()=>{!n()||t.toggleLocked()},void 0,[t]),ce("\u2318+c,ctrl+c",()=>{!n()||t.copy()},void 0,[t]),ce("\u2318+x,ctrl+x",()=>{!n()||t.cut()},void 0,[t]),ce("\u2318+v,ctrl+v",()=>{!n()||t.paste()},void 0,[t]),ce("\u2318+g,ctrl+g",a=>{!n()||(t.group(),a.preventDefault())},void 0,[t]),ce("\u2318+shift+g,ctrl+shift+g",a=>{!n()||(t.ungroup(),a.preventDefault())},void 0,[t]),ce("[",()=>{!n(!0)||t.moveBackward()},void 0,[t]),ce("]",()=>{!n(!0)||t.moveForward()},void 0,[t]),ce("shift+[",()=>{!n(!0)||t.moveToBack()},void 0,[t]),ce("shift+]",()=>{!n(!0)||t.moveToFront()},void 0,[t]),ce("ctrl+shift+backspace,\u2318+shift+backspace",a=>{!n()||(t.settings.isDebugMode&&t.resetDocument(),a.preventDefault())},void 0,[t]),ce("alt+command+l,alt+ctrl+l",a=>{!n(!0)||(t.style({textAlign:We.Start}),a.preventDefault())},void 0,[t]),ce("alt+command+t,alt+ctrl+t",a=>{!n(!0)||(t.style({textAlign:We.Middle}),a.preventDefault())},void 0,[t]),ce("alt+command+r,alt+ctrl+r",a=>{!n(!0)||(t.style({textAlign:We.End}),a.preventDefault())},void 0,[t])}var ub=(0,yc.createContext)({});function mt(){return(0,yc.useContext)(ub)}var R4=new Map,I0="Tldraw-fonts",fb=`
@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Source+Serif+Pro&display=swap');
`;function wT(){(0,db.useLayoutEffect)(()=>{if(R4.get(I0))return;let e=document.createElement("style");return e.innerHTML=fb,e.setAttribute("id",I0),document.head.appendChild(e),R4.set(I0,e),()=>{e&&document.head.contains(e)&&(document.head.removeChild(e),R4.delete(I0))}},[I0,fb])}function pb(){let e=mt(),t=(0,M0.useCallback)(i=>Pr(this,null,function*(){var s,a;i&&e.callbacks.onOpenProject&&i.preventDefault(),(a=(s=e.callbacks).onNewProject)==null||a.call(s,e)}),[e]),n=(0,M0.useCallback)(i=>{var s,a;i&&e.callbacks.onOpenProject&&i.preventDefault(),(a=(s=e.callbacks).onSaveProject)==null||a.call(s,e)},[e]),r=(0,M0.useCallback)(i=>{var s,a;i&&e.callbacks.onOpenProject&&i.preventDefault(),(a=(s=e.callbacks).onSaveProjectAs)==null||a.call(s,e)},[e]),o=(0,M0.useCallback)(i=>Pr(this,null,function*(){var s,a;i&&e.callbacks.onOpenProject&&i.preventDefault(),(a=(s=e.callbacks).onOpenProject)==null||a.call(s,e)}),[e]);return{onNewProject:t,onSaveProject:n,onSaveProjectAs:r,onOpenProject:o}}var Qr={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"},bT=e=>e.appState.status,xT=e=>e.appState.activeTool;function _T(){let e=mt(),t=e.useStore(bT),n=e.useStore(xT);return(0,O4.createElement)(ST,{bp:Qr},(0,O4.createElement)(LT,null,n," | ",t))}var ST=de("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),LT=de("div",{whiteSpace:"nowrap",overflow:"hidden"}),ET=()=>_.isDarwin()?"\u2318":"Ctrl";function hb({variant:e,children:t}){return(0,P4.createElement)(IT,{variant:e},t.split("").map((n,r)=>(0,P4.createElement)("span",{key:r},n.replace("#",ET()))))}var IT=de("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}}),Jr=de("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}}),e1=(0,kr.forwardRef)((e,t)=>{var n=e,{onClick:r,isActive:o=!1,isWarning:i=!1,hasIndicator:s=!1,hasArrow:a=!1,disabled:l=!1,isSponsor:c=!1,variant:u,kbd:d,children:f}=n,p=Yr(n,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","isSponsor","variant","kbd","children"]);return(0,kr.createElement)(MT,S({ref:t,bp:Qr,isWarning:i,isActive:o,isSponsor:c,disabled:l,onClick:r,variant:u},p),(0,kr.createElement)(bc,null,f,d?(0,kr.createElement)(hb,{variant:"menu"},d):void 0,s&&(0,kr.createElement)(G5,{dir:"ltr"},(0,kr.createElement)(Jr,null,(0,kr.createElement)(oc,null))),a&&(0,kr.createElement)(Jr,null,(0,kr.createElement)(pw,null))))}),bc=de("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1}}),MT=de("button",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3},[`&:focus:not(:disabled) ${bc}`]:{backgroundColor:"$hover"},"& a":{textDecoration:"none",color:"$text"},variants:{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isSponsor:{true:{color:"#eb30a2"},false:{}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}},compoundVariants:[{isActive:!1,isSponsor:!0,bp:"small",css:{[`&:hover:not(:disabled) ${bc}`]:{backgroundColor:"$sponsorContrast",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}}}},{isActive:!1,isSponsor:!1,bp:"small",css:{[`&:hover:not(:disabled) ${bc}`]:{backgroundColor:"$hover",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}}}}]}),vi=de("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:180,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui"}),RT=e=>Object.keys(e.document.pages[e.appState.currentPageId].shapes).length>0&&e.appState.isEmptyCanvas,OT=(0,R0.memo)(function(){let e=mt();return e.useStore(RT)?(0,R0.createElement)(PT,null,(0,R0.createElement)(e1,{onClick:e.zoomToContent},"Back to content")):null}),PT=de(vi,{pointerEvents:"all",width:"fit-content",minWidth:0,gridRow:1,flexGrow:2,display:"block"});function Fn({children:e,label:t,kbd:n,side:r="top"}){return(0,gi.createElement)(Fw,null,(0,gi.createElement)(Uw,{dir:"ltr",asChild:!0},(0,gi.createElement)("span",null,e)),(0,gi.createElement)(kT,{dir:"ltr",side:r,sideOffset:8},t,n?(0,gi.createElement)(hb,{variant:"tooltip"},n):null,(0,gi.createElement)(HT,null)))}var kT=de(zw,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),HT=de(Kw,{fill:"$tooltip",margin:"0 8px"}),Ve=(0,t1.forwardRef)((e,t)=>{var n=e,{onSelect:r,onClick:o,onDoubleClick:i,variant:s,children:a,isToolLocked:l=!1,disabled:c=!1,isActive:u=!1,isSponsor:d=!1}=n,f=Yr(n,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","isSponsor"]);return(0,t1.createElement)(TT,S({ref:t,isActive:u,isSponsor:d,variant:s,onClick:o,disabled:c,onPointerDown:r,onDoubleClick:i,bp:Qr},f),(0,t1.createElement)(vr,null,a),l&&(0,t1.createElement)(VT,null))});function ga(e){var t=e,{label:n,kbd:r,isLocked:o}=t,i=Yr(t,["label","kbd","isLocked"]);let s=mt(),a=(0,t1.useCallback)(()=>{s.toggleToolLock()},[]);return(0,t1.createElement)(Fn,{label:n[0].toUpperCase()+n.slice(1),kbd:r},(0,t1.createElement)(Ve,k(S({},i),{variant:"primary",isToolLocked:o&&i.isActive,onDoubleClick:a})))}var vr=de("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent"}),TT=de("button",{position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",border:"none",height:"40px",width:"40px",[`&:disabled ${vr}`]:{opacity:.618},variants:{variant:{primary:{marginTop:"0"},icon:{[`& ${vr}`]:{display:"grid","& > *":{gridRow:1,gridColumn:1}}},text:{width:"auto",[`& ${vr}`]:{fontSize:"$1",padding:"0 $3",gap:"$3"}},circle:{padding:"$2",[`& ${vr}`]:{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"},[`& ${vr} > svg`]:{width:14,height:14}}},isSponsor:{true:{[`${vr}`]:{backgroundColor:"$sponsorContrast"}}},isActive:{true:{},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{variant:"primary",bp:"mobile",css:{height:"40px",width:"40px",[`& ${vr} > svg`]:{width:16,height:16}}},{variant:"primary",bp:"small",css:{height:"44px",width:"44px",[`& ${vr} > svg`]:{width:20,height:20}}},{isActive:!0,isSponsor:!1,css:{[`${vr}`]:{backgroundColor:"$selected",color:"$selectedContrast"}}},{isActive:!1,isSponsor:!1,bp:"small",css:{[`&:hover:not(:disabled) ${vr}`]:{backgroundColor:"$hover",border:"1px solid $panel"},[`&:focus:not(:disabled) ${vr}`]:{backgroundColor:"$hover"}}}]}),VT=de("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100}),xc=de("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,variants:{side:{center:{borderRadius:"$4"},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:"$1",borderBottomRightRadius:"$3",borderBottomLeftRadius:"$1"},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:"$1",borderBottomLeftRadius:"$3",borderBottomRightRadius:"$1"}}}});function vb(e){let t=e,{size:n=16}=t,r=Yr(t,["size"]);return(0,k4.createElement)("svg",S({width:24,height:24},r),(0,k4.createElement)("circle",{cx:12,cy:12,r:n/2}))}function BT(){return(0,H4.createElement)("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},(0,H4.createElement)("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:50.26548*.1}))}var AT=`${50.26548*.025} ${50.26548*.1}`;function DT(){return(0,T4.createElement)("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},(0,T4.createElement)("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:AT}))}function jT(){return(0,V4.createElement)("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},(0,V4.createElement)("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}function NT(){return(0,B4.createElement)("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},(0,B4.createElement)("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}function ZT(e){return(0,A4.createElement)("svg",S({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),(0,A4.createElement)("path",{d:"M4.32978 8.5081C4.32978 10.1923 5.70009 11.5625 7.38418 11.5625H8.46539C8.64456 11.5625 8.78975 11.4173 8.78975 11.2382V11.13C8.78975 10.9508 8.64457 10.8057 8.46539 10.8057H7.38418C6.11736 10.8057 5.08662 9.77492 5.08662 8.5081C5.08662 7.24128 6.11736 6.21054 7.38418 6.21054H9.37894L8.00515 7.58433C7.8576 7.73183 7.8576 7.97195 8.00515 8.11944C8.14833 8.26251 8.39751 8.2623 8.54036 8.11944L10.56 6.09971C10.6315 6.02824 10.6709 5.93321 10.6709 5.8321C10.6709 5.73106 10.6315 5.63598 10.56 5.56454L8.54025 3.54472C8.3974 3.40176 8.14801 3.40176 8.00513 3.54472C7.85758 3.69218 7.85758 3.93234 8.00513 4.07979L9.37892 5.45368H7.38418C5.70009 5.45368 4.32978 6.82393 4.32978 8.5081Z"}))}function $T(e){return(0,O0.createElement)("svg",S({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),(0,O0.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),(0,O0.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),(0,O0.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}function FT(e){return(0,D4.createElement)("svg",S({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),(0,D4.createElement)("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}function UT(e){return(0,j4.createElement)("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),(0,j4.createElement)("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}function zT(e){return(0,N4.createElement)("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),(0,N4.createElement)("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}function KT(e){return(0,Z4.createElement)("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),(0,Z4.createElement)("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}function WT(){return(0,P0.createElement)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,P0.createElement)("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),(0,P0.createElement)("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),(0,P0.createElement)("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}function XT(){return(0,$4.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},(0,$4.createElement)("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}function YT(){return(0,F4.createElement)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},(0,F4.createElement)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}var U4=[j.Rectangle,j.Ellipse,j.Line],gb={[j.Rectangle]:(0,xt.createElement)(kw,null),[j.Ellipse]:(0,xt.createElement)(hw,null),[j.Line]:(0,xt.createElement)(YT,null)},GT=(0,xt.memo)(function({activeTool:e,isToolLocked:t}){let n=mt(),[r,o]=(0,xt.useState)(j.Rectangle);(0,xt.useEffect)(()=>{U4.includes(e)&&r!==e&&o(e)},[e]);let i=(0,xt.useCallback)(()=>{n.selectTool(r)},[e,n]),s=(0,xt.useCallback)(()=>{n.toggleToolLock()},[n]),a=U4.includes(e);return(0,xt.createElement)(Rn,{dir:"ltr",onOpenChange:i},(0,xt.createElement)(dr,{dir:"ltr",asChild:!0},(0,xt.createElement)(Ve,{variant:"primary",onDoubleClick:s,isToolLocked:a&&t,isActive:a},gb[r])),(0,xt.createElement)(aa,{asChild:!0,dir:"ltr",side:"top",sideOffset:12},(0,xt.createElement)(xc,{side:"center"},U4.map((l,c)=>(0,xt.createElement)(Fn,{key:l,label:l[0].toUpperCase()+l.slice(1),kbd:(4+c).toString()},(0,xt.createElement)(yo,{asChild:!0},(0,xt.createElement)(Ve,{variant:"primary",onClick:()=>{n.selectTool(l),o(l)}},gb[l])))))))}),qT=e=>e.appState.activeTool,QT=e=>e.appState.isToolLocked,JT=(0,ut.memo)(function(){let e=mt(),t=e.useStore(qT),n=e.useStore(QT),r=(0,ut.useCallback)(()=>{e.selectTool("select")},[e]),o=(0,ut.useCallback)(()=>{e.selectTool("erase")},[e]),i=(0,ut.useCallback)(()=>{e.selectTool(j.Draw)},[e]),s=(0,ut.useCallback)(()=>{e.selectTool(j.Arrow)},[e]),a=(0,ut.useCallback)(()=>{e.selectTool(j.Text)},[e]),l=(0,ut.useCallback)(()=>{e.selectTool(j.Sticky)},[e]);return(0,ut.createElement)(xc,{side:"center"},(0,ut.createElement)(ga,{kbd:"1",label:"select",onClick:r,isActive:t==="select"},(0,ut.createElement)(gw,null)),(0,ut.createElement)(ga,{kbd:"2",label:j.Draw,onClick:i,isActive:t===j.Draw},(0,ut.createElement)(Ew,null)),(0,ut.createElement)(ga,{kbd:"3",label:"eraser",onClick:o,isActive:t==="erase"},(0,ut.createElement)(WT,null)),(0,ut.createElement)(GT,{activeTool:t,isToolLocked:n}),(0,ut.createElement)(ga,{kbd:"7",label:j.Arrow,onClick:s,isLocked:n,isActive:t===j.Arrow},(0,ut.createElement)(cw,null)),(0,ut.createElement)(ga,{kbd:"8",label:j.Text,onClick:a,isLocked:n,isActive:t===j.Text},(0,ut.createElement)(Hw,null)),(0,ut.createElement)(ga,{kbd:"9",label:j.Sticky,onClick:l,isActive:t===j.Sticky},(0,ut.createElement)(Iw,null)))}),vz=de(q5,{fill:"$panel",bp:Qr});function at(e){var t=e,{onSelect:n}=t,r=Yr(t,["onSelect"]);return(0,z4.createElement)(yo,{dir:"ltr",asChild:!0,onSelect:n},(0,z4.createElement)(e1,S({},r)))}var Rt=e=>e.preventDefault();function M1({checked:e,disabled:t=!1,variant:n,onCheckedChange:r,kbd:o,children:i}){return(0,K4.createElement)(ow,{dir:"ltr",onSelect:Rt,onCheckedChange:r,checked:e,disabled:t,asChild:!0},(0,K4.createElement)(e1,{kbd:o,variant:n,hasIndicator:!0},i))}function k0({sideOffset:e=8,children:t,align:n,variant:r}){return(0,W4.createElement)(aa,{dir:"ltr",align:n,sideOffset:e,onEscapeKeyDown:x4,asChild:!0},(0,W4.createElement)(eV,{variant:r},t))}var eV=de(vi,{width:"fit-content",height:"fit-content",minWidth:0,variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),Lo=de(sw,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"}),_c=de(Y5,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"$panel"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});function X4({children:e,disabled:t=!1,label:n}){return(0,mi.createElement)(Rn,{dir:"ltr"},(0,mi.createElement)(rw,{dir:"ltr",asChild:!0},(0,mi.createElement)(e1,{disabled:t,hasArrow:!0},n)),(0,mi.createElement)(aa,{dir:"ltr",asChild:!0,sideOffset:2,alignOffset:-2},(0,mi.createElement)(vi,null,e,(0,mi.createElement)(q5,{offset:13}))))}function tV(e){var t=e,{children:n}=t,r=Yr(t,["children"]);return(0,Y4.createElement)(dr,{asChild:!0},(0,Y4.createElement)(Ve,S({},r),n))}var Ci=de("hr",{height:1,marginTop:"$1",marginRight:"-$2",marginBottom:"$1",marginLeft:"-$2",border:"none",borderBottom:"1px solid $hover"}),nV=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,rV=e=>{let t=e.document.pages[e.appState.currentPageId],{selectedIds:n}=e.document.pageStates[e.appState.currentPageId];return n.every(r=>t.shapes[r].isLocked)},oV=e=>{let t=e.document.pages[e.appState.currentPageId],{selectedIds:n}=e.document.pageStates[e.appState.currentPageId];return n.every(r=>t.shapes[r].isAspectRatioLocked)},iV=e=>{let t=e.document.pages[e.appState.currentPageId],n=e.document.pageStates[e.appState.currentPageId].selectedIds.map(r=>t.shapes[r]);return n.every(r=>r.children!==void 0||r.parentId===n[0].parentId&&n[0].parentId!==e.appState.currentPageId)},sV=e=>{let{selectedIds:t}=e.document.pageStates[e.appState.currentPageId];return t.length>0},aV=e=>{let{selectedIds:t}=e.document.pageStates[e.appState.currentPageId];return t.length>1};function lV(){let e=mt(),t=e.useStore(rV),n=e.useStore(oV),r=e.useStore(iV),o=e.useStore(sV),i=e.useStore(aV),s=e.useStore(nV),a=s>1,l=s>2,c=(0,N.useCallback)(()=>{e.rotate()},[e]),u=(0,N.useCallback)(()=>{e.duplicate()},[e]),d=(0,N.useCallback)(()=>{e.toggleLocked()},[e]),f=(0,N.useCallback)(()=>{e.toggleAspectRatioLocked()},[e]),p=(0,N.useCallback)(()=>{e.group()},[e]),h=(0,N.useCallback)(()=>{e.moveToBack()},[e]),m=(0,N.useCallback)(()=>{e.moveBackward()},[e]),v=(0,N.useCallback)(()=>{e.moveForward()},[e]),C=(0,N.useCallback)(()=>{e.moveToFront()},[e]),g=(0,N.useCallback)(()=>{e.setShapeProps({rotation:0})},[e]),b=(0,N.useCallback)(()=>{e.align(It.Top)},[e]),y=(0,N.useCallback)(()=>{e.align(It.CenterVertical)},[e]),x=(0,N.useCallback)(()=>{e.align(It.Bottom)},[e]),L=(0,N.useCallback)(()=>{e.stretch(xo.Vertical)},[e]),I=(0,N.useCallback)(()=>{e.distribute(_o.Vertical)},[e]),E=(0,N.useCallback)(()=>{e.align(It.Left)},[e]),O=(0,N.useCallback)(()=>{e.align(It.CenterHorizontal)},[e]),P=(0,N.useCallback)(()=>{e.align(It.Right)},[e]),z=(0,N.useCallback)(()=>{e.stretch(xo.Horizontal)},[e]),B=(0,N.useCallback)(()=>{e.distribute(_o.Horizontal)},[e]),q=(0,N.useCallback)(Q=>{e.setMenuOpen(Q)},[e]);return(0,N.createElement)(Rn,{dir:"ltr",onOpenChange:q},(0,N.createElement)(dr,{dir:"ltr",asChild:!0},(0,N.createElement)(Ve,{variant:"circle"},(0,N.createElement)(Cw,null))),(0,N.createElement)(k0,{sideOffset:16},(0,N.createElement)(N.Fragment,null,(0,N.createElement)(Sc,null,(0,N.createElement)(Ve,{variant:"icon",disabled:!o,onClick:u},(0,N.createElement)(Fn,{label:"Duplicate",kbd:"#D"},(0,N.createElement)(vw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:c},(0,N.createElement)(Fn,{label:"Rotate"},(0,N.createElement)(Pw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:d},(0,N.createElement)(Fn,{label:"Toggle Locked",kbd:"#L"},t?(0,N.createElement)(_w,null):(0,N.createElement)(Sw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:f},(0,N.createElement)(Fn,{label:"Toggle Aspect Ratio Lock"},n?(0,N.createElement)(dw,null):(0,N.createElement)(fw,null))),(0,N.createElement)(Ve,{disabled:!o||!r&&!i,onClick:p},(0,N.createElement)(Fn,{label:"Group",kbd:"#G"},(0,N.createElement)(bw,null)))),(0,N.createElement)(Sc,null,(0,N.createElement)(Ve,{disabled:!o,onClick:h},(0,N.createElement)(Fn,{label:"Move to Back",kbd:"#\u21E7["},(0,N.createElement)(Mw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:m},(0,N.createElement)(Fn,{label:"Move Backward",kbd:"#["},(0,N.createElement)(lw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:v},(0,N.createElement)(Fn,{label:"Move Forward",kbd:"#]"},(0,N.createElement)(uw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:C},(0,N.createElement)(Fn,{label:"Move to Front",kbd:"#\u21E7]"},(0,N.createElement)(Rw,null))),(0,N.createElement)(Ve,{disabled:!o,onClick:g},(0,N.createElement)(Fn,{label:"Reset Angle"},(0,N.createElement)(aw,null)))),(0,N.createElement)(Ci,null),(0,N.createElement)(Sc,null,(0,N.createElement)(Ve,{disabled:!a,onClick:E},(0,N.createElement)(tc,null)),(0,N.createElement)(Ve,{disabled:!a,onClick:O},(0,N.createElement)(J5,null)),(0,N.createElement)(Ve,{disabled:!a,onClick:P},(0,N.createElement)(nc,null)),(0,N.createElement)(Ve,{disabled:!a,onClick:z},(0,N.createElement)(ac,null)),(0,N.createElement)(Ve,{disabled:!l,onClick:B},(0,N.createElement)(ic,null))),(0,N.createElement)(Sc,null,(0,N.createElement)(Ve,{disabled:!a,onClick:b},(0,N.createElement)(rc,null)),(0,N.createElement)(Ve,{disabled:!a,onClick:y},(0,N.createElement)(ec,null)),(0,N.createElement)(Ve,{disabled:!a,onClick:x},(0,N.createElement)(Q5,null)),(0,N.createElement)(Ve,{disabled:!a,onClick:L},(0,N.createElement)(lc,null)),(0,N.createElement)(Ve,{disabled:!l,onClick:I},(0,N.createElement)(sc,null))))))}var Sc=de("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});function cV(){let e=mt(),t=(0,ma.useCallback)(()=>{e.delete()},[e]),n=e.useStore(r=>r.appState.status==="idle"&&r.document.pageStates[r.appState.currentPageId].selectedIds.length>0);return(0,ma.createElement)(Fn,{label:"Delete",kbd:"\u232B"},(0,ma.createElement)(Ve,{variant:"circle",disabled:!n,onSelect:t},(0,ma.createElement)($T,null)))}var uV=e=>e.settings.isDebugMode,dV=(0,hr.memo)(function({onBlur:e}){let t=mt().useStore(uV);return(0,hr.createElement)(fV,{onBlur:e},(0,hr.createElement)(pV,null,(0,hr.createElement)(OT,null),(0,hr.createElement)(vV,null,(0,hr.createElement)(lV,null),(0,hr.createElement)(JT,null),(0,hr.createElement)(cV,null))),t&&(0,hr.createElement)(hV,null,(0,hr.createElement)(_T,null)))}),fV=de("div",{position:"absolute",bottom:0,left:0,right:0,width:"100%",minWidth:0,maxWidth:"100%",display:"grid",gridTemplateColumns:"auto auto auto",gridTemplateRows:"auto auto",justifyContent:"space-between",padding:"0",gap:"$4",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"}}),pV=de("div",{gridRow:1,gridColumn:2,display:"flex",width:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),hV=de("div",{gridRow:2,gridColumn:"1 / span 3"}),vV=de("div",{position:"relative",display:"flex",alignItems:"center",gap:"$2"}),gV=e=>e.settings;function mV(){let e=mt(),t=e.useStore(gV),n=(0,Ot.useCallback)(()=>{e.setSetting("isDebugMode",u=>!u)},[e]),r=(0,Ot.useCallback)(()=>{e.setSetting("isDarkMode",u=>!u)},[e]),o=(0,Ot.useCallback)(()=>{e.setSetting("isFocusMode",u=>!u)},[e]),i=(0,Ot.useCallback)(()=>{e.setSetting("showRotateHandles",u=>!u)},[e]),s=(0,Ot.useCallback)(()=>{e.setSetting("showGrid",u=>!u)},[e]),a=(0,Ot.useCallback)(()=>{e.setSetting("showBindingHandles",u=>!u)},[e]),l=(0,Ot.useCallback)(()=>{e.setSetting("isSnapping",u=>!u)},[e]),c=(0,Ot.useCallback)(()=>{e.setSetting("showCloneHandles",u=>!u)},[e]);return(0,Ot.createElement)(X4,{label:"Preferences"},(0,Ot.createElement)(M1,{checked:t.isDarkMode,onCheckedChange:r,kbd:"#\u21E7D"},"Dark Mode"),(0,Ot.createElement)(M1,{checked:t.isFocusMode,onCheckedChange:o,kbd:"#."},"Focus Mode"),(0,Ot.createElement)(M1,{checked:t.isDebugMode,onCheckedChange:n},"Debug Mode"),(0,Ot.createElement)(Lo,null),(0,Ot.createElement)(M1,{checked:t.showRotateHandles,onCheckedChange:i},"Rotate Handles"),(0,Ot.createElement)(M1,{checked:t.showBindingHandles,onCheckedChange:a},"Binding Handles"),(0,Ot.createElement)(M1,{checked:t.showCloneHandles,onCheckedChange:c},"Clone Handles"),(0,Ot.createElement)(M1,{checked:t.showGrid,onCheckedChange:s,kbd:"#\u21E7G"},"Grid"),(0,Ot.createElement)(M1,{checked:t.isSnapping,onCheckedChange:l},"Always Show Snaps"))}function CV(){return(0,G4.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,G4.createElement)("path",{fill:"none",stroke:"currentColor",strokeWidth:2,d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}var wV=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,yV=(0,G.memo)(function({showSponsorLink:e,readOnly:t}){let n=mt(),r=n.useStore(wV),{onNewProject:o,onOpenProject:i,onSaveProject:s,onSaveProjectAs:a}=pb(),l=(0,G.useCallback)(()=>{var y,x;(x=(y=n.callbacks).onSignIn)==null||x.call(y,n)},[n]),c=(0,G.useCallback)(()=>{var y,x;(x=(y=n.callbacks).onSignOut)==null||x.call(y,n)},[n]),u=(0,G.useCallback)(()=>{n.cut()},[n]),d=(0,G.useCallback)(()=>{n.copy()},[n]),f=(0,G.useCallback)(()=>{n.paste()},[n]),p=(0,G.useCallback)(()=>{n.copySvg()},[n]),h=(0,G.useCallback)(()=>{n.copyJson()},[n]),m=(0,G.useCallback)(()=>{n.selectAll()},[n]),v=(0,G.useCallback)(()=>{n.selectNone()},[n]),C=n.callbacks.onNewProject||n.callbacks.onOpenProject||n.callbacks.onSaveProject||n.callbacks.onSaveProjectAs,g=n.callbacks.onSignIn||n.callbacks.onSignOut||e,b=r>0;return(0,G.createElement)(Rn,{dir:"ltr"},(0,G.createElement)(tV,{isSponsor:e},(0,G.createElement)(xw,null)),(0,G.createElement)(k0,{variant:"menu"},C&&(0,G.createElement)(X4,{label:"File..."},n.callbacks.onNewProject&&(0,G.createElement)(at,{onClick:o,kbd:"#N"},"New Project"),n.callbacks.onOpenProject&&(0,G.createElement)(at,{onClick:i,kbd:"#O"},"Open..."),n.callbacks.onSaveProject&&(0,G.createElement)(at,{onClick:s,kbd:"#S"},"Save"),n.callbacks.onSaveProjectAs&&(0,G.createElement)(at,{onClick:a,kbd:"#\u21E7S"},"Save As...")),!t&&(0,G.createElement)(G.Fragment,null,(0,G.createElement)(X4,{label:"Edit..."},(0,G.createElement)(at,{onSelect:Rt,onClick:n.undo,kbd:"#Z"},"Undo"),(0,G.createElement)(at,{onSelect:Rt,onClick:n.redo,kbd:"#\u21E7Z"},"Redo"),(0,G.createElement)(Lo,{dir:"ltr"}),(0,G.createElement)(at,{onSelect:Rt,disabled:!b,onClick:u,kbd:"#X"},"Cut"),(0,G.createElement)(at,{onSelect:Rt,disabled:!b,onClick:d,kbd:"#C"},"Copy"),(0,G.createElement)(at,{onSelect:Rt,onClick:f,kbd:"#V"},"Paste"),(0,G.createElement)(Lo,{dir:"ltr"}),(0,G.createElement)(at,{onSelect:Rt,disabled:!b,onClick:p,kbd:"#\u21E7C"},"Copy as SVG"),(0,G.createElement)(at,{onSelect:Rt,disabled:!b,onClick:h},"Copy as JSON"),(0,G.createElement)(Lo,{dir:"ltr"}),(0,G.createElement)(at,{onSelect:Rt,onClick:m,kbd:"#A"},"Select All"),(0,G.createElement)(at,{onSelect:Rt,onClick:v},"Select None"))),(0,G.createElement)("a",{href:"https://tldraw.com/r"},(0,G.createElement)(at,null,"Create a Multiplayer Room")),(0,G.createElement)(Lo,{dir:"ltr"}),(0,G.createElement)(mV,null),(0,G.createElement)(Lo,{dir:"ltr"}),(0,G.createElement)("a",{href:"https://github.com/Tldraw/Tldraw",target:"_blank",rel:"nofollow"},(0,G.createElement)(at,null,"GitHub",(0,G.createElement)(Jr,null,(0,G.createElement)(yw,null)))),(0,G.createElement)("a",{href:"https://twitter.com/Tldraw",target:"_blank",rel:"nofollow"},(0,G.createElement)(at,null,"Twitter",(0,G.createElement)(Jr,null,(0,G.createElement)(Dw,null)))),(0,G.createElement)("a",{href:"https://discord.gg/SBBEVCA4PG",target:"_blank",rel:"nofollow"},(0,G.createElement)(at,null,"Discord",(0,G.createElement)(Jr,null,(0,G.createElement)(XT,null)))),e&&(0,G.createElement)("a",{href:"https://github.com/sponsors/steveruizok",target:"_blank",rel:"nofollow"},(0,G.createElement)(at,{isSponsor:!0},"Become a Sponsor"," ",(0,G.createElement)(Jr,null,(0,G.createElement)(CV,null)))),g&&(0,G.createElement)(G.Fragment,null,(0,G.createElement)(Lo,{dir:"ltr"})," ",n.callbacks.onSignIn&&(0,G.createElement)(at,{onSelect:l},"Sign In"),n.callbacks.onSignOut&&(0,G.createElement)(at,{onSelect:c},"Sign Out",(0,G.createElement)(Jr,null,(0,G.createElement)(ww,null))))))}),mb=de("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}}),bV=e=>Object.keys(e.document.pages).length>1;function xV({page:e,onOpen:t,onClose:n}){let r=mt(),[o,i]=(0,Qe.useState)(!1),s=r.useStore(bV),a=(0,Qe.useRef)(null),l=(0,Qe.useCallback)(()=>{r.duplicatePage(e.id),n==null||n()},[r]),c=(0,Qe.useCallback)(()=>{window.confirm("Are you sure you want to delete this page?")&&(r.deletePage(e.id),n==null||n())},[r]),u=(0,Qe.useCallback)(p=>{if(i(p),p){t==null||t();return}},[r]);function d(p){p.stopPropagation()}function f(){let p=window.prompt("New name:",e.name);r.renamePage(e.id,p||e.name||"Page")}return(0,Qe.useEffect)(()=>{o&&requestAnimationFrame(()=>{let p=a.current;p&&(p.focus(),p.select())})},[o]),(0,Qe.createElement)(Jw,{open:o,onOpenChange:u},(0,Qe.createElement)(ey,{asChild:!0,"data-shy":"true"},(0,Qe.createElement)(mb,{bp:Qr},(0,Qe.createElement)(Jr,null,(0,Qe.createElement)(Lw,null)))),(0,Qe.createElement)(SV,null),(0,Qe.createElement)(_V,{dir:"ltr",onKeyDown:d,onKeyUp:d},(0,Qe.createElement)(q4,{onSelect:f},"Rename"),(0,Qe.createElement)(q4,{onSelect:l},"Duplicate"),(0,Qe.createElement)(q4,{disabled:!s,onSelect:c},"Delete"),(0,Qe.createElement)(Ci,null),(0,Qe.createElement)(oy,{asChild:!0},(0,Qe.createElement)(e1,null,"Cancel"))))}var _V=de(ny,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$0",borderRadius:"$2",font:"$ui","&:focus":{outline:"none"}}),SV=de(ty,{backgroundColor:"rgba(0, 0, 0, .15)",position:"fixed",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"});function q4(e){var t=e,{onSelect:n}=t,r=Yr(t,["onSelect"]);return(0,Qe.createElement)(ry,{asChild:!0,onClick:n,onSelect:n},(0,Qe.createElement)(e1,S({},r)))}var LV=e=>Object.values(e.document.pages).sort((t,n)=>(t.childIndex||0)-(n.childIndex||0)),EV=e=>e.document.pages[e.appState.currentPageId].name,IV=e=>e.document.pages[e.appState.currentPageId].id;function MV(){let e=mt(),t=(0,Oe.useRef)(!1),[n,r]=(0,Oe.useState)(!1);(0,Oe.useEffect)(()=>{t.current!==n&&(t.current=n)},[n]);let o=(0,Oe.useCallback)(()=>{r(!1)},[r]),i=(0,Oe.useCallback)(a=>{t.current!==a&&r(a)},[r]),s=e.useStore(EV);return(0,Oe.createElement)(Rn,{dir:"ltr",open:n,onOpenChange:i},(0,Oe.createElement)(dr,{dir:"ltr",asChild:!0},(0,Oe.createElement)(Ve,{variant:"text"},s||"Page")),(0,Oe.createElement)(k0,{variant:"menu",align:"start"},n&&(0,Oe.createElement)(RV,{onClose:o})))}function RV({onClose:e}){let t=mt(),n=t.useStore(LV),r=t.useStore(IV),o=(0,Oe.useCallback)(()=>{t.createPage()},[t]),i=(0,Oe.useCallback)(s=>{e(),t.changePage(s)},[t]);return(0,Oe.createElement)(Oe.Fragment,null,(0,Oe.createElement)(iw,{dir:"ltr",value:r,onValueChange:i},n.map(s=>(0,Oe.createElement)(OV,{key:s.id},(0,Oe.createElement)(Y5,{title:s.name||"Page",value:s.id,key:s.id,asChild:!0},(0,Oe.createElement)(PV,null,(0,Oe.createElement)("span",null,s.name||"Page"),(0,Oe.createElement)(G5,null,(0,Oe.createElement)(Jr,null,(0,Oe.createElement)(oc,null))))),(0,Oe.createElement)(xV,{page:s,onClose:e})))),(0,Oe.createElement)(Lo,null),(0,Oe.createElement)(yo,{onSelect:o,asChild:!0},(0,Oe.createElement)(e1,null,(0,Oe.createElement)("span",null,"Create Page"),(0,Oe.createElement)(Jr,null,(0,Oe.createElement)(Ow,null)))))}var OV=de("div",{display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1}}),PV=de(e1,{minWidth:128}),kV=e=>e.document.pageStates[e.appState.currentPageId].camera.zoom,HV=(0,gr.memo)(function(){let e=mt(),t=e.useStore(kV);return(0,gr.createElement)(Rn,{dir:"ltr"},(0,gr.createElement)(dr,{dir:"ltr",asChild:!0},(0,gr.createElement)(TV,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(t*100),"%")),(0,gr.createElement)(k0,{align:"end"},(0,gr.createElement)(at,{onSelect:Rt,onClick:e.zoomIn,kbd:"#+"},"Zoom In"),(0,gr.createElement)(at,{onSelect:Rt,onClick:e.zoomOut,kbd:"#\u2212"},"Zoom Out"),(0,gr.createElement)(at,{onSelect:Rt,onClick:e.resetZoom,kbd:"\u21E70"},"To 100%"),(0,gr.createElement)(at,{onSelect:Rt,onClick:e.zoomToFit,kbd:"\u21E71"},"To Fit"),(0,gr.createElement)(at,{onSelect:Rt,onClick:e.zoomToSelection,kbd:"\u21E72"},"To Selection")))}),TV=de(Ve,{minWidth:56}),VV=e=>e.appState.currentStyle,BV=e=>e.document.pageStates[e.appState.currentPageId].selectedIds,AV=Object.keys(m4),Cb={[gt.Draw]:(0,ae.createElement)(jT,null),[gt.Solid]:(0,ae.createElement)(NT,null),[gt.Dashed]:(0,ae.createElement)(BT,null),[gt.Dotted]:(0,ae.createElement)(DT,null)},DV={[fn.Small]:(0,ae.createElement)(UT,null),[fn.Medium]:(0,ae.createElement)(zT,null),[fn.Large]:(0,ae.createElement)(KT,null)},jV={[We.Start]:(0,ae.createElement)(Bw,null),[We.Middle]:(0,ae.createElement)(Tw,null),[We.End]:(0,ae.createElement)(Aw,null),[We.Justify]:(0,ae.createElement)(Vw,null)},NV=e=>e.settings.isDarkMode?"dark":"light",ZV=e=>{let{activeTool:t,currentPageId:n}=e.appState,r=e.document.pages[n];return t==="text"||e.document.pageStates[n].selectedIds.some(o=>"text"in r.shapes[o])},$V=(0,ae.memo)(function(){let e=mt(),t=e.useStore(NV),n=e.useStore(ZV),r=e.useStore(VV),o=e.useStore(BV),[i,s]=(0,ae.useState)(r),a=(0,ae.useRef)(r);(0,ae.useEffect)(()=>{let{appState:{currentStyle:h},page:m,selectedIds:v}=e,C={};if(v.length<=0)C=h;else{let g=new Set([]);e.selectedIds.map(b=>m.shapes[b]).forEach(b=>{AV.forEach(y=>{if(!g.has(y))if(C[y]===void 0)C[y]=b.style[y];else{if(C[y]===b.style[y])return;C[y]=b.style[y],g.add(y)}})})}JSON.stringify(C)!==JSON.stringify(a.current)&&(a.current=C,s(C))},[r,o]);let l=(0,ae.useCallback)(h=>{e.style({isFilled:h})},[]),c=(0,ae.useCallback)(h=>{e.style({dash:h})},[]),u=(0,ae.useCallback)(h=>{e.style({size:h})},[]),d=(0,ae.useCallback)(h=>{e.style({font:h})},[]),f=(0,ae.useCallback)(h=>{e.style({textAlign:h})},[]),p=(0,ae.useCallback)(h=>{e.setMenuOpen(h)},[e]);return(0,ae.createElement)(Rn,{dir:"ltr",onOpenChange:p},(0,ae.createElement)(dr,{asChild:!0},(0,ae.createElement)(Ve,{variant:"text"},"Styles",(0,ae.createElement)(UV,{style:{color:L0[t][i.color]}},i.isFilled&&(0,ae.createElement)(vb,{size:16,stroke:"none",fill:v4[t][i.color]}),Cb[i.dash]))),(0,ae.createElement)(k0,null,(0,ae.createElement)(H0,{variant:"tall"},(0,ae.createElement)("span",null,"Color"),(0,ae.createElement)(FV,null,Object.keys(L0.light).map(h=>(0,ae.createElement)(yo,{key:h,onSelect:Rt,asChild:!0},(0,ae.createElement)(Ve,{variant:"icon",isActive:i.color===h,onClick:()=>e.style({color:h})},(0,ae.createElement)(vb,{size:18,strokeWidth:2.5,fill:i.isFilled?v4.light[h]:"transparent",stroke:L0.light[h]})))))),(0,ae.createElement)(M1,{variant:"styleMenu",checked:!!i.isFilled,onCheckedChange:l},"Fill"),(0,ae.createElement)(H0,null,"Dash",(0,ae.createElement)(Lc,{dir:"ltr",value:i.dash,onValueChange:c},Object.values(gt).map(h=>(0,ae.createElement)(_c,{key:h,isActive:h===i.dash,value:h,onSelect:Rt,bp:Qr},Cb[h])))),(0,ae.createElement)(H0,null,"Size",(0,ae.createElement)(Lc,{dir:"ltr",value:i.size,onValueChange:u},Object.values(fn).map(h=>(0,ae.createElement)(_c,{key:h,isActive:h===i.size,value:h,onSelect:Rt,bp:Qr},DV[h])))),n&&(0,ae.createElement)(ae.Fragment,null,(0,ae.createElement)(Ci,null),(0,ae.createElement)(H0,null,"Font",(0,ae.createElement)(Lc,{dir:"ltr",value:i.font,onValueChange:d},Object.values(jt).map(h=>(0,ae.createElement)(_c,{key:h,isActive:h===i.font,value:h,onSelect:Rt,bp:Qr},(0,ae.createElement)(zV,{fontStyle:h},"Aa"))))),(0,ae.createElement)(H0,null,"Align",(0,ae.createElement)(Lc,{dir:"ltr",value:i.textAlign,onValueChange:f},Object.values(We).map(h=>(0,ae.createElement)(_c,{key:h,isActive:h===i.textAlign,value:h,onSelect:Rt,bp:Qr},jV[h])))))))}),FV=de("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),H0=de("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),Lc=de(t4,{display:"flex",flexDirection:"row",gap:"$1"}),UV=de("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),zV=de("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:{[jt.Script]:{fontFamily:"Caveat Brush"},[jt.Sans]:{fontFamily:"Recursive"},[jt.Serif]:{fontFamily:"Georgia"},[jt.Mono]:{fontFamily:"Recursive Mono"}}}});function KV({readOnly:e,showPages:t,showMenu:n,showStyles:r,showZoom:o,showSponsorLink:i}){let s=mt();return(0,On.createElement)(WV,null,(n||t)&&(0,On.createElement)(xc,{side:"left"},n&&(0,On.createElement)(yV,{showSponsorLink:i,readOnly:e}),t&&(0,On.createElement)(MV,null)),(0,On.createElement)(XV,null),(r||o)&&(0,On.createElement)(xc,{side:"right"},r&&!e&&(0,On.createElement)($V,null),(0,On.createElement)(YV,{bp:Qr},(0,On.createElement)(Ve,null,(0,On.createElement)(FT,{onClick:s.undo})),(0,On.createElement)(Ve,null,(0,On.createElement)(ZT,{onClick:s.redo}))),o&&(0,On.createElement)(HV,null)))}var WV=de("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),XV=de("div",{flexGrow:2,pointerEvents:"none"}),YV=de("div",{display:"flex",flexDirection:"row",variants:{bp:{small:{display:"inherit"},large:{display:"none"}}}}),GV=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,qV=e=>e.settings.isDebugMode,QV=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.some(t=>e.document.pages[e.appState.currentPageId].shapes[t].children!==void 0),JV=e=>e.stopPropagation(),eB=({onBlur:e,children:t})=>{let n=mt(),r=n.useStore(GV),o=n.useStore(qV),i=n.useStore(QV),s=(0,V.useRef)(null),a=(0,V.useCallback)(()=>{n.flipHorizontal()},[n]),l=(0,V.useCallback)(()=>{n.flipVertical()},[n]),c=(0,V.useCallback)(()=>{n.duplicate()},[n]),u=(0,V.useCallback)(()=>{n.toggleLocked()},[n]),d=(0,V.useCallback)(()=>{n.group()},[n]),f=(0,V.useCallback)(()=>{n.moveToBack()},[n]),p=(0,V.useCallback)(()=>{n.moveBackward()},[n]),h=(0,V.useCallback)(()=>{n.moveForward()},[n]),m=(0,V.useCallback)(()=>{n.moveToFront()},[n]),v=(0,V.useCallback)(()=>{n.delete()},[n]),C=(0,V.useCallback)(()=>{n.copyJson()},[n]),g=(0,V.useCallback)(()=>{n.cut()},[n]),b=(0,V.useCallback)(()=>{n.copy()},[n]),y=(0,V.useCallback)(()=>{n.paste()},[n]),x=(0,V.useCallback)(()=>{n.copySvg()},[n]),L=(0,V.useCallback)(()=>{n.undo()},[n]),I=(0,V.useCallback)(()=>{n.redo()},[n]),E=r>0,O=r>1,P=r>2;return(0,V.createElement)(x0,{dir:"ltr"},(0,V.createElement)(uy,{dir:"ltr"},t),(0,V.createElement)(_0,{dir:"ltr",ref:s,onEscapeKeyDown:JV,asChild:!0,tabIndex:-1,onBlur:e},(0,V.createElement)(vi,null,E?(0,V.createElement)(V.Fragment,null,(0,V.createElement)(Pt,{onClick:c,kbd:"#D"},"Duplicate"),(0,V.createElement)(Pt,{onClick:a,kbd:"\u21E7H"},"Flip Horizontal"),(0,V.createElement)(Pt,{onClick:l,kbd:"\u21E7V"},"Flip Vertical"),(0,V.createElement)(Pt,{onClick:u,kbd:"#\u21E7L"},"Lock / Unlock"),(O||i)&&(0,V.createElement)(Ci,null),O&&(0,V.createElement)(Pt,{onClick:d,kbd:"#G"},"Group"),i&&(0,V.createElement)(Pt,{onClick:d,kbd:"#G"},"Ungroup"),(0,V.createElement)(Ci,null),(0,V.createElement)(sB,{label:"Move"},(0,V.createElement)(Pt,{onClick:m,kbd:"\u21E7]"},"To Front"),(0,V.createElement)(Pt,{onClick:h,kbd:"]"},"Forward"),(0,V.createElement)(Pt,{onClick:p,kbd:"["},"Backward"),(0,V.createElement)(Pt,{onClick:f,kbd:"\u21E7["},"To Back")),(0,V.createElement)(iB,null),O&&(0,V.createElement)(tB,{hasTwoOrMore:O,hasThreeOrMore:P}),(0,V.createElement)(Ci,null),(0,V.createElement)(Pt,{onClick:g,kbd:"#X"},"Cut"),(0,V.createElement)(Pt,{onClick:b,kbd:"#C"},"Copy"),(0,V.createElement)(Pt,{onClick:x,kbd:"#\u21E7C"},"Copy as SVG"),o&&(0,V.createElement)(Pt,{onClick:C},"Copy as JSON"),(0,V.createElement)(Pt,{onClick:y,kbd:"#V"},"Paste"),(0,V.createElement)(Ci,null),(0,V.createElement)(Pt,{onClick:v,kbd:"\u232B"},"Delete")):(0,V.createElement)(V.Fragment,null,(0,V.createElement)(Pt,{onClick:y,kbd:"#V"},"Paste"),(0,V.createElement)(Pt,{onClick:L,kbd:"#Z"},"Undo"),(0,V.createElement)(Pt,{onClick:I,kbd:"#\u21E7Z"},"Redo")))))};function tB({hasThreeOrMore:e}){let t=mt(),n=(0,V.useCallback)(()=>{t.align(It.Top)},[t]),r=(0,V.useCallback)(()=>{t.align(It.CenterVertical)},[t]),o=(0,V.useCallback)(()=>{t.align(It.Bottom)},[t]),i=(0,V.useCallback)(()=>{t.stretch(xo.Vertical)},[t]),s=(0,V.useCallback)(()=>{t.distribute(_o.Vertical)},[t]),a=(0,V.useCallback)(()=>{t.align(It.Left)},[t]),l=(0,V.useCallback)(()=>{t.align(It.CenterHorizontal)},[t]),c=(0,V.useCallback)(()=>{t.align(It.Right)},[t]),u=(0,V.useCallback)(()=>{t.stretch(xo.Horizontal)},[t]),d=(0,V.useCallback)(()=>{t.distribute(_o.Horizontal)},[t]);return(0,V.createElement)(x0,{dir:"ltr"},(0,V.createElement)(J4,{isSubmenu:!0},"Align / Distribute"),(0,V.createElement)(_0,{asChild:!0,sideOffset:2,alignOffset:-2},(0,V.createElement)(nB,{numberOfSelected:e?"threeOrMore":"twoOrMore"},(0,V.createElement)(n1,{onClick:a},(0,V.createElement)(tc,null)),(0,V.createElement)(n1,{onClick:l},(0,V.createElement)(J5,null)),(0,V.createElement)(n1,{onClick:c},(0,V.createElement)(nc,null)),(0,V.createElement)(n1,{onClick:u},(0,V.createElement)(ac,null)),e&&(0,V.createElement)(n1,{onClick:d},(0,V.createElement)(ic,null)),(0,V.createElement)(n1,{onClick:n},(0,V.createElement)(rc,null)),(0,V.createElement)(n1,{onClick:r},(0,V.createElement)(ec,null)),(0,V.createElement)(n1,{onClick:o},(0,V.createElement)(Q5,null)),(0,V.createElement)(n1,{onClick:i},(0,V.createElement)(lc,null)),e&&(0,V.createElement)(n1,{onClick:s},(0,V.createElement)(sc,null)),(0,V.createElement)(Q4,{offset:13}))))}var nB=de(vi,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),rB=e=>e.appState.currentPageId,oB=e=>e.document.pages;function iB(){let e=mt(),t=e.useStore(rB),n=e.useStore(oB),r=Object.values(n).sort((o,i)=>(o.childIndex||0)-(i.childIndex||0)).filter(o=>o.id!==t);return r.length===0?null:(0,V.createElement)(x0,{dir:"ltr"},(0,V.createElement)(J4,{isSubmenu:!0},"Move To Page"),(0,V.createElement)(_0,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},(0,V.createElement)(vi,null,r.map(({id:o,name:i},s)=>(0,V.createElement)(Pt,{key:o,disabled:o===t,onClick:()=>e.moveToPage(o)},i||`Page ${s}`)),(0,V.createElement)(Q4,{offset:13}))))}function sB({children:e,label:t}){return(0,V.createElement)(x0,{dir:"ltr"},(0,V.createElement)(J4,{isSubmenu:!0},t),(0,V.createElement)(_0,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},(0,V.createElement)(vi,null,e,(0,V.createElement)(Q4,{offset:13}))))}var Q4=de(cy,{fill:"$panel"});function n1(e){var t=e,{onSelect:n}=t,r=Yr(t,["onSelect"]);return(0,V.createElement)(a4,{dir:"ltr",onSelect:n,asChild:!0},(0,V.createElement)(Ve,S({},r)))}var Pt=e=>{var t=Yr(e,[]);return(0,V.createElement)(a4,{asChild:!0},(0,V.createElement)(e1,S({},t)))},J4=e=>{var t=e,{isSubmenu:n}=t,r=Yr(t,["isSubmenu"]);return(0,V.createElement)(ly,{asChild:!0},(0,V.createElement)(e1,S({hasArrow:n},r)))};function aB({onSelect:e}){return(0,Ec.createElement)(lB,null,(0,Ec.createElement)(mb,{onClick:e},(0,Ec.createElement)(mw,null)))}var lB=de("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}});function wb({id:e,document:t,currentPageId:n,darkMode:r=!1,autofocus:o=!0,showMenu:i=!0,showPages:s=!0,showTools:a=!0,showZoom:l=!0,showStyles:c=!0,showUI:u=!0,readOnly:d=!1,showSponsorLink:f=!1,onMount:p,onChange:h,onChangePresence:m,onNewProject:v,onSaveProject:C,onSaveProjectAs:g,onOpenProject:b,onSignOut:y,onSignIn:x,onUndo:L,onRedo:I,onPersist:E,onPatch:O,onCommand:P,onChangePage:z}){let[B,q]=(0,Ee.useState)(e),[Q,re]=(0,Ee.useState)(()=>new E0(e,{onMount:p,onChange:h,onChangePresence:m,onNewProject:v,onSaveProject:C,onSaveProjectAs:g,onOpenProject:b,onSignOut:y,onSignIn:x,onUndo:L,onRedo:I,onPersist:E,onPatch:O,onCommand:P,onChangePage:z}));return(0,Ee.useEffect)(()=>{if(e===B)return;let W=new E0(e,{onMount:p,onChange:h,onChangePresence:m,onNewProject:v,onSaveProject:C,onSaveProjectAs:g,onOpenProject:b,onSignOut:y,onSignIn:x,onUndo:L,onRedo:I,onPersist:E,onPatch:O,onCommand:P,onChangePage:z});q(e),re(W)},[B,e]),(0,Ee.useEffect)(()=>{!t||(t.id===Q.document.id?Q.updateDocument(t):Q.loadDocument(t))},[t,Q]),(0,Ee.useEffect)(()=>{!n||Q.changePage(n)},[n,Q]),(0,Ee.useEffect)(()=>{Q.readOnly=d},[Q,d]),(0,Ee.useEffect)(()=>{r&&Q.settings.isDarkMode},[Q,r]),(0,Ee.useEffect)(()=>{Q.callbacks={onMount:p,onChange:h,onChangePresence:m,onNewProject:v,onSaveProject:C,onSaveProjectAs:g,onOpenProject:b,onSignOut:y,onSignIn:x,onUndo:L,onRedo:I,onPersist:E,onPatch:O,onCommand:P,onChangePage:z}},[p,h,m,v,C,g,b,y,x,L,I,E,O,P,z]),(0,Ee.createElement)(ub.Provider,{value:Q},(0,Ee.createElement)(yp,null,(0,Ee.createElement)(cB,{key:B||"Tldraw",id:B,autofocus:o,showPages:s,showMenu:i,showStyles:c,showZoom:l,showTools:a,showUI:u,showSponsorLink:f,readOnly:d})))}var cB=(0,Ee.memo)(function({id:e,autofocus:t,showPages:n,showMenu:r,showZoom:o,showStyles:i,showTools:s,showSponsorLink:a,readOnly:l,showUI:c}){var u;let d=mt(),f=(0,Ee.useRef)(null),p=d.useStore(),{document:h,settings:m,appState:v,room:C}=p,g=p.appState.activeTool==="select",b=h.pages[v.currentPageId],y=h.pageStates[b.id],{selectedIds:x}=y,L=x.length===1&&b.shapes[x[0]]&&T.getShapeUtil(b.shapes[x[0]].type).hideBounds,I=x.length===1&&b.shapes[x[0]]&&T.getShapeUtil(b.shapes[x[0]].type).hideResizeHandles,E=d.session!==void 0,O=E&&((u=d.session)==null?void 0:u.constructor.name)!=="BrushSession"||!g||L||!!y.editingId,P=E||!g,z=E&&p.appState.status!==yt.Brushing||!g,B=(0,Ee.useMemo)(()=>({isDarkMode:m.isDarkMode}),[m.isDarkMode]),q=(0,Ee.useMemo)(()=>m.isDarkMode?{brushFill:"rgba(180, 180, 180, .05)",brushStroke:"rgba(180, 180, 180, .25)",selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}:{},[m.isDarkMode]),Q=(0,Ee.useCallback)(re=>{let W=f.current;!W||!W.contains(re.relatedTarget)||(W.dispatchEvent(new Event("pointerdown",{bubbles:!0})),W.dispatchEvent(new Event("pointerup",{bubbles:!0})))},[]);return(0,Ee.createElement)(dB,{ref:f,tabIndex:-0,className:m.isDarkMode?Wk:""},(0,Ee.createElement)(uB,{focusableRef:f,autofocus:t}),(0,Ee.createElement)(eB,{onBlur:Q},(0,Ee.createElement)(em,{id:e,containerRef:f,shapeUtils:va,page:b,pageState:y,snapLines:v.snapLines,grid:da,users:C==null?void 0:C.users,userId:C==null?void 0:C.userId,theme:q,meta:B,hideBounds:O,hideHandles:P,hideResizeHandles:I,hideIndicators:z,hideBindingHandles:!m.showBindingHandles,hideCloneHandles:!m.showCloneHandles,hideRotateHandles:!m.showRotateHandles,hideGrid:!m.showGrid,onPinchStart:d.onPinchStart,onPinchEnd:d.onPinchEnd,onPinch:d.onPinch,onPan:d.onPan,onZoom:d.onZoom,onPointerDown:d.onPointerDown,onPointerMove:d.onPointerMove,onPointerUp:d.onPointerUp,onPointCanvas:d.onPointCanvas,onDoubleClickCanvas:d.onDoubleClickCanvas,onRightPointCanvas:d.onRightPointCanvas,onDragCanvas:d.onDragCanvas,onReleaseCanvas:d.onReleaseCanvas,onPointShape:d.onPointShape,onDoubleClickShape:d.onDoubleClickShape,onRightPointShape:d.onRightPointShape,onDragShape:d.onDragShape,onHoverShape:d.onHoverShape,onUnhoverShape:d.onUnhoverShape,onReleaseShape:d.onReleaseShape,onPointBounds:d.onPointBounds,onDoubleClickBounds:d.onDoubleClickBounds,onRightPointBounds:d.onRightPointBounds,onDragBounds:d.onDragBounds,onHoverBounds:d.onHoverBounds,onUnhoverBounds:d.onUnhoverBounds,onReleaseBounds:d.onReleaseBounds,onPointBoundsHandle:d.onPointBoundsHandle,onDoubleClickBoundsHandle:d.onDoubleClickBoundsHandle,onRightPointBoundsHandle:d.onRightPointBoundsHandle,onDragBoundsHandle:d.onDragBoundsHandle,onHoverBoundsHandle:d.onHoverBoundsHandle,onUnhoverBoundsHandle:d.onUnhoverBoundsHandle,onReleaseBoundsHandle:d.onReleaseBoundsHandle,onPointHandle:d.onPointHandle,onDoubleClickHandle:d.onDoubleClickHandle,onRightPointHandle:d.onRightPointHandle,onDragHandle:d.onDragHandle,onHoverHandle:d.onHoverHandle,onUnhoverHandle:d.onUnhoverHandle,onReleaseHandle:d.onReleaseHandle,onError:d.onError,onRenderCountChange:d.onRenderCountChange,onShapeChange:d.onShapeChange,onShapeBlur:d.onShapeBlur,onShapeClone:d.onShapeClone,onBoundsChange:d.updateBounds,onKeyDown:d.onKeyDown,onKeyUp:d.onKeyUp})),c&&(0,Ee.createElement)(fB,null,m.isFocusMode?(0,Ee.createElement)(aB,{onSelect:d.toggleFocusMode}):(0,Ee.createElement)(Ee.Fragment,null,(0,Ee.createElement)(KV,{readOnly:l,showPages:n,showMenu:r,showStyles:i,showZoom:o,showSponsorLink:a}),(0,Ee.createElement)(pB,null),s&&!l&&(0,Ee.createElement)(dV,{onBlur:Q}))))}),uB=(0,Ee.memo)(function({focusableRef:e,autofocus:t}){return CT(e),wT(),(0,Ee.useEffect)(()=>{var n;t&&((n=e.current)==null||n.focus())},[t]),null}),dB=de("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),fB=de("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),pB=de("div",{flexGrow:2});function e8(){let e=R1.useRef(),t=R1.useCallback(n=>{e.current=n},[]);return R1.useEffect(()=>{function n(o){let i=e.current;if(!!i)switch(o.type){case"resetZoom":{i.resetZoom();break}case"zoomIn":{i.zoomIn();break}case"zoomOut":{i.zoomOut();break}case"zoomToFit":{i.zoomToFit();break}case"zoomToSelection":{i.zoomToSelection();break}case"undo":{i.undo();break}case"redo":{i.redo();break}case"cut":{i.cut();break}case"copy":{i.copy();break}case"paste":{i.paste();break}case"delete":{i.delete();break}case"selectAll":{i.selectAll();break}case"selectNone":{i.selectNone();break}}}let{on:r}=window.TldrawBridgeApi;r("projectMsg",n)}),R1.createElement("div",{className:"tldraw"},R1.createElement(wb,{id:"electron",onMount:t,autofocus:!0,showMenu:!1}))}yb.default.render(Ic.default.createElement(Ic.default.StrictMode,null,Ic.default.createElement(e8,null)),document.getElementById("root"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * String.prototype.replaceAll() polyfill
 * https://gomakethings.com/how-to-replace-a-section-of-a-string-with-another-one-with-vanilla-js/
 * @author Chris Ferdinandi
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
// @license © 2020 Google LLC. Licensed under the Apache License, Version 2.0.
//# sourceMappingURL=index.js.map
